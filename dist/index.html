<!DOCTYPE html>
<html style="height: 100%; margin: 0; position:relative">

<head>
  <meta charset="utf-8" />
  <title>cnodes-ui test board</title>
  <style>
    svg {
      background-color: #ffffff;
      opacity: 1;
      background-image: linear-gradient(#fafafa 8px, transparent 8px), linear-gradient(90deg, #fafafa 8px, transparent 8px), linear-gradient(#fafafa 4px, transparent 4px), linear-gradient(90deg, #fafafa 4px, #ffffff 4px);
      background-size: 200px 200px, 200px 200px, 40px 40px, 40px 40px;
      background-position: -8px -8px, -8px -8px, -4px -4px, -4px -4px;
    }

    .action {
      border: none;
      border-radius: 5px;
      padding: 4px;
      margin-left: 10px;
      margin-top: 3px;
      font-weight: bold;
      font-size: 12px;
      font: sans-serif;
      background-color: rgb(247, 247, 247)
    }
  </style>
</head>

<body
  style="margin: 0; overflow: hidden; background-color: lightgray;position: absolute; top:0;left:0;right:0;bottom:0">
  <button class="action" onclick="newCanvas()">New</button>
  <button class="action" onclick="canvas.run()">Run</button>
  <button class="action" onclick="canvas.dump()">Dump</button>
  <button class="action" onclick="loadProgram()">Load</button>
  <button class="action" onclick="saveProgram()">Save</button>
  <button class="action" onclick="exampleCanvas()">Example1</button>
  <button class="action" onclick="exampleCanvas2()">Example2</button>
  <div id="cnodes"
    style="margin: 10px; border: 10px solid gray; position: absolute; top:20px; left:0; right:0; bottom:0">
  </div>

  <script type="text/javascript" src="main.js"></script>
  <script>

    let canvas = cnui.canvas('cnodes');

    // cnui.Env.registerObject(
    //   "msg",
    //   JSON.parse('{"_id":{"$oid":"5ff8acd1e0a4fc000cd9549b"},"deviceId":"99999998","timestamp":1610132688515,"parameters":{"system":{"manufacturer":"QEMU","model":"Standard PC (i440FX + PIIX, 1996)","version":"pc-i440fx-5.1","serial":"-","uuid":"","sku":"-"},"os":{"platform":"linux","distro":"Ubuntu","release":"20.04.1 LTS","codename":"Focal Fossa","kernel":"5.4.0-56-generic","arch":"x64","hostname":"poloplatform.com","codepage":"UTF-8","logofile":"ubuntu","serial":"9b2de1974b5f43f59d1a7dcabf6e578e","build":"","servicepack":"","uefi":false},"mem":{"total":63221202944,"free":62308839424,"used":912363520,"active":1144287232,"available":62076915712,"buffers":8409088,"cached":238272512,"slab":327569408,"buffcache":574251008,"swaptotal":2147479552,"swapused":12288,"swapfree":2147467264},"cpu":{"min":2.79,"max":2.79,"avg":2.79,"cores":[2.79,2.79,2.79,2.79,2.79,2.79,2.79,2.79,2.79,2.79]},"load":{"avgload":0.01,"currentload":0.2631798117764637,"currentload_user":0.1365869909219622,"currentload_system":0.12659282085450155,"currentload_nice":0,"currentload_idle":99.73682018822355,"currentload_irq":0,"raw_currentload":1580,"raw_currentload_user":820,"raw_currentload_system":760,"raw_currentload_nice":0,"raw_currentload_idle":598770,"raw_currentload_irq":0,"cpus":[{"load":0.40013337779259756,"load_user":0.21673891297099035,"load_system":0.1833944648216072,"load_nice":0,"load_idle":99.5998666222074,"load_irq":0,"raw_load":240,"raw_load_user":130,"raw_load_system":110,"raw_load_nice":0,"raw_load_idle":59740,"raw_load_irq":0},{"load":0.28328611898017,"load_user":0.13331111481419763,"load_system":0.14997500416597234,"load_nice":0,"load_idle":99.71671388101983,"load_irq":0,"raw_load":170,"raw_load_user":80,"raw_load_system":90,"raw_load_nice":0,"raw_load_idle":59840,"raw_load_irq":0},{"load":0.2663115845539281,"load_user":0.13315579227696406,"load_system":0.13315579227696406,"load_nice":0,"load_idle":99.73368841544608,"load_irq":0,"raw_load":160,"raw_load_user":80,"raw_load_system":80,"raw_load_nice":0,"raw_load_idle":59920,"raw_load_irq":0},{"load":0.06655574043261231,"load_user":0.016638935108153077,"load_system":0.04991680532445924,"load_nice":0,"load_idle":99.93344425956738,"load_irq":0,"raw_load":40,"raw_load_user":10,"raw_load_system":30,"raw_load_nice":0,"raw_load_idle":60060,"raw_load_irq":0},{"load":0.016644474034620507,"load_user":0,"load_system":0.016644474034620507,"load_nice":0,"load_idle":99.98335552596538,"load_irq":0,"raw_load":10,"raw_load_user":0,"raw_load_system":10,"raw_load_nice":0,"raw_load_idle":60070,"raw_load_irq":0},{"load":0.19990004997501248,"load_user":0.09995002498750624,"load_system":0.09995002498750624,"load_nice":0,"load_idle":99.80009995002499,"load_irq":0,"raw_load":120,"raw_load_user":60,"raw_load_system":60,"raw_load_nice":0,"raw_load_idle":59910,"raw_load_irq":0},{"load":0.016644474034620507,"load_user":0.016644474034620507,"load_system":0,"load_nice":0,"load_idle":99.98335552596538,"load_irq":0,"raw_load":10,"raw_load_user":10,"raw_load_system":0,"raw_load_nice":0,"raw_load_idle":60070,"raw_load_irq":0},{"load":0.1998001998001998,"load_user":0.08325008325008325,"load_system":0.11655011655011654,"load_nice":0,"load_idle":99.80019980019979,"load_irq":0,"raw_load":120,"raw_load_user":50,"raw_load_system":70,"raw_load_nice":0,"raw_load_idle":59940,"raw_load_irq":0},{"load":0.266755585195065,"load_user":0.1333777925975325,"load_system":0.1333777925975325,"load_nice":0,"load_idle":99.73324441480493,"load_irq":0,"raw_load":160,"raw_load_user":80,"raw_load_system":80,"raw_load_nice":0,"raw_load_idle":59820,"raw_load_irq":0},{"load":0.9174311926605505,"load_user":0.5337781484570475,"load_system":0.38365304420350294,"load_nice":0,"load_idle":99.08256880733946,"load_irq":0,"raw_load":550,"raw_load_user":320,"raw_load_system":230,"raw_load_nice":0,"raw_load_idle":59400,"raw_load_irq":0}]},"fullLoad":0.2650173083372811,"disk":[{"device":"/dev/sda","type":"HD","name":"QEMU_HARDDISK","vendor":"QEMU","size":1717986918400,"bytesPerSector":-1,"totalCylinders":-1,"totalHeads":-1,"totalSectors":-1,"totalTracks":-1,"tracksPerCylinder":-1,"sectorsPerTrack":-1,"firmwareRevision":"2.5+","serialNum":"drive-scsi0","interfaceType":"","smartStatus":"unknown"}],"diskIO":{"rIO":3189745,"wIO":14823688,"tIO":18013433,"rIO_sec":0,"wIO_sec":8.450751085455725,"tIO_sec":8.450751085455725,"ms":60113},"fsSize":[{"fs":"/dev/sda2","type":"ext4","size":1688962478080,"used":8065261568,"use":0.48,"mount":"/"},{"fs":"/dev/sda1","type":"ext4","size":966778880,"used":76685312,"use":7.93,"mount":"/boot"}],"netStats":[{"iface":"eth0","operstate":"up","rx_bytes":59976671923,"rx_dropped":0,"rx_errors":0,"tx_bytes":2253877244,"tx_dropped":0,"tx_errors":0,"rx_sec":860.2399214681463,"tx_sec":1020.3816781192286,"ms":60103}],"lastAlive":1610132630581},"serverTimestamp":1610132688524,"sensors":{"Stato CPU":{"ordinal":0,"visible":true,"value":0.2631798117764637,"unit":"{{RANGE,100,10}}","inh":{"from":"Polo Servers","color":"#FF8800"}},"CPU %":{"ordinal":1,"visible":true,"value":"0.3","unit":"%","inh":{"from":"Polo Servers","color":"#FF8800"}},"Stato disco":{"ordinal":2,"visible":true,"value":0.0048,"unit":"{{RANGE,1,10}}","inh":{"from":"Polo Servers","color":"#FF8800"}},"Disco occupato":{"ordinal":3,"visible":true,"value":"7.5","unit":"Gb","inh":{"from":"Polo Servers","color":"#FF8800"}},"Dimensioni disco":{"ordinal":4,"visible":true,"value":"1573.0","unit":"Gb","inh":{"from":"Polo Servers","color":"#FF8800"}},"Stato RAM":{"ordinal":5,"visible":true,"value":0.018099738358562798,"unit":"{{RANGE,1,10}}","inh":{"from":"Polo Servers","color":"#FF8800"}},"Memoria occupata":{"ordinal":6,"visible":true,"value":"1.1","unit":"Gb","inh":{"from":"Polo Servers","color":"#FF8800"}},"Memoria totale":{"ordinal":7,"visible":true,"value":"58.9","unit":"Gb","inh":{"from":"Polo Servers","color":"#FF8800"}},"Ultimo alive":{"ordinal":8,"visible":true,"value":1610132630581,"unit":"{{TIMESTAMP}}","inh":{"from":"Polo Servers","color":"#FF8800"}},"Ritardo alive":{"ordinal":9,"visible":true,"value":"59","unit":"s","inh":{"from":"Polo Servers","color":"#FF8800"}}}}'),
    //   {
    //     fillValues: true,
    //     forceTypes: true,
    //     recursive: true,
    //     editableOutputs: true,
    //     editableInputs: true
    //   })
    // cnui.Env.registerObject("address", {
    //   name: "Marco",
    //   lastName: "Jacovone",
    //   address: "via Umberto Moricca, 40",
    //   age: 49,
    //   family: {
    //     wife: {
    //       name: "Michela",
    //       lastName: "Massimi",
    //       age: 47
    //     },
    //     firstChild: {
    //       name: "Luca",
    //       age: 13
    //     }
    //   }
    // }, {
    //   fillValues: true,
    //   forceTypes: true,
    //   recursive: true,
    //   editableOutputs: true,
    //   editableInputs: true
    // })

    canvas.maxVBSize = 5000;
    canvas.minVBSize = 100;

    function exampleCanvas() {
      let prg = cnui.Env.import(JSON.parse(`{"id":"NID_956","version":1,"lastNodeIndex":1731,"lastSocketIndex":5617,"enter":"NID_1235","exit":"NID_1236","nodes":[{"id":"NID_1235","name":"Enter","title":"Enter","functional":false,"meta":{"pos":{"x":100,"y":100},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_3991","name":"Val","node":null,"type":"any","value":"0","canEditName":false,"peer":null}],"outputs":[{"id":"SID_3992","name":"Val","node":null,"type":"any","value":0,"cached":true,"canEditName":false,"peers":[]}],"prev":null,"nexts":[{"id":"SID_3993","name":"Begin","node":null,"peer":null}]},{"id":"NID_1236","name":"Exit","title":"Console","functional":false,"meta":{"pos":{"x":695.5383911132812,"y":-98.50469970703125},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_3994","name":"Val","node":null,"type":"any","value":"0","canEditName":false,"peer":null}],"outputs":[{"id":"SID_3995","name":"Val","node":null,"type":"any","value":"0","cached":true,"canEditName":false,"peers":[]}],"prev":{"id":"SID_3996","name":"End","node":null,"peers":[]},"nexts":[]},{"id":"NID_1243","name":"For","title":"For","functional":false,"meta":{"pos":{"x":386.08160400390625,"y":99.43911743164062},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_4015","name":"From","node":null,"type":"number","value":0,"canEditName":false,"peer":null},{"id":"SID_4016","name":"To","node":null,"type":"number","value":20,"canEditName":false,"peer":null}],"outputs":[{"id":"SID_4017","name":"Index","node":null,"type":"number","value":19,"cached":true,"canEditName":false,"peers":[]}],"prev":{"id":"SID_4020","name":"In","node":null,"peers":[]},"nexts":[{"id":"SID_4018","name":"Out","node":null,"peer":null},{"id":"SID_4019","name":"Do","node":null,"peer":null}]},{"id":"NID_1272","name":"Program","title":"Factorial(n)","functional":false,"meta":{"pos":{"x":737.5062866210938,"y":129.98941040039062},"titlePos":{"x":25,"y":-8}},"program":{"id":"NID_1272","version":1,"lastNodeIndex":1731,"lastSocketIndex":5617,"enter":"NID_1273","exit":"NID_1274","nodes":[{"id":"NID_1273","name":"Enter","title":"Enter","functional":false,"meta":{"pos":{"x":100,"y":100},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_4114","name":"Val","node":null,"type":"number","value":19,"canEditName":false,"peer":null}],"outputs":[{"id":"SID_4115","name":"Val","node":null,"type":"number","value":19,"cached":true,"canEditName":false,"peers":[]}],"prev":null,"nexts":[{"id":"SID_4116","name":"Begin","node":null,"peer":null}]},{"id":"NID_1274","name":"Exit","title":"Exit","functional":false,"meta":{"pos":{"x":1104.4833984375,"y":-149.1264190673828},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_4117","name":"Val","node":null,"type":"any","value":"6402373705728000","canEditName":false,"peer":null}],"outputs":[{"id":"SID_4118","name":"Val","node":null,"type":"any","value":6402373705728000,"cached":true,"canEditName":false,"peers":[]}],"prev":{"id":"SID_4119","name":"End","node":null,"peers":[]},"nexts":[]},{"id":"NID_1352","name":"Setvar","title":"Set Var","functional":false,"meta":{"pos":{"x":418.78607177734375,"y":-99.83367156982422},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_4372","name":"Name","node":null,"type":"string","value":"val","canEditName":false,"peer":null},{"id":"SID_4373","name":"Val","node":null,"type":"any","value":"1","canEditName":false,"peer":null}],"outputs":[{"id":"SID_4374","name":"Val","node":null,"type":"any","value":"1","cached":true,"canEditName":false,"peers":[]}],"prev":{"id":"SID_4376","name":"In","node":null,"peers":[]},"nexts":[{"id":"SID_4375","name":"Out","node":null,"peer":null}]},{"id":"NID_1383","name":"For","title":"For","functional":false,"meta":{"pos":{"x":731.0040893554688,"y":10.407867431640625},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_4467","name":"From","node":null,"type":"number","value":1,"canEditName":false,"peer":null},{"id":"SID_4468","name":"To","node":null,"type":"number","value":19,"canEditName":false,"peer":null}],"outputs":[{"id":"SID_4469","name":"Index","node":null,"type":"number","value":18,"cached":true,"canEditName":false,"peers":[]}],"prev":{"id":"SID_4472","name":"In","node":null,"peers":[]},"nexts":[{"id":"SID_4470","name":"Out","node":null,"peer":null},{"id":"SID_4471","name":"Do","node":null,"peer":null}]},{"id":"NID_1417","name":"FGetvar","title":"Get Var","functional":true,"meta":{"pos":{"x":750.6847534179688,"y":-160.42245483398438},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_4578","name":"Name","node":null,"type":"string","value":"val","canEditName":false,"peer":null}],"outputs":[{"id":"SID_4579","name":"Val","node":null,"type":"any","value":6402373705728000,"cached":false,"canEditName":false,"peers":[]}],"prev":null,"nexts":[]},{"id":"NID_1457","name":"Setvar","title":"Set Var","functional":false,"meta":{"pos":{"x":1196.84130859375,"y":156.81878662109375},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_4711","name":"Name","node":null,"type":"string","value":"val","canEditName":false,"peer":null},{"id":"SID_4712","name":"Val","node":null,"type":"number","value":6402373705728000,"canEditName":false,"peer":null}],"outputs":[{"id":"SID_4713","name":"Val","node":null,"type":"any","value":6402373705728000,"cached":true,"canEditName":false,"peers":[]}],"prev":{"id":"SID_4715","name":"In","node":null,"peers":[]},"nexts":[{"id":"SID_4714","name":"Out","node":null,"peer":null}]},{"id":"NID_1502","name":"FMul","title":"Multiply","functional":true,"meta":{"pos":{"x":933.1858520507812,"y":288.2247619628906},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_4857","name":"0","node":null,"type":"number","value":18,"canEditName":false,"peer":null},{"id":"SID_4858","name":"1","node":null,"type":"any","value":"355687428096000","canEditName":false,"peer":null}],"outputs":[{"id":"SID_4859","name":"Val","node":null,"type":"number","value":6402373705728000,"cached":false,"canEditName":false,"peers":[]}],"prev":null,"nexts":[]},{"id":"NID_1522","name":"FGetvar","title":"Get Var","functional":true,"meta":{"pos":{"x":593.7399291992188,"y":348.3705139160156},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_4917","name":"Name","node":null,"type":"string","value":"val","canEditName":false,"peer":null}],"outputs":[{"id":"SID_4918","name":"Val","node":null,"type":"any","value":355687428096000,"cached":false,"canEditName":false,"peers":[]}],"prev":null,"nexts":[]}],"connections":[{"type":"io","sourceNode":"NID_1273","sourceSocket":"SID_4115","targetNode":"NID_1383","targetSocket":"SID_4468"},{"type":"pn","sourceNode":"NID_1273","sourceSocket":"SID_4116","targetNode":"NID_1352","targetSocket":"SID_4376"},{"type":"pn","sourceNode":"NID_1383","sourceSocket":"SID_4470","targetNode":"NID_1274","targetSocket":"SID_4119"},{"type":"io","sourceNode":"NID_1417","sourceSocket":"SID_4579","targetNode":"NID_1274","targetSocket":"SID_4117"},{"type":"pn","sourceNode":"NID_1352","sourceSocket":"SID_4375","targetNode":"NID_1383","targetSocket":"SID_4472"},{"type":"io","sourceNode":"NID_1383","sourceSocket":"SID_4469","targetNode":"NID_1502","targetSocket":"SID_4857"},{"type":"pn","sourceNode":"NID_1383","sourceSocket":"SID_4471","targetNode":"NID_1457","targetSocket":"SID_4715"},{"type":"io","sourceNode":"NID_1502","sourceSocket":"SID_4859","targetNode":"NID_1457","targetSocket":"SID_4712"},{"type":"io","sourceNode":"NID_1522","sourceSocket":"SID_4918","targetNode":"NID_1502","targetSocket":"SID_4858"}]},"inputs":[{"id":"SID_4110","name":"Val","node":null,"type":"number","value":19,"canEditName":false,"peer":null}],"outputs":[{"id":"SID_4111","name":"Val","node":null,"type":"any","value":6402373705728000,"cached":true,"canEditName":false,"peers":[]}],"prev":{"id":"SID_4113","name":"In","node":null,"peers":[]},"nexts":[{"id":"SID_4112","name":"Out","node":null,"peer":null}]},{"id":"NID_1311","name":"Console","title":"Console","functional":false,"meta":{"pos":{"x":1051.0467529296875,"y":130.1541748046875},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_4236","name":"Val","node":null,"type":"any","value":"6402373705728000","canEditName":false,"peer":null}],"outputs":[],"prev":{"id":"SID_4238","name":"In","node":null,"peers":[]},"nexts":[{"id":"SID_4237","name":"Out","node":null,"peer":null}]}],"connections":[{"type":"pn","sourceNode":"NID_1235","sourceSocket":"SID_3993","targetNode":"NID_1243","targetSocket":"SID_4020"},{"type":"pn","sourceNode":"NID_1243","sourceSocket":"SID_4018","targetNode":"NID_1236","targetSocket":"SID_3996"},{"type":"io","sourceNode":"NID_1243","sourceSocket":"SID_4017","targetNode":"NID_1272","targetSocket":"SID_4110"},{"type":"pn","sourceNode":"NID_1243","sourceSocket":"SID_4019","targetNode":"NID_1272","targetSocket":"SID_4113"},{"type":"io","sourceNode":"NID_1272","sourceSocket":"SID_4111","targetNode":"NID_1311","targetSocket":"SID_4236"},{"type":"pn","sourceNode":"NID_1272","sourceSocket":"SID_4112","targetNode":"NID_1311","targetSocket":"SID_4238"}]}`));
      canvas.program = prg;
    }

    function exampleCanvas2() {

      let prg = cnui.Env.import(JSON.parse(`{"id":"NID_328","version":1,"lastNodeIndex":956,"lastSocketIndex":3484,"enter":"NID_357","exit":"NID_358","nodes":[{"id":"NID_357","name":"Enter","title":"Enter","functional":false,"meta":{"pos":{"x":-349.9272918701172,"y":11.183731079101562},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_1194","name":"Val","node":null,"type":"any","value":0,"canEditName":false,"peer":null}],"outputs":[{"id":"SID_1195","name":"Val","node":null,"type":"any","value":0,"cached":true,"canEditName":false,"peers":[]}],"prev":null,"nexts":[{"id":"SID_1196","name":"Begin","node":null,"peer":null}]},{"id":"NID_358","name":"Exit","title":"Exit","functional":false,"meta":{"pos":{"x":588.8255615234375,"y":11.238018035888672},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_1197","name":"Val","node":null,"type":"any","value":"0","canEditName":false,"peer":null}],"outputs":[{"id":"SID_1198","name":"Val","node":null,"type":"any","value":"0","cached":true,"canEditName":false,"peers":[]}],"prev":{"id":"SID_1199","name":"End","node":null,"peers":[]},"nexts":[]},{"id":"NID_363","name":"Console","title":"Console","functional":false,"meta":{"pos":{"x":-38.12510681152344,"y":11.672353744506836},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_1213","name":"Val","node":null,"type":"any","value":"start...","canEditName":false,"peer":null}],"outputs":[],"prev":{"id":"SID_1215","name":"In","node":null,"peers":[]},"nexts":[{"id":"SID_1214","name":"Out","node":null,"peer":null}]},{"id":"NID_400","name":"For","title":"For","functional":false,"meta":{"pos":{"x":-9.358200073242188,"y":287.1058807373047},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_1331","name":"From","node":null,"type":"number","value":0,"canEditName":false,"peer":null},{"id":"SID_1332","name":"To","node":null,"type":"number","value":10,"canEditName":false,"peer":null}],"outputs":[{"id":"SID_1333","name":"Index","node":null,"type":"number","value":9,"cached":true,"canEditName":false,"peers":[]}],"prev":{"id":"SID_1336","name":"In","node":null,"peers":[]},"nexts":[{"id":"SID_1334","name":"Out","node":null,"peer":null},{"id":"SID_1335","name":"Do","node":null,"peer":null}]},{"id":"NID_433","name":"Console","title":"Console","functional":false,"meta":{"pos":{"x":1485.435546875,"y":319.3956298828125},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_1439","name":"Val","node":null,"type":"string","value":"Itaration n.9 (odd)","canEditName":false,"peer":null}],"outputs":[],"prev":{"id":"SID_1441","name":"In","node":null,"peers":[]},"nexts":[{"id":"SID_1440","name":"Out","node":null,"peer":null}]},{"id":"NID_508","name":"FIf","title":"If","functional":true,"meta":{"pos":{"x":879.0234375,"y":650.052001953125},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_1690","name":"Condition","node":null,"type":"boolean","value":false,"canEditName":false,"peer":null},{"id":"SID_1691","name":"True","node":null,"type":"any","value":"even","canEditName":false,"peer":null},{"id":"SID_1692","name":"False","node":null,"type":"any","value":"odd","canEditName":false,"peer":null}],"outputs":[{"id":"SID_1693","name":"Val","node":null,"type":"any","value":"odd","cached":false,"canEditName":false,"peers":[]}],"prev":null,"nexts":[]},{"id":"NID_556","name":"FEqual","title":"==","functional":true,"meta":{"pos":{"x":556.0952758789062,"y":680.1498413085938},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_1845","name":"Val1","node":null,"type":"number","value":1,"canEditName":false,"peer":null},{"id":"SID_1846","name":"Val2","node":null,"type":"number","value":0,"canEditName":false,"peer":null}],"outputs":[{"id":"SID_1847","name":"Val","node":null,"type":"boolean","value":false,"cached":false,"canEditName":false,"peers":[]}],"prev":null,"nexts":[]},{"id":"NID_588","name":"FMod","title":"%","functional":true,"meta":{"pos":{"x":244.97076416015625,"y":614.55224609375},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_1950","name":"Val1","node":null,"type":"number","value":9,"canEditName":false,"peer":null},{"id":"SID_1951","name":"Val2","node":null,"type":"number","value":2,"canEditName":false,"peer":null}],"outputs":[{"id":"SID_1952","name":"Val","node":null,"type":"number","value":1,"cached":false,"canEditName":false,"peers":[]}],"prev":null,"nexts":[]},{"id":"NID_620","name":"FNConst","title":"N Const","functional":true,"meta":{"pos":{"x":245.09242248535156,"y":804.2457275390625},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_2055","name":"Val","node":null,"type":"any","value":"0","canEditName":false,"peer":null}],"outputs":[{"id":"SID_2056","name":"Val","node":null,"type":"number","value":0,"cached":false,"canEditName":false,"peers":[]}],"prev":null,"nexts":[]},{"id":"NID_643","name":"Console","title":"Console","functional":false,"meta":{"pos":{"x":282.8063049316406,"y":13.253865242004395},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_2123","name":"Val","node":null,"type":"any","value":"end","canEditName":false,"peer":null}],"outputs":[],"prev":{"id":"SID_2125","name":"In","node":null,"peers":[]},"nexts":[{"id":"SID_2124","name":"Out","node":null,"peer":null}]},{"id":"NID_828","name":"FSConst","title":"toString()","functional":true,"meta":{"pos":{"x":877.71875,"y":479.0966796875},"titlePos":{"x":25,"y":-8}},"inputs":[{"id":"SID_2730","name":"Val","node":null,"type":"number","value":9,"canEditName":false,"peer":null}],"outputs":[{"id":"SID_2731","name":"Val","node":null,"type":"string","value":"9","cached":false,"canEditName":false,"peers":[]}],"prev":null,"nexts":[]},{"id":"NID_864","name":"FConcat","title":"FConcat","functional":true,"meta":{"titlePos":{"x":25,"y":-8},"pos":{"x":1249.2984619140625,"y":492.041015625}},"inputs":[{"id":"SID_2848","name":"0","node":null,"type":"string","value":"Itaration ","canEditName":false,"peer":null},{"id":"SID_2849","name":"1","node":null,"type":"string","value":"n.","canEditName":false,"peer":null},{"id":"SID_3480","name":"2","node":null,"type":"string","value":"9","canEditName":false,"peer":null},{"id":"SID_3481","name":"3","node":null,"type":"string","value":" (","canEditName":false,"peer":null},{"id":"SID_3482","name":"4","node":null,"type":"string","value":"odd","canEditName":false,"peer":null},{"id":"SID_3483","name":"5","node":null,"type":"string","value":")","canEditName":false,"peer":null}],"outputs":[{"id":"SID_2850","name":"Val","node":null,"type":"string","value":"Itaration n.9 (odd)","cached":false,"canEditName":false,"peers":[]}],"prev":null,"nexts":[]}],"connections":[{"type":"pn","sourceNode":"NID_357","sourceSocket":"SID_1196","targetNode":"NID_363","targetSocket":"SID_1215"},{"type":"pn","sourceNode":"NID_643","sourceSocket":"SID_2124","targetNode":"NID_358","targetSocket":"SID_1199"},{"type":"pn","sourceNode":"NID_363","sourceSocket":"SID_1214","targetNode":"NID_400","targetSocket":"SID_1336"},{"type":"io","sourceNode":"NID_400","sourceSocket":"SID_1333","targetNode":"NID_588","targetSocket":"SID_1950"},{"type":"io","sourceNode":"NID_400","sourceSocket":"SID_1333","targetNode":"NID_828","targetSocket":"SID_2730"},{"type":"pn","sourceNode":"NID_400","sourceSocket":"SID_1334","targetNode":"NID_643","targetSocket":"SID_2125"},{"type":"pn","sourceNode":"NID_400","sourceSocket":"SID_1335","targetNode":"NID_433","targetSocket":"SID_1441"},{"type":"io","sourceNode":"NID_864","sourceSocket":"SID_2850","targetNode":"NID_433","targetSocket":"SID_1439"},{"type":"io","sourceNode":"NID_556","sourceSocket":"SID_1847","targetNode":"NID_508","targetSocket":"SID_1690"},{"type":"io","sourceNode":"NID_508","sourceSocket":"SID_1693","targetNode":"NID_864","targetSocket":"SID_3482"},{"type":"io","sourceNode":"NID_588","sourceSocket":"SID_1952","targetNode":"NID_556","targetSocket":"SID_1845"},{"type":"io","sourceNode":"NID_620","sourceSocket":"SID_2056","targetNode":"NID_556","targetSocket":"SID_1846"},{"type":"io","sourceNode":"NID_828","sourceSocket":"SID_2731","targetNode":"NID_864","targetSocket":"SID_3480"}]}`));
      canvas.program = prg;
    }

    function saveProgram() {
      localStorage.setItem("lastProgram", JSON.stringify(cnui.Env.export(canvas.program)));
    }

    function loadProgram() {
      canvas.program = cnui.Env.import(JSON.parse(localStorage.getItem("lastProgram")));
    }

    function newCanvas() {
      let prg = new cnui.Program();
      prg.exit.meta = {
        pos: {
          x: 700,
          y: 100
        }
      }
      canvas.program = prg;
    };

    newCanvas();

  </script>
</body>

</html>
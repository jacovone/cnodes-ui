var cnui;cnui=(()=>{"use strict";var t={671:(t,e,n)=>{function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function i(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}n.r(e),n.d(e,{Call:()=>sr,Canvas:()=>pt,CnodeComponent:()=>In,CnodesCanvas:()=>Vn,Comparision:()=>Yo,Component:()=>k,Console:()=>wr,Env:()=>Jo,FAdd:()=>go,FCompare:()=>Qo,FDiv:()=>Co,FGetvar:()=>Rr,FMul:()=>Wo,FlowSocket:()=>oe,For:()=>Ir,Getvar:()=>Ur,If:()=>lo,InputSocket:()=>ee,NextSocket:()=>ae,Node:()=>tr,OutputSocket:()=>re,Position:()=>s,PrevSocket:()=>ue,Program:()=>yi,Result:()=>nr,Setvar:()=>Qr,Socket:()=>Zt,Theme:()=>ye,Type:()=>St,Types:()=>_t,ValueSocket:()=>Jt,While:()=>ro,callNode:()=>fr,canvas:()=>bi,consoleNode:()=>dr,faddNode:()=>Eo,fcompareNode:()=>Zo,fdivNode:()=>To,fgetvarNode:()=>Sr,fmulNode:()=>Vo,forNode:()=>xr,getvarNode:()=>Br,ifNode:()=>po,program:()=>hi,setvarNode:()=>Zr,type:()=>kt,whileNode:()=>oo});var u=new WeakMap,a=new WeakMap,s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u.set(this,{writable:!0,value:0}),a.set(this,{writable:!0,value:0}),i(this,u,e),i(this,a,n)}var e,n;return e=t,(n=[{key:"add",value:function(e){return new t(o(this,u)+e.x,o(this,a)+e.y)}},{key:"sub",value:function(e){return new t(o(this,u)-e.x,o(this,a)-e.y)}},{key:"x",get:function(){return o(this,u)},set:function(t){i(this,u,t)}},{key:"y",get:function(){return o(this,a)},set:function(t){i(this,a,t)}}])&&r(e.prototype,n),t}();function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function y(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function h(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var b=new WeakMap,v=new WeakMap,w=new WeakMap,d=new WeakMap,O=new WeakMap,m=new WeakMap,g=new WeakMap,E=new WeakMap,_=new WeakMap,N=new WeakSet,R=new WeakSet,S=new WeakSet,k=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),S.add(this),R.add(this),N.add(this),b.set(this,{writable:!0,value:null}),v.set(this,{writable:!0,value:null}),w.set(this,{writable:!0,value:null}),d.set(this,{writable:!0,value:!0}),O.set(this,{writable:!0,value:new s(0,0)}),m.set(this,{writable:!0,value:!1}),g.set(this,{writable:!0,value:null}),E.set(this,{writable:!0,value:null}),_.set(this,{writable:!0,value:[]})}var e,n;return e=t,(n=[{key:"setup",value:function(){var t=this;h(this,v,this.createElement()),y(this,v).componentRef=this,this.moveable&&(y(this,v).addEventListener("pointerdown",(function(e){p(t,N,P).call(t,e)})),y(this,v).addEventListener("pointerup",(function(e){p(t,R,C).call(t,e)})),y(this,v).addEventListener("pointermove",(function(e){p(t,S,T).call(t,e)})))}},{key:"createElement",value:function(){throw new Error("Element must be defined in a subclass!")}},{key:"updateSVGElement",value:function(){var t=this.absPos;y(this,v).setAttribute("transform","translate(".concat(t.x,",").concat(t.y,")"));var e,n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}(y(this,_));try{for(n.s();!(e=n.n()).done;)e.value.updateSVGElement()}catch(t){n.e(t)}finally{n.f()}this.canvas&&this.canvas.updateAllConnections()}},{key:"addComponent",value:function(t){y(this,_).push(t),t.parent=this,t.canvas=this.canvas,this.svgEl.appendChild(t.componentEl),t.updateSVGElement()}},{key:"removeComponent",value:function(t){this.components=y(this,_).filter((function(e){return e!==t})),this.svgEl.removeChild(t.componentEl)}},{key:"destroy",value:function(){}},{key:"pos",get:function(){return y(this,O)},set:function(t){h(this,O,t),this.updateSVGElement()}},{key:"canvas",get:function(){return y(this,b)},set:function(t){h(this,b,t)}},{key:"componentEl",get:function(){return y(this,v)}},{key:"svgEl",get:function(){return y(this,b).svgEl}},{key:"moveable",get:function(){return y(this,d)},set:function(t){h(this,d,t)}},{key:"parent",get:function(){return y(this,w)},set:function(t){h(this,w,t)}},{key:"absPos",get:function(){var t=new s(y(this,O).x,y(this,O).y);if(y(this,w)){var e=y(this,w).absPos;t=t.add(e)}return t}}])&&l(e.prototype,n),t}(),P=function(t){y(this,d)&&(h(this,m,!0),h(this,g,y(this,b).clientToSvgPoint(t.clientX,t.clientY)),h(this,E,y(this,b).svgEl.createSVGPoint()),y(this,E).x=y(this,O).x,y(this,E).y=y(this,O).y,y(this,v).setPointerCapture(t.pointerId),t.stopPropagation())},C=function(t){y(this,d)&&(h(this,m,!1),y(this,v).releasePointerCapture(t.pointerId),t.stopPropagation())},T=function(t){if(y(this,d)){if(!y(this,m))return;var e=y(this,b).clientToSvgPoint(t.clientX,t.clientY),n=e.x-y(this,g).x,r=e.y-y(this,g).y;y(this,O).x=n+y(this,E).x,y(this,O).y=r+y(this,E).y,this.updateSVGElement(),t.stopPropagation()}};function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I(t,e,n){return(I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=L(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j(t,e){return!e||"object"!==D(e)&&"function"!=typeof e?M(t):e}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function W(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function V(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var F=new WeakMap,U=new WeakMap,B=new WeakMap,X=new WeakMap,H=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=L(r);if(o){var n=L(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return j(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),e=i.call(this),F.set(M(e),{writable:!0,value:!1}),U.set(M(e),{writable:!0,value:null}),B.set(M(e),{writable:!0,value:null}),X.set(M(e),{writable:!0,value:null}),V(M(e),B,t),e}return e=u,(n=[{key:"setup",value:function(){this.moveable=!1,I(L(u.prototype),"setup",this).call(this);var t=this;this.componentEl.addEventListener("pointerdown",(function(e){t.onPointerDown(e)})),this.componentEl.addEventListener("pointerup",(function(e){t.onPointerUp(e)})),this.componentEl.addEventListener("pointermove",(function(e){t.onPointerMove(e)}))}},{key:"onPointerDown",value:function(t){if(this.hasSingleConnection&&this.isConnected){this.getPeerComponent().onPointerDown(t);var e=this.canvas.getConnectionsFor(this)[0];this.canvas.removeConnection(e),t.stopPropagation()}else V(this,F,!0),this.componentEl.setPointerCapture(t.pointerId),t.stopPropagation(),this.connectionStarted()}},{key:"onPointerUp",value:function(t){if(V(this,F,!1),this.componentEl.releasePointerCapture(t.pointerId),t.stopPropagation(),W(this,U)){var e=W(this,U);V(this,U,null),this.connectionDone(e)}else this.connectionCancelled()}},{key:"onPointerMove",value:function(t){if(W(this,F)){var e=this.canvas.componentFromPosition(t.clientX,t.clientY,!0),n=this.canvas.clientToSvgPoint(t.clientX,t.clientY);e?this.canAcceptPeerSocket(e)?(V(this,U,e),this.connectionMoving(n.x,n.y,!1)):(V(this,U,null),this.connectionMoving(n.x,n.y,!0)):(V(this,U,null),this.connectionMoving(n.x,n.y,!1)),t.stopPropagation()}}},{key:"connectionStarted",value:function(){V(this,X,document.createElementNS("http://www.w3.org/2000/svg","path")),W(this,X).setAttribute("d","\n      M ".concat(this.absPos.x," ").concat(this.absPos.y,"\n    ")),this.canvas.connectionsEl.appendChild(W(this,X))}},{key:"connectionMoving",value:function(t,e,n){var r=new s(this.absPos.x,this.absPos.y),o=new s(this.currentPeerSocketComponent?this.currentPeerSocketComponent.absPos.x:t,this.currentPeerSocketComponent?this.currentPeerSocketComponent.absPos.y:e);W(this,X).setAttribute("d","\n      M ".concat(r.x," ").concat(r.y,"\n      L ").concat(o.x," ").concat(o.y,"\n    ")),W(this,X).setAttribute("stroke-width",2),W(this,X).setAttribute("stroke","black"),W(this,X).setAttribute("fill","transparent")}},{key:"connectionDone",value:function(t){this.canvas.connectionsEl.removeChild(W(this,X))}},{key:"connectionCancelled",value:function(){this.canvas.connectionsEl.removeChild(W(this,X))}},{key:"canAcceptPeerSocket",value:function(t){throw new Error("This method must be overridden in a subclass!")}},{key:"getPeerComponent",value:function(){if(this.hasSingleConnection){var t=this.canvas.getConnectionsFor(this)[0];return this===t.source?t.target:t.source}return null}},{key:"connecting",get:function(){return W(this,F)},set:function(t){V(this,F,t)}},{key:"currentPeerSocketComponent",get:function(){return W(this,U)}},{key:"tempConnectionEl",get:function(){return W(this,X)}},{key:"hasSingleConnection",get:function(){throw new Error("This method must be overridden in a subclass!")}},{key:"isConnected",get:function(){return this.canvas.getConnectionsFor(this).length>0}},{key:"socket",get:function(){return W(this,B)}}])&&A(e.prototype,n),u}(k);function G(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Y(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function $(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function Q(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var Z=new WeakMap,q=new WeakMap,z=new WeakMap,J=new WeakMap,tt=new WeakMap,et=new WeakMap,nt=new WeakMap,rt=new WeakMap,ot=new WeakMap,it=new WeakMap,ut=new WeakSet,ct=new WeakSet,at=new WeakSet,st=new WeakSet,ft=new WeakSet,lt=new WeakSet,pt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),lt.add(this),ft.add(this),st.add(this),at.add(this),ct.add(this),ut.add(this),Z.set(this,{writable:!0,value:null}),q.set(this,{writable:!0,value:null}),z.set(this,{writable:!0,value:0}),J.set(this,{writable:!0,value:0}),tt.set(this,{writable:!0,value:100}),et.set(this,{writable:!0,value:100}),nt.set(this,{writable:!0,value:!1}),rt.set(this,{writable:!0,value:void 0}),ot.set(this,{writable:!0,value:[]}),it.set(this,{writable:!0,value:[]}),Q(this,Z,document.createElementNS("http://www.w3.org/2000/svg","svg")),$(this,Z).style.width="100%",$(this,Z).style.height="100%",e.appendChild($(this,Z)),Q(this,q,document.createElementNS("http://www.w3.org/2000/svg","g")),$(this,Z).appendChild($(this,q)),Y(this,ct,ht).call(this);var n=this;window.addEventListener("resize",(function(){Y(n,ct,ht).call(n)})),$(this,Z).addEventListener("wheel",(function(t){Y(n,at,bt).call(n,t)})),$(this,Z).addEventListener("pointerdown",(function(t){Y(n,st,vt).call(n,t)})),$(this,Z).addEventListener("pointerup",(function(t){Y(n,ft,wt).call(n,t)})),$(this,Z).addEventListener("pointermove",(function(t){Y(n,lt,dt).call(n,t)}))}var e,n;return e=t,(n=[{key:"clientToSvgPoint",value:function(t,e){t-=$(this,Z).getBoundingClientRect().left,e-=$(this,Z).getBoundingClientRect().top;var n=$(this,Z).createSVGPoint();return n.x=t,n.y=e,n.matrixTransform($(this,Z).getCTM().inverse())}},{key:"componentFromPosition",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=document.elementFromPoint(t,e);r;){if(r.componentRef&&(!n||r.componentRef instanceof H))return r.componentRef;r=r.parentElement}return null}},{key:"addConnection",value:function(t){$(this,it).push(t),t.canvas=this,$(this,q).appendChild(t.connectionEl)}},{key:"removeConnection",value:function(t){t.destroy(),Q(this,it,$(this,it).filter((function(e){return e!==t}))),$(this,q).removeChild(t.connectionEl)}},{key:"addComponent",value:function(t){$(this,ot).push(t),t.canvas=this,$(this,Z).appendChild(t.componentEl)}},{key:"removeComponent",value:function(t){c.destroy(),this.components=$(this,ot).filter((function(e){return e!==t})),$(this,Z).removeChild(t.componentEl),$(this,it).forEach((function(e){e.source!==t&&e.target!==t||e.destroy()})),Q(this,it,$(this,it).filter((function(e){return e.source!==t&&e.target!==t})))}},{key:"updateAllConnections",value:function(){var t,e=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return G(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}($(this,it));try{for(e.s();!(t=e.n()).done;)t.value.updateSVGElement()}catch(t){e.e(t)}finally{e.f()}}},{key:"getConnectionsFor",value:function(t){return $(this,it).filter((function(e){return e.source===t||e.target===t}))}},{key:"svgEl",get:function(){return $(this,Z)}},{key:"connectionsEl",get:function(){return $(this,q)}}])&&K(e.prototype,n),t}(),yt=function(){$(this,Z).setAttribute("viewBox","".concat($(this,z)," ").concat($(this,J)," ").concat($(this,tt)," ").concat($(this,et)))},ht=function(){Q(this,tt,$(this,Z).parentElement.clientWidth),Q(this,et,$(this,Z).parentElement.clientHeight),Y(this,ut,yt).call(this)},bt=function(t){var e=this.clientToSvgPoint(t.clientX,t.clientY),n=1+.003*t.deltaY,r=$(this,tt)*n,o=$(this,et)*n;if(!(o<10||r<10||o>5e4||r>5e4)){var i=$(this,z)-(r-$(this,tt))*((e.x-$(this,z))/$(this,tt)),u=$(this,J)-(o-$(this,et))*((e.y-$(this,J))/$(this,et));Q(this,et,o),Q(this,tt,r),Q(this,z,i),Q(this,J,u),Y(this,ut,yt).call(this),t.stopPropagation()}},vt=function(t){Q(this,nt,!0),Q(this,rt,this.clientToSvgPoint(t.clientX,t.clientY)),$(this,Z).setPointerCapture(t.pointerId)},wt=function(t){Q(this,nt,!1),$(this,Z).releasePointerCapture(t.pointerId)},dt=function(t){if($(this,nt)){var e=this.clientToSvgPoint(t.clientX,t.clientY),n=e.x-$(this,rt).x,r=e.y-$(this,rt).y;Q(this,z,$(this,z)-n),Q(this,J,$(this,J)-r),Y(this,ut,yt).call(this)}};function Ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mt(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function gt(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var Et,_t={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",OBJECT:"object",ANY:"any"},Nt=new WeakMap,Rt=new WeakMap,St=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Nt.set(this,{writable:!0,value:_t.NUMBER}),Rt.set(this,{writable:!0,value:!1}),gt(this,Nt,e),gt(this,Rt,n)}var e,n;return e=t,(n=[{key:"type",get:function(){return mt(this,Nt)},set:function(t){gt(this,Nt,t)}},{key:"isArray",get:function(){return mt(this,Rt)},set:function(t){gt(this,Rt,t)}}])&&Ot(e.prototype,n),t}();function kt(t,e){return new St(t,e)}var Pt=new Uint8Array(16);function Ct(){if(!Et&&!(Et="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Et(Pt)}const Tt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Dt=function(t){return"string"==typeof t&&Tt.test(t)};for(var At=[],It=0;It<256;++It)At.push((It+256).toString(16).substr(1));const xt=function(t,e,n){var r=(t=t||{}).random||(t.rng||Ct)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(At[t[e+0]]+At[t[e+1]]+At[t[e+2]]+At[t[e+3]]+"-"+At[t[e+4]]+At[t[e+5]]+"-"+At[t[e+6]]+At[t[e+7]]+"-"+At[t[e+8]]+At[t[e+9]]+"-"+At[t[e+10]]+At[t[e+11]]+At[t[e+12]]+At[t[e+13]]+At[t[e+14]]+At[t[e+15]]).toLowerCase();if(!Dt(n))throw TypeError("Stringified UUID is invalid");return n}(r)};function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lt(t,e)}function Lt(t,e){return(Lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ut(t);if(e){var o=Ut(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vt(this,n)}}function Vt(t,e){return!e||"object"!==jt(e)&&"function"!=typeof e?Ft(t):e}function Ft(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ut(t){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ht(t,e,n){return e&&Xt(t.prototype,e),n&&Xt(t,n),t}function Gt(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function Kt(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var Yt=new WeakMap,$t=new WeakMap,Qt=new WeakMap,Zt=function(){function t(e,n){Bt(this,t),Yt.set(this,{writable:!0,value:""}),$t.set(this,{writable:!0,value:""}),Qt.set(this,{writable:!0,value:null}),Kt(this,Yt,xt()),Kt(this,$t,e),Kt(this,Qt,n)}return Ht(t,[{key:"id",get:function(){return Gt(this,Yt)}},{key:"name",get:function(){return Gt(this,$t)},set:function(t){Kt(this,$t,t)}},{key:"node",get:function(){return Gt(this,Qt)},set:function(t){Kt(this,Qt,t)}}]),t}(),qt=new WeakMap,zt=new WeakMap,Jt=function(t){Mt(n,t);var e=Wt(n);function n(t,r){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i(_t.NUMBER,!1);return Bt(this,n),o=e.call(this,t,r),qt.set(Ft(o),{writable:!0,value:kt(_t.NUMBER,!1)}),zt.set(Ft(o),{writable:!0,value:0}),o}return Ht(n,[{key:"type",get:function(){return Gt(this,qt)},set:function(t){Kt(this,qt,t)}},{key:"value",get:function(){return Gt(this,zt)},set:function(t){Kt(this,zt,t)}}]),n}(Zt),te=new WeakMap,ee=function(t){Mt(n,t);var e=Wt(n);function n(t,r,o,i){var u;return Bt(this,n),u=e.call(this,t,r,o,i),te.set(Ft(u),{writable:!0,value:null}),u}return Ht(n,[{key:"evaluate",value:function(){null!==this.peer&&(this.peer.node&&this.peer.node.functional&&this.peer.node.process(),this.type=this.peer.type,this.value=this.peer.value)}},{key:"connect",value:function(t){var e=this;this.peer=t,void 0===t.peers.find((function(t){return t.peer===e}))&&t.peers.push(this)}},{key:"disconnect",value:function(t){var e=this;this.peer=null;var n=t.peers.findIndex((function(t){return t.peer===e}));-1!==n&&t.peers.splice(n,1)}},{key:"peer",get:function(){return Gt(this,te)},set:function(t){Kt(this,te,t)}}]),n}(Jt),ne=new WeakMap,re=function(t){Mt(n,t);var e=Wt(n);function n(t,r,o,i){var u;return Bt(this,n),u=e.call(this,t,r,i,o),ne.set(Ft(u),{writable:!0,value:[]}),u}return Ht(n,[{key:"connect",value:function(t){void 0===this.peers.find((function(e){return e.peer===t}))&&this.peers.push(t),t.peer=this}},{key:"disconnect",value:function(t){var e=this.peers.find((function(e){return e.peer===t}));void 0!==e&&(this.peers.splice(e,1),t.peer=null)}},{key:"peers",get:function(){return Gt(this,ne)},set:function(t){Kt(this,ne,t)}}]),n}(Jt),oe=function(t){Mt(n,t);var e=Wt(n);function n(t,r){return Bt(this,n),e.call(this,t,r)}return n}(Zt),ie=new WeakMap,ue=function(t){Mt(n,t);var e=Wt(n);function n(t,r){var o;return Bt(this,n),o=e.call(this,t,r),ie.set(Ft(o),{writable:!0,value:[]}),o}return Ht(n,[{key:"connect",value:function(t){void 0===this.peers.find((function(e){return e.peer===t}))&&this.peers.push(t),t.peer=this}},{key:"disconnect",value:function(t){var e=this.peers.find((function(e){return e.peer===t}));void 0!==e&&(this.peers.splice(e,1),t.peer=null)}},{key:"peers",get:function(){return Gt(this,ie)},set:function(t){Kt(this,ie,t)}}]),n}(oe),ce=new WeakMap,ae=function(t){Mt(n,t);var e=Wt(n);function n(t,r){var o;return Bt(this,n),o=e.call(this,t,r),ce.set(Ft(o),{writable:!0,value:null}),o}return Ht(n,[{key:"connect",value:function(t){var e=this;this.peer=t,void 0===t.peers.find((function(t){return t.peer===e}))&&t.peers.push(this)}},{key:"disconnect",value:function(t){var e=this;this.peer=null;var n=t.peers.findIndex((function(t){return t.peer===e}));-1!==n&&t.peers.splice(n,1)}},{key:"peer",get:function(){return Gt(this,ce)},set:function(t){Kt(this,ce,t)}}]),n}(oe);function se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var fe,le,pe,ye=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"NODE_WIDTH",get:function(){return 200}},{key:"NODE_BORDER_RADIUS",get:function(){return 15}},{key:"NODE_FILL_COLOR",get:function(){return"#FAD7A0"}},{key:"NODE_FUNCTIONAL_FILL_COLOR",get:function(){return"#C5F0FF"}},{key:"NODE_STROKE_COLOR",get:function(){return"#FAD7A0"}},{key:"NODE_FUNCTIONAL_STROKE_COLOR",get:function(){return"#C5F0FF"}},{key:"NODE_STROKE_WIDTH",get:function(){return 3}},{key:"NODE_TITLE_COLOR",get:function(){return"brown"}},{key:"NODE_FUNCTIONAL_TITLE_COLOR",get:function(){return"069DD1"}},{key:"NODE_TITLE_FONT",get:function(){return"bold 18px verdana"}},{key:"NODE_SYMBOL_STROKE_WIDTH",get:function(){return 3}},{key:"NODE_SYMBOL_STROKE_COLOR",get:function(){return"#FEF9E7"}},{key:"NODE_SYMBOL_FILL_COLOR",get:function(){return"#FEF9E7"}},{key:"NODE_PREV_NEXT_STROKE_WIDTH",get:function(){return 2}},{key:"NODE_PREV_NEXT_STROKE_COLOR",get:function(){return"#31A200"}},{key:"NODE_PREV_NEXT_FILL_COLOR",get:function(){return"#31A200"}},{key:"NODE_PREV_NEXT_NAME_FONT",get:function(){return"bold 11px verdana"}},{key:"NODE_PREV_NEXT_NAME_COLOR",get:function(){return"bold 11px black"}},{key:"NODE_PREV_NEXT_POINT_RADIUS",get:function(){return 8}},{key:"NODE_IO_STROKE_WIDTH",get:function(){return 2}},{key:"NODE_IO_STROKE_COLOR",get:function(){return"#008EBF"}},{key:"NODE_IO_FILL_COLOR",get:function(){return"#008EBF"}},{key:"NODE_IO_NAME_FONT",get:function(){return"bold 11px verdana"}},{key:"NODE_IO_NAME_COLOR",get:function(){return"bold 11px black"}},{key:"NODE_IO_POINT_RADIUS",get:function(){return 10}},{key:"CONNECTION_IO_WIDTH",get:function(){return 4}},{key:"CONNECTION_IO_INVALID_COLOR",get:function(){return"red"}},{key:"CONNECTION_IO_VALID_COLOR",get:function(){return"green"}},{key:"CONNECTION_IO_COLOR",get:function(){return"#008EBF"}},{key:"CONNECTION_PREV_NEXT_WIDTH",get:function(){return 4}},{key:"CONNECTION_PREV_NEXT_INVALID_COLOR",get:function(){return"red"}},{key:"CONNECTION_PREV_NEXT_VALID_COLOR",get:function(){return"green"}},{key:"CONNECTION_PREV_NEXT_COLOR",get:function(){return"#31A200"}}])&&se(e.prototype,n),t}();function he(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function be(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function ve(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}fe=ye,le="current",pe=new ye,le in fe?Object.defineProperty(fe,le,{value:pe,enumerable:!0,configurable:!0,writable:!0}):fe[le]=pe;var we=new WeakMap,de=new WeakMap,Oe=new WeakMap,me=new WeakMap,ge=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),we.set(this,{writable:!0,value:null}),de.set(this,{writable:!0,value:null}),Oe.set(this,{writable:!0,value:null}),me.set(this,{writable:!0,value:null}),ve(this,Oe,e),this.target=n}var e,n;return e=t,(n=[{key:"setup",value:function(){ve(this,de,this.createElement())}},{key:"createElement",value:function(){throw new Error("Element must be defined in a subclass!")}},{key:"updateSVGElement",value:function(){throw new Error("Element must be defined in a subclass!")}},{key:"destroy",value:function(){}},{key:"canvas",get:function(){return be(this,we)},set:function(t){ve(this,we,t)}},{key:"source",get:function(){return be(this,Oe)},set:function(t){ve(this,Oe,t)}},{key:"target",get:function(){return be(this,me)},set:function(t){ve(this,me,t)}},{key:"connectionEl",get:function(){return be(this,de)}},{key:"svgEl",get:function(){return be(this,we).svgEl}}])&&he(e.prototype,n),t}();function Ee(t){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ne(t,e){return(Ne=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Re(t,e){return!e||"object"!==Ee(e)&&"function"!=typeof e?Se(t):e}function Se(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ke(t,e,n){return(ke="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pe(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Pe(t){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ce=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ne(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Pe(r);if(o){var n=Pe(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Re(this,t)});function u(t,e,n){var r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),ke((r=Se(o=i.call(this,t,e)),Pe(u.prototype)),"setup",r).call(r),n.addConnection(Se(o)),o.updateSVGElement(),o.source.socket.connect(o.target.socket),o}return e=u,(n=[{key:"createElement",value:function(){return document.createElementNS("http://www.w3.org/2000/svg","path")}},{key:"updateSVGElement",value:function(){var t=new s(this.source.absPos.x,this.source.absPos.y),e=new s(this.target.absPos.x-ye.current.NODE_IO_POINT_RADIUS,this.target.absPos.y),n=Math.max(.8*Math.abs(t.x-e.x),100),r=t.add(new s(n,-.1*(t.y-e.y))),o=e.add(new s(-n,.1*(t.y-e.y)));this.connectionEl.setAttribute("d","\n      M ".concat(t.x," ").concat(t.y,"\n      C ").concat(r.x," ").concat(r.y," ").concat(o.x," ").concat(o.y," ").concat(e.x," ").concat(e.y,"\n    ")),this.connectionEl.setAttribute("stroke-width",ye.current.CONNECTION_IO_WIDTH),this.connectionEl.setAttribute("stroke",ye.current.CONNECTION_IO_COLOR),this.connectionEl.setAttribute("marker-end","url(#io-arrow)"),this.connectionEl.setAttribute("fill","transparent")}},{key:"destroy",value:function(){this.source.socket.disconnect(this.target.socket),ke(Pe(u.prototype),"destroy",this).call(this)}}])&&_e(e.prototype,n),u}(ge);function Te(t){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function De(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ae(t,e){return(Ae=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ie(t,e){return!e||"object"!==Te(e)&&"function"!=typeof e?xe(t):e}function xe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function je(t,e,n){return(je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Me(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Me(t){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Le=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ae(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Me(r);if(o){var n=Me(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ie(this,t)});function u(t,e,n){var r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),je((r=xe(o=i.call(this,t,e)),Me(u.prototype)),"setup",r).call(r),n.addConnection(xe(o)),o.updateSVGElement(),o.source.socket.connect(o.target.socket),o}return e=u,(n=[{key:"createElement",value:function(){return document.createElementNS("http://www.w3.org/2000/svg","path")}},{key:"updateSVGElement",value:function(){var t=new s(this.source.absPos.x,this.source.absPos.y),e=new s(this.target.absPos.x-ye.current.NODE_PREV_NEXT_POINT_RADIUS,this.target.absPos.y),n=Math.max(.8*Math.abs(t.x-e.x),100),r=t.add(new s(n,-.1*(t.y-e.y))),o=e.add(new s(-n,.1*(t.y-e.y)));this.connectionEl.setAttribute("d","\n      M ".concat(t.x," ").concat(t.y,"\n      C ").concat(r.x," ").concat(r.y," ").concat(o.x," ").concat(o.y," ").concat(e.x," ").concat(e.y,"\n    ")),this.connectionEl.setAttribute("stroke-width",ye.current.CONNECTION_PREV_NEXT_WIDTH),this.connectionEl.setAttribute("stroke",ye.current.CONNECTION_PREV_NEXT_COLOR),this.connectionEl.setAttribute("marker-end","url(#prevnext-arrow)"),this.connectionEl.setAttribute("fill","transparent")}},{key:"destroy",value:function(){this.source.socket.disconnect(this.target.socket),je(Me(u.prototype),"destroy",this).call(this)}}])&&De(e.prototype,n),u}(ge);function We(t){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fe(t,e){return(Fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ue(t,e){return!e||"object"!==We(e)&&"function"!=typeof e?Be(t):e}function Be(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xe(t,e,n){return(Xe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=He(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function He(t){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ge=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fe(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=He(r);if(o){var n=He(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ue(this,t)});function u(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),Xe((e=Be(n=i.call(this,t)),He(u.prototype)),"setup",e).call(e),n}return e=u,(n=[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d","\n      M ".concat(-ye.current.NODE_PREV_NEXT_POINT_RADIUS," ").concat(-ye.current.NODE_PREV_NEXT_POINT_RADIUS,"\n      L ").concat(ye.current.NODE_PREV_NEXT_POINT_RADIUS," ").concat(-ye.current.NODE_PREV_NEXT_POINT_RADIUS,"\n      L ").concat(ye.current.NODE_PREV_NEXT_POINT_RADIUS," ").concat(ye.current.NODE_PREV_NEXT_POINT_RADIUS,"\n      L ").concat(-ye.current.NODE_PREV_NEXT_POINT_RADIUS," ").concat(ye.current.NODE_PREV_NEXT_POINT_RADIUS,"\n      Z\n      ")),t.setAttribute("stroke",ye.current.NODE_PREV_NEXT_STROKE_COLOR),t.setAttribute("stroke-width",ye.current.NODE_PREV_NEXT_STROKE_WIDTH),t.setAttribute("fill",ye.current.NODE_PREV_NEXT_FILL_COLOR);var e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");e.style="\n      font: ".concat(ye.current.NODE_PREV_NEXT_NAME_FONT,"; \n      color: ").concat(ye.current.NODE_PREV_NEXT_NAME_COLOR,"; \n      text-align: left;\n      width: ").concat(ye.current.NODE_WIDTH/2-15,"px;\n      height: 30px;\n      line-height: 30px;\n      user-select: none;\n      "),e.innerHTML="".concat(this.socket.name),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("transform","translate(".concat(15,", ",-15,")")),e.setAttribute("width",ye.current.NODE_WIDTH/2-15),e.setAttribute("height",30);var n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.setAttribute("x",0),n.setAttribute("y",0),n.appendChild(t),n.appendChild(e),n}},{key:"connectionMoving",value:function(t,e,n){var r=new s(this.absPos.x,this.absPos.y),o=new s(this.currentPeerSocketComponent?this.currentPeerSocketComponent.absPos.x:t,this.currentPeerSocketComponent?this.currentPeerSocketComponent.absPos.y:e),i=Math.max(.8*Math.abs(r.x-o.x),100),u=r.add(new s(-i,-.1*(r.y-o.y))),c=o.add(new s(i,.1*(r.y-o.y)));this.tempConnectionEl.setAttribute("d","\n      M ".concat(this.absPos.x," ").concat(this.absPos.y,"\n      C ").concat(u.x," ").concat(u.y," ").concat(c.x," ").concat(c.y," ").concat(o.x," ").concat(o.y,"\n    ")),this.tempConnectionEl.setAttribute("stroke-width",ye.current.CONNECTION_PREV_NEXT_WIDTH),this.tempConnectionEl.setAttribute("stroke",n?ye.current.CONNECTION_PREV_NEXT_INVALID_COLOR:this.currentPeerSocketComponent?ye.current.CONNECTION_PREV_NEXT_VALID_COLOR:ye.current.CONNECTION_PREV_NEXT_COLOR),this.tempConnectionEl.setAttribute("fill","transparent")}},{key:"connectionDone",value:function(t){Xe(He(u.prototype),"connectionDone",this).call(this,t),t.isConnected&&this.canvas.removeConnection(this.canvas.getConnectionsFor(t)[0]),new Le(t,this,this.canvas)}},{key:"canAcceptPeerSocket",value:function(t){return t.socket instanceof ae}},{key:"hasSingleConnection",get:function(){return!1}}])&&Ve(e.prototype,n),u}(H);function Ke(t){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $e(t,e){return($e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qe(t,e){return!e||"object"!==Ke(e)&&"function"!=typeof e?Ze(t):e}function Ze(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qe(t,e,n){return(qe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ze(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ze(t){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Je=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$e(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ze(r);if(o){var n=ze(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Qe(this,t)});function u(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),qe((e=Ze(n=i.call(this,t)),ze(u.prototype)),"setup",e).call(e),n}return e=u,(n=[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d","\n      M -7 -8\n      L 7 -8\n      L 12 0\n      L 7 8\n      L -7 8\n      Z\n      "),t.setAttribute("stroke",ye.current.NODE_PREV_NEXT_STROKE_COLOR),t.setAttribute("stroke-width",ye.current.NODE_PREV_NEXT_STROKE_WIDTH),t.setAttribute("fill",ye.current.NODE_PREV_NEXT_FILL_COLOR);var e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");e.style="\n      font: ".concat(ye.current.NODE_PREV_NEXT_NAME_FONT,"; \n      color: ").concat(ye.current.NODE_PREV_NEXT_NAME_COLOR,"; \n      text-align: right;\n      width: ").concat(ye.current.NODE_WIDTH/2-15,"px;\n      height: 30px;\n      line-height: 30px;\n      user-select: none;\n      "),e.innerHTML="".concat(this.socket.name),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("transform","translate(".concat(-ye.current.NODE_WIDTH/2,", ").concat(-15,")")),e.setAttribute("width",ye.current.NODE_WIDTH/2-15),e.setAttribute("height",30);var n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.setAttribute("x",0),n.setAttribute("y",0),n.appendChild(t),n.appendChild(e),n}},{key:"canAcceptPeerSocket",value:function(t){return t.socket instanceof ue}},{key:"connectionMoving",value:function(t,e,n){var r=new s(this.absPos.x,this.absPos.y),o=new s(this.currentPeerSocketComponent?this.currentPeerSocketComponent.absPos.x:t,this.currentPeerSocketComponent?this.currentPeerSocketComponent.absPos.y:e),i=Math.max(.8*Math.abs(r.x-o.x),100),u=r.add(new s(i,-.1*(r.y-o.y))),c=o.add(new s(-i,.1*(r.y-o.y)));this.tempConnectionEl.setAttribute("d","\n      M ".concat(this.absPos.x," ").concat(this.absPos.y,"\n      C ").concat(u.x," ").concat(u.y," ").concat(c.x," ").concat(c.y," ").concat(o.x," ").concat(o.y,"\n    ")),this.tempConnectionEl.setAttribute("stroke-width",ye.current.CONNECTION_PREV_NEXT_WIDTH),this.tempConnectionEl.setAttribute("stroke",n?ye.current.CONNECTION_PREV_NEXT_INVALID_COLOR:this.currentPeerSocketComponent?ye.current.CONNECTION_PREV_NEXT_VALID_COLOR:ye.current.CONNECTION_PREV_NEXT_COLOR),this.tempConnectionEl.setAttribute("fill","transparent")}},{key:"connectionDone",value:function(t){qe(ze(u.prototype),"connectionDone",this).call(this,t),new Le(this,t,this.canvas)}},{key:"canAcceptPeerSocket",value:function(t){return t.socket instanceof ue}},{key:"hasSingleConnection",get:function(){return!0}}])&&Ye(e.prototype,n),u}(H);function tn(t){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function en(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nn(t,e){return(nn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rn(t,e){return!e||"object"!==tn(e)&&"function"!=typeof e?on(t):e}function on(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function un(t,e,n){return(un="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=cn(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function cn(t){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var an=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nn(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=cn(r);if(o){var n=cn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return rn(this,t)});function u(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),un((e=on(n=i.call(this,t)),cn(u.prototype)),"setup",e).call(e),n}return e=u,(n=[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","circle");t.setAttribute("cx",0),t.setAttribute("cy",0),t.setAttribute("r",ye.current.NODE_IO_POINT_RADIUS),t.setAttribute("stroke-width",ye.current.NODE_IO_STROKE_WIDTH),t.setAttribute("stroke",ye.current.NODE_IO_STROKE_COLOR),t.setAttribute("fill",ye.current.NODE_IO_FILL_COLOR);var e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");e.style="\n      font: ".concat(ye.current.NODE_IO_NAME_FONT,"; \n      color: ").concat(ye.current.NODE_IO_NAME_COLOR,"; \n      text-align: right;\n      width: ").concat(ye.current.NODE_WIDTH-30,"px;\n      height: 30px;\n      line-height: 30px;\n      user-select: none;\n      "),e.innerHTML="".concat(this.socket.name),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("transform","translate(".concat(15-ye.current.NODE_WIDTH,", ").concat(-15,")")),e.setAttribute("width",ye.current.NODE_WIDTH-30),e.setAttribute("height",30);var n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.setAttribute("x",0),n.setAttribute("y",0),n.appendChild(t),n.appendChild(e),n}},{key:"connectionMoving",value:function(t,e,n){var r=new s(this.absPos.x,this.absPos.y),o=new s(this.currentPeerSocketComponent?this.currentPeerSocketComponent.absPos.x:t,this.currentPeerSocketComponent?this.currentPeerSocketComponent.absPos.y:e),i=Math.max(.8*Math.abs(r.x-o.x),100),u=r.add(new s(i,-.1*(r.y-o.y))),c=o.add(new s(-i,.1*(r.y-o.y)));this.tempConnectionEl.setAttribute("d","\n      M ".concat(this.absPos.x," ").concat(this.absPos.y,"\n      C ").concat(u.x," ").concat(u.y," ").concat(c.x," ").concat(c.y," ").concat(o.x," ").concat(o.y,"\n    ")),this.tempConnectionEl.setAttribute("stroke-width",ye.current.CONNECTION_IO_WIDTH),this.tempConnectionEl.setAttribute("stroke",n?ye.current.CONNECTION_IO_INVALID_COLOR:this.currentPeerSocketComponent?ye.current.CONNECTION_IO_VALID_COLOR:ye.current.CONNECTION_IO_COLOR),this.tempConnectionEl.setAttribute("fill","transparent")}},{key:"connectionDone",value:function(t){un(cn(u.prototype),"connectionDone",this).call(this,t),t.isConnected&&this.canvas.removeConnection(this.canvas.getConnectionsFor(t)[0]),new Ce(this,t,this.canvas)}},{key:"canAcceptPeerSocket",value:function(t){return t.socket instanceof ee}},{key:"hasSingleConnection",get:function(){return!1}}])&&en(e.prototype,n),u}(H);function sn(t){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ln(t,e){return(ln=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pn(t,e){return!e||"object"!==sn(e)&&"function"!=typeof e?yn(t):e}function yn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hn(t,e,n){return(hn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bn(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function bn(t){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ln(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bn(r);if(o){var n=bn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return pn(this,t)});function u(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),hn((e=yn(n=i.call(this,t)),bn(u.prototype)),"setup",e).call(e),n}return e=u,(n=[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","circle");t.setAttribute("cx",0),t.setAttribute("cy",0),t.setAttribute("r",ye.current.NODE_IO_POINT_RADIUS),t.setAttribute("stroke-width",ye.current.NODE_IO_STROKE_WIDTH),t.setAttribute("stroke",ye.current.NODE_IO_STROKE_COLOR),t.setAttribute("fill",ye.current.NODE_IO_FILL_COLOR);var e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");e.style="\n    font: ".concat(ye.current.NODE_IO_NAME_FONT,"; \n    color: ").concat(ye.current.NODE_IO_NAME_COLOR,"; \n    text-align: left;\n    width: ").concat(ye.current.NODE_WIDTH/2-15,"px;\n    height: 30px;\n    line-height: 30px;\n    user-select: none;\n    "),e.innerHTML="".concat(this.socket.name),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("transform","translate(".concat(15,", ",-15,")")),e.setAttribute("width",ye.current.NODE_WIDTH/2-15),e.setAttribute("height",30);var n=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");n.style="\n    font: ".concat(ye.current.NODE_IO_NAME_FONT,"; \n    color: ").concat(ye.current.NODE_IO_NAME_COLOR,"; \n    text-align: left;\n    line-height: 30px;\n    user-select: none;\n    "),n.setAttribute("x",0),n.setAttribute("y",0),n.setAttribute("transform","translate(".concat(ye.current.NODE_WIDTH/2,", ").concat(-15,")")),n.setAttribute("width",ye.current.NODE_WIDTH/2-15),n.setAttribute("height",30);var r=document.createElement("input");r.style="\n    font: ".concat(ye.current.NODE_IO_NAME_FONT,"; \n    color: ").concat(ye.current.NODE_IO_NAME_COLOR,"; \n    width: ").concat(ye.current.NODE_WIDTH/2-25,"px; // 5px less than foreignObject\n    height: ",20,"px;\n    border: 0;\n    padding: 2px;\n    margin: 2px;\n    "),r.setAttribute("value",this.socket.value),r.setAttribute("type","text"),n.appendChild(r);var o=document.createElementNS("http://www.w3.org/2000/svg","g");return o.setAttribute("x",0),o.setAttribute("y",0),o.appendChild(t),o.appendChild(e),o.appendChild(n),o}},{key:"connectionMoving",value:function(t,e,n){var r=new s(this.absPos.x,this.absPos.y),o=new s(this.currentPeerSocketComponent?this.currentPeerSocketComponent.absPos.x:t,this.currentPeerSocketComponent?this.currentPeerSocketComponent.absPos.y:e),i=Math.max(.8*Math.abs(r.x-o.x),100),u=r.add(new s(-i,-.1*(r.y-o.y))),c=o.add(new s(i,.1*(r.y-o.y)));this.tempConnectionEl.setAttribute("d","\n      M ".concat(this.absPos.x," ").concat(this.absPos.y,"\n      C ").concat(u.x," ").concat(u.y," ").concat(c.x," ").concat(c.y," ").concat(o.x," ").concat(o.y,"\n    ")),this.tempConnectionEl.setAttribute("stroke-width",ye.current.CONNECTION_IO_WIDTH),this.tempConnectionEl.setAttribute("stroke",n?ye.current.CONNECTION_IO_INVALID_COLOR:this.currentPeerSocketComponent?ye.current.CONNECTION_IO_VALID_COLOR:ye.current.CONNECTION_IO_COLOR),this.tempConnectionEl.setAttribute("fill","transparent")}},{key:"connectionDone",value:function(t){hn(bn(u.prototype),"connectionDone",this).call(this,t),new Ce(t,this,this.canvas)}},{key:"canAcceptPeerSocket",value:function(t){return t.socket instanceof re}},{key:"hasSingleConnection",get:function(){return!0}}])&&fn(e.prototype,n),u}(H);function wn(t){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dn(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return On(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?On(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}function On(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gn(t,e){return(gn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function En(t,e){return!e||"object"!==wn(e)&&"function"!=typeof e?_n(t):e}function _n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nn(t,e,n){return(Nn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Rn(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Rn(t){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Sn(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function kn(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var Pn=new WeakMap,Cn=new WeakMap,Tn=new WeakMap,Dn=new WeakMap,An=new WeakSet,In=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gn(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Rn(r);if(o){var n=Rn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return En(this,t)});function u(t,e){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),r=i.call(this),An.add(_n(r)),Pn.set(_n(r),{writable:!0,value:void 0}),Cn.set(_n(r),{writable:!0,value:void 0}),Tn.set(_n(r),{writable:!0,value:void 0}),Dn.set(_n(r),{writable:!0,value:void 0}),kn(_n(r),Pn,t),Nn((n=_n(r),Rn(u.prototype)),"setup",n).call(n),e.addComponent(_n(r)),function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}(_n(r),An,xn).call(_n(r)),r}return e=u,(n=[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","g");return kn(this,Cn,document.createElementNS("http://www.w3.org/2000/svg","path")),kn(this,Tn,document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),kn(this,Dn,document.createElementNS("http://www.w3.org/2000/svg","circle")),t.appendChild(Sn(this,Cn)),t.appendChild(Sn(this,Tn)),t.appendChild(Sn(this,Dn)),Sn(this,Cn).setAttribute("d","\n      M 0 ".concat(1.3*ye.current.NODE_BORDER_RADIUS," \n      A ").concat(1.3*ye.current.NODE_BORDER_RADIUS," ").concat(1.3*ye.current.NODE_BORDER_RADIUS," 0 0 0 ").concat(1.3*ye.current.NODE_BORDER_RADIUS," 0 \n      L ").concat(ye.current.NODE_WIDTH-ye.current.NODE_BORDER_RADIUS," 0 \n      A ").concat(ye.current.NODE_BORDER_RADIUS," ").concat(ye.current.NODE_BORDER_RADIUS," 0 0 1 ").concat(ye.current.NODE_WIDTH," ").concat(ye.current.NODE_BORDER_RADIUS," \n      L ").concat(ye.current.NODE_WIDTH," ").concat(this.height-ye.current.NODE_BORDER_RADIUS," \n      A ").concat(ye.current.NODE_BORDER_RADIUS," ").concat(ye.current.NODE_BORDER_RADIUS," 0 0 1 ").concat(ye.current.NODE_WIDTH-ye.current.NODE_BORDER_RADIUS," ").concat(this.height," \n      L ").concat(ye.current.NODE_BORDER_RADIUS," ").concat(this.height," \n      A ").concat(ye.current.NODE_BORDER_RADIUS," ").concat(ye.current.NODE_BORDER_RADIUS," 0 0 1 0 ").concat(this.height-ye.current.NODE_BORDER_RADIUS," \n      Z\n      ")),Sn(this,Tn).innerHTML=this.node.name,Sn(this,Tn).style="\n      font: ".concat(ye.current.NODE_TITLE_FONT,"; \n      color: ").concat(this.node.functional?ye.current.NODE_FUNCTIONAL_TITLE_COLOR:ye.current.NODE_TITLE_COLOR,"; \n      text-align: center; \n      user-select: none"),Sn(this,Tn).setAttribute("x",.5*ye.current.NODE_BORDER_RADIUS),Sn(this,Tn).setAttribute("y",.5*ye.current.NODE_BORDER_RADIUS),Sn(this,Tn).setAttribute("width",ye.current.NODE_WIDTH-.5*ye.current.NODE_BORDER_RADIUS*2),Sn(this,Tn).setAttribute("height",20),Sn(this,Cn).setAttribute("stroke",this.node.functional?ye.current.NODE_FUNCTIONAL_STROKE_COLOR:ye.current.NODE_STROKE_COLOR),Sn(this,Cn).setAttribute("stroke-width",ye.current.NODE_STROKE_WIDTH),Sn(this,Cn).setAttribute("fill",this.node.functional?ye.current.NODE_FUNCTIONAL_FILL_COLOR:ye.current.NODE_FILL_COLOR),Sn(this,Cn).setAttribute("x","0"),Sn(this,Cn).setAttribute("y","0"),Sn(this,Dn).setAttribute("cx",0),Sn(this,Dn).setAttribute("cy",0),Sn(this,Dn).setAttribute("r",.9*ye.current.NODE_BORDER_RADIUS),Sn(this,Dn).setAttribute("stroke",ye.current.NODE_SYMBOL_STROKE_COLOR),Sn(this,Dn).setAttribute("stroke-width",ye.current.NODE_SYMBOL_STROKE_WIDTH),Sn(this,Dn).setAttribute("fill",ye.current.NODE_SYMBOL_FILL_COLOR),t.setAttribute("x","0"),t.setAttribute("y","0"),t}},{key:"node",get:function(){return Sn(this,Pn)}},{key:"height",get:function(){return.5*ye.current.NODE_BORDER_RADIUS+40+30*Math.max(this.node.functional?0:1,this.node.nexts.length)+30*Math.max(0,this.node.outputs.length)+30*Math.max(0,this.node.inputs.length)+15}}])&&mn(e.prototype,n),u}(k),xn=function(){var t=40+.5*ye.current.NODE_BORDER_RADIUS;if(this.node.prev){var e=new Ge(this.node.prev);e.pos=new s(0,t),this.addComponent(e)}var n,r=dn(this.node.nexts);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=new Je(o);i.pos=new s(ye.current.NODE_WIDTH,t),this.addComponent(i),t+=30}}catch(t){r.e(t)}finally{r.f()}var u,c=dn(this.node.outputs);try{for(c.s();!(u=c.n()).done;){var a=u.value,f=new an(a);f.pos=new s(ye.current.NODE_WIDTH,t),this.addComponent(f),t+=30}}catch(t){c.e(t)}finally{c.f()}var l,p=dn(this.node.inputs);try{for(p.s();!(l=p.n()).done;){var y=l.value,h=new vn(y);h.pos=new s(0,t),this.addComponent(h),t+=30}}catch(t){p.e(t)}finally{p.f()}};function jn(t){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mn(t,e){return(Mn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ln(t,e){return!e||"object"!==jn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wn(t){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Vn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mn(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Wn(e);if(n){var o=Wn(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Ln(this,t)});function o(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t);var n=document.createElementNS("http://www.w3.org/2000/svg","marker");n.setAttribute("id","io-arrow"),n.setAttribute("viewBox","0 0 10 10"),n.setAttribute("refX","7"),n.setAttribute("refY","5"),n.setAttribute("markerWidth","5"),n.setAttribute("markerHeight","5"),n.setAttribute("fill",ye.current.CONNECTION_IO_COLOR),n.setAttribute("orient","auto-start-reverse");var i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d","M 0 0 L 10 5 L 0 10 Z"),n.appendChild(i);var u=document.createElementNS("http://www.w3.org/2000/svg","marker");u.setAttribute("id","prevnext-arrow"),u.setAttribute("viewBox","0 0 10 10"),u.setAttribute("refX","7"),u.setAttribute("refY","5"),u.setAttribute("markerWidth","5"),u.setAttribute("markerHeight","5"),u.setAttribute("fill",ye.current.CONNECTION_PREV_NEXT_COLOR),u.setAttribute("orient","auto-start-reverse");var c=document.createElementNS("http://www.w3.org/2000/svg","path");return c.setAttribute("d","M 0 0 L 10 5 L 0 10 Z"),u.appendChild(c),e.svgEl.appendChild(n),e.svgEl.appendChild(u),e}return o}(pt);function Fn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Un(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xn(t,e,n){return e&&Bn(t.prototype,e),n&&Bn(t,n),t}function Hn(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function Gn(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var Kn=new WeakMap,Yn=new WeakMap,$n=new WeakMap,Qn=new WeakMap,Zn=new WeakMap,qn=new WeakMap,zn=new WeakMap,Jn=new WeakMap,tr=function(){function t(e){Un(this,t),Kn.set(this,{writable:!0,value:xt()}),Yn.set(this,{writable:!0,value:""}),$n.set(this,{writable:!0,value:!1}),Qn.set(this,{writable:!0,value:[]}),Zn.set(this,{writable:!0,value:[]}),qn.set(this,{writable:!0,value:[]}),zn.set(this,{writable:!0,value:null}),Jn.set(this,{writable:!0,value:null}),Gn(this,Yn,e)}return Xn(t,[{key:"input",value:function(t){return this.inputs.find((function(e){return e.name===t}))}},{key:"output",value:function(t){return this.outputs.find((function(e){return e.name===t}))}},{key:"next",value:function(t){return t?this.nexts.find((function(e){return e.name===t})):this.nexts[0]}},{key:"evaluateInputs",value:function(){var t,e=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Fn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}(this.inputs);try{for(e.s();!(t=e.n()).done;)t.value.evaluate()}catch(t){e.e(t)}finally{e.f()}}},{key:"getFlowResult",value:function(t){return t.peer?new nr(t.peer.node):new nr}},{key:"toString",value:function(){return"N('"+Hn(this,Yn)+"',"+Hn(this,Qn).length+"i,"+Hn(this,Zn).length+"o,"+Hn(this,qn).length+"n)"}},{key:"process",value:function(){return new nr}},{key:"id",get:function(){return Hn(this,Kn)}},{key:"name",get:function(){return Hn(this,Yn)},set:function(t){Gn(this,Yn,t)}},{key:"functional",get:function(){return Hn(this,$n)},set:function(t){Gn(this,$n,t)}},{key:"inputs",get:function(){return Hn(this,Qn)},set:function(t){Gn(this,Qn,t)}},{key:"outputs",get:function(){return Hn(this,Zn)},set:function(t){Gn(this,Zn,t)}},{key:"nexts",get:function(){return Hn(this,qn)},set:function(t){Gn(this,qn,t)}},{key:"prev",get:function(){return Hn(this,zn)},set:function(t){Gn(this,zn,t)}},{key:"program",get:function(){return Hn(this,Jn)},set:function(t){Gn(this,Jn,t)}}]),t}(),er=new WeakMap,nr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Un(this,t),er.set(this,{writable:!0,value:null}),Gn(this,er,e)}return Xn(t,[{key:"next",get:function(){return Hn(this,er)},set:function(t){Gn(this,er,t)}}]),t}();function rr(t){return(rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function or(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ir(t,e){return(ir=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ur(t,e){return!e||"object"!==rr(e)&&"function"!=typeof e?cr(t):e}function cr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ar(t){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var sr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ir(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ar(r);if(o){var n=ar(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ur(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"Call")).inputs=[],t.outputs=[],t.nexts=[new ae("Out",cr(t)),new ae("Call",cr(t))],t.prev=new ue("In",cr(t)),t}return e=u,(n=[{key:"process",value:function(){var t=this.program.currentNode;return this.program.processFrom(this.next("Call").peer.node),this.program.currentNode=t,this.getFlowResult(this.next("Out"))}}])&&or(e.prototype,n),u}(tr);function fr(){return new sr}function lr(t){return(lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yr(t,e){return(yr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hr(t,e){return!e||"object"!==lr(e)&&"function"!=typeof e?br(t):e}function br(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vr(t){return(vr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=vr(r);if(o){var n=vr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return hr(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"Console")).inputs=[new ee("Val",br(t),kt(_t.ANY,!1),0)],t.outputs=[],t.nexts=[new ae("Out",br(t))],t.prev=new ue("In",br(t)),t}return e=u,(n=[{key:"process",value:function(){return this.evaluateInputs(),console.log(this.input("Val").value),new nr,this.getFlowResult(this.next("Out"))}}])&&pr(e.prototype,n),u}(tr);function dr(){return new wr}function Or(t){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gr(t,e){return(gr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Er(t,e){return!e||"object"!==Or(e)&&"function"!=typeof e?_r(t):e}function _r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nr(t){return(Nr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Nr(r);if(o){var n=Nr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Er(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"FGetvar")).functional=!0,t.inputs=[new ee("Name",_r(t),Or(""),"")],t.outputs=[new re("Val",_r(t),Or(""),"")],t.nexts=[],t.prev=null,t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();var t=this.input("Name").value;this.output("Val").value=this.program.vars.get(t)}}])&&mr(e.prototype,n),u}(tr);function Sr(){return new Rr}function kr(t){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cr(t,e){return(Cr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tr(t,e){return!e||"object"!==kr(e)&&"function"!=typeof e?Dr(t):e}function Dr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ar(t){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ir=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ar(r);if(o){var n=Ar(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Tr(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"For")).inputs=[new ee("From",Dr(t),new St(_t.NUMBER,!1),!1),new ee("To",Dr(t),new St(_t.NUMBER,!1),!1)],t.outputs=[new re("Index",Dr(t),new St(_t.NUMBER,!1),!1)],t.nexts=[new ae("Out",Dr(t)),new ae("Do",Dr(t))],t.prev=new ue("In",Dr(t)),t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();for(var t=this.program.currentNode,e=this.input("From").value;e<this.input("To").value;e++)null!==this.next("Do").peer&&null!==this.next("Do").peer.node&&(this.output("Index").value=e,this.program.processFrom(this.next("Do").peer.node));return this.program.currentNode=t,this.getFlowResult(this.next("Out"))}}])&&Pr(e.prototype,n),u}(tr);function xr(){return new Ir}function jr(t){return(jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lr(t,e){return(Lr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wr(t,e){return!e||"object"!==jr(e)&&"function"!=typeof e?Vr(t):e}function Vr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fr(t){return(Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ur=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Fr(r);if(o){var n=Fr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Wr(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"Getvar")).inputs=[new ee("Name",Vr(t),jr(""),"")],t.outputs=[new re("Val",Vr(t),jr(""),"")],t.nexts=[new ae("Out",Vr(t))],t.prev=new ue("In",Vr(t)),t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();var t=this.input("Name").value;return this.output("Val").value=this.program.vars.get(t),this.getFlowResult(this.next("Out"))}}])&&Mr(e.prototype,n),u}(tr);function Br(){return new Ur}function Xr(t){return(Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gr(t,e){return(Gr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kr(t,e){return!e||"object"!==Xr(e)&&"function"!=typeof e?Yr(t):e}function Yr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $r(t){return($r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$r(r);if(o){var n=$r(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Kr(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"Setvar")).inputs=[new ee("Name",Yr(t),Xr(""),""),new ee("Val",Yr(t),Xr(""),"")],t.outputs=[new re("Val",Yr(t),Xr(""),"")],t.nexts=[new ae("Out",Yr(t))],t.prev=new ue("In",Yr(t)),t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();var t=this.input("Name").value,e=this.input("Val").value;return this.program.vars.set(t,e),this.output("Val").value=e,this.getFlowResult(this.next("Out"))}}])&&Hr(e.prototype,n),u}(tr);function Zr(){return new Qr}function qr(t){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jr(t,e){return(Jr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function to(t,e){return!e||"object"!==qr(e)&&"function"!=typeof e?eo(t):e}function eo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function no(t){return(no=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ro=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=no(r);if(o){var n=no(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return to(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"While")).inputs=[new ee("Condition",eo(t),new St(_t.BOOLEAN,!1),!1)],t.outputs=[new re("Index",eo(t),new St(_t.NUMBER,!1),!1)],t.nexts=[new ae("Out",eo(t)),new ae("Do",eo(t))],t.prev=new ue("In",eo(t)),t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();for(var t=this.program.currentNode;this.input("Condition").value;)null!==this.nexts("Do").peer&&null!==this.nexts("Do").peer.node&&(this.output("Index").value=0,this.program.processFrom(this.next("Do").peer.node),this.evaluateInputs());return this.program.currentNode=t,this.getFlowResult(this.next("Out"))}}])&&zr(e.prototype,n),u}(tr);function oo(){return new ro}function io(t){return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function co(t,e){return(co=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ao(t,e){return!e||"object"!==io(e)&&"function"!=typeof e?so(t):e}function so(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fo(t){return(fo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&co(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fo(r);if(o){var n=fo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ao(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"If")).inputs=[new ee("Condition",so(t),new St(_t.BOOLEAN,!1),!1)],t.outputs=[],t.nexts=[new ae("Then",so(t)),new ae("Else",so(t))],t.prev=new ue("In",so(t)),t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();var t;return t=this.input("Condition").value?this.next("Then"):this.next("Else"),this.getFlowResult(t)}}])&&uo(e.prototype,n),u}(tr);function po(){return new lo}function yo(t){return(yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ho(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vo(t,e){return(vo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wo(t,e){return!e||"object"!==yo(e)&&"function"!=typeof e?Oo(t):e}function Oo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mo(t){return(mo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var go=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vo(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mo(r);if(o){var n=mo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return wo(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"FAdd")).functional=!0,t.inputs=[new ee("Val1",Oo(t),kt(_t.NUMBER,!1),0),new ee("Val2",Oo(t),kt(_t.NUMBER,!1),0)],t.outputs=[new re("Val",Oo(t),kt(_t.NUMBER,!1),0)],t.prev=null,t.nexts=[],t}return e=u,(n=[{key:"process",value:function(){var t=0;this.evaluateInputs();var e,n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return ho(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ho(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}(this.inputs);try{for(n.s();!(e=n.n()).done;)t+=e.value.value}catch(t){n.e(t)}finally{n.f()}this.output("Val").value=t}}])&&bo(e.prototype,n),u}(tr);function Eo(){return new go}function _o(t){return(_o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function No(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ro(t,e){return(Ro=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function So(t,e){return!e||"object"!==_o(e)&&"function"!=typeof e?ko(t):e}function ko(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Po(t){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Co=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ro(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Po(r);if(o){var n=Po(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return So(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"FDiv")).functional=!0,t.inputs=[new ee("Val1",ko(t),kt(_t.NUMBER,!1),0),new ee("Val2",ko(t),kt(_t.NUMBER,!1),0)],t.outputs=[new re("Val",ko(t),kt(_t.NUMBER,!1),0)],t.prev=null,t.nexts=[],t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs(),this.output("Val").value=this.input("Val1").value/this.input("Val2").value}}])&&No(e.prototype,n),u}(tr);function To(){return new Co}function Do(t){return(Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ao(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Io(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xo(t,e){return(xo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jo(t,e){return!e||"object"!==Do(e)&&"function"!=typeof e?Mo(t):e}function Mo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lo(t){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xo(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Lo(r);if(o){var n=Lo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return jo(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"FMul")).functional=!0,t.inputs=[new ee("Val1",Mo(t),kt(_t.NUMBER,!1),0),new ee("Val2",Mo(t),kt(_t.NUMBER,!1),0)],t.outputs=[new re("Val",Mo(t),kt(_t.NUMBER,!1),0)],t.prev=null,t.nexts=[],t}return e=u,(n=[{key:"process",value:function(){var t=0;this.evaluateInputs();var e,n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ao(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ao(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}(this.inputs);try{for(n.s();!(e=n.n()).done;)t*=e.value.value}catch(t){n.e(t)}finally{n.f()}this.output("Val").value=t}}])&&Io(e.prototype,n),u}(tr);function Vo(){return new Wo}function Fo(t){return(Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xo(t,e){return(Xo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ho(t,e){return!e||"object"!==Fo(e)&&"function"!=typeof e?Go(t):e}function Go(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ko(t){return(Ko=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Yo={EQUAL:"equal",GT:"gt",GTE:"gte",LT:"lt",LTE:"lte",NOT_EQUAL:"not_equal"},$o=new WeakMap,Qo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xo(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ko(r);if(o){var n=Ko(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ho(this,t)});function u(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo.EQUAL;return Uo(this,u),t=i.call(this,"FCompare"),$o.set(Go(t),{writable:!0,value:Yo.EQUAL}),t.comparision=e,t.functional=!0,t.inputs=[new ee("Val1",Go(t),kt(_t.NUMBER,!1),0),new ee("Val2",Go(t),kt(_t.NUMBER,!1),0)],t.outputs=[new re("Val",Go(t),kt(_t.BOOLEAN,!1),0)],t.prev=null,t.nexts=[],t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();var t,e=this.input("Val1").value,n=this.input("Val2").value;switch(this.comparision){case Yo.EQUAL:t=e===n,bresk;case Yo.NOT_EQUAL:t=e!==n;break;case Yo.GT:t=e>n;break;case Yo.GTE:t=e>=n;break;case Yo.LT:t=e<n;break;case Yo.LTE:t=e<=n;break;default:throw"Comparision type not valid"}this.output("Val").value=t}},{key:"comparision",get:function(){return function(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}(this,$o)},set:function(t){!function(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}}(this,$o,t)}}])&&Bo(e.prototype,n),u}(tr);function Zo(){return new Qo}function qo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zo(t,e,n){if(t!==e)throw new TypeError("Private static access of wrong provenance");return n.get?n.get.call(t):n.value}var Jo=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"init",value:function(){t.registerNode("call","Core",fr),t.registerNode("console","Core",dr),t.registerNode("fgetvar","Core",Sr),t.registerNode("for","Core",xr),t.registerNode("getvar","Core",Br),t.registerNode("if","Core",po),t.registerNode("setvar","Core",Zr),t.registerNode("while","Core",oo),t.registerNode("fadd","Math",Eo),t.registerNode("fdiv","Math",To),t.registerNode("fmul","Math",Vo),t.registerNode("fcompare","Boolean",Zo)}},{key:"registerNode",value:function(e,n,r){zo(t,t,ti).set(e,{category:n,factory:r})}},{key:"getCategories",value:function(){var e=new Map;return Array.from(zo(this,t,ti).values()).forEach((function(t){e.set(t.category,0)})),Array.from(e.keys())}},{key:"getCategoryNodes",value:function(e){var n=[];return Array.from(zo(this,t,ti).entries()).forEach((function(t){t[1].category===e&&n.push({name:t[0],category:t[1].category,factory:t[1].factory})})),n}},{key:"getInstance",value:function(e){var n=zo(this,t,ti).get(e);return n?n.factory():null}}],null&&qo(e.prototype,null),n&&qo(e,n),t}(),ti={writable:!0,value:new Map};function ei(t){return(ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ni(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ri(t,e){return(ri=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oi(t,e){return!e||"object"!==ei(e)&&"function"!=typeof e?ii(t):e}function ii(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ui(t){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ci(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}function ai(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}var si=new WeakMap,fi=new WeakMap,li=new WeakMap,pi=new WeakMap,yi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ri(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ui(r);if(o){var n=ui(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return oi(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),e=i.call(this,t),si.set(ii(e),{writable:!0,value:new Map}),fi.set(ii(e),{writable:!0,value:null}),li.set(ii(e),{writable:!0,value:null}),pi.set(ii(e),{writable:!0,value:new Map}),e}return e=u,(n=[{key:"addNode",value:function(t,e){return ai(this,si).set(t.id,t),e&&ci(this,fi,t),t.program=this,this}},{key:"removeNode",value:function(t){return this.start&&this.start.id===t.id&&(this.start=null),ai(this,si).delete(t.id),t.program=null,this}},{key:"clear",value:function(){return ci(this,si,[]),this}},{key:"toString",value:function(){return"P{'"+this.name+"',{"+Array.from(ai(this,si).values()).reduce((function(t,e,n,r){return t+e.toString()+(n<r.length-1?",":"")}),"")+"}"}},{key:"process",value:function(){return ai(this,fi)&&this.processFrom(ai(this,fi)),new nr}},{key:"processFrom",value:function(t){for(this.currentNode=t;null!==this.currentNode;){var e=this.currentNode.process();this.currentNode=e.next}}},{key:"vars",get:function(){return ai(this,pi)},set:function(t){ci(this,pi,t)}},{key:"start",get:function(){return ai(this,fi)},set:function(t){ci(this,fi,t)}},{key:"currentNode",get:function(){return ai(this,li)},set:function(t){ci(this,li,t)}},{key:"nodes",get:function(){return ai(this,si)},set:function(t){ci(this,si,t)}}])&&ni(e.prototype,n),u}(tr);function hi(t){return new yi(t)}function bi(t){var e=document.getElementById(t);return e?(Jo.init(),new Vn(e)):(console.log("No element with id '".concat(t,"'")),null)}}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}return n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(671)})();
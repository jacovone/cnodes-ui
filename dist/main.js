var cnui;cnui=(()=>{"use strict";var t={529:(t,e,n)=>{function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function i(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}n.r(e),n.d(e,{Call:()=>Wn,Canvas:()=>bt,CnodeComponent:()=>yn,Comparision:()=>Eo,Component:()=>N,Console:()=>Gn,Env:()=>Do,FAdd:()=>$r,FCompare:()=>Ro,FDiv:()=>ro,FGetvar:()=>tr,FMul:()=>po,FlowSocket:()=>Le,For:()=>ar,Getvar:()=>br,If:()=>Ur,InputSocket:()=>Ie,NextSocket:()=>Be,Node:()=>Tn,OutputSocket:()=>Me,Position:()=>f,PrevSocket:()=>Fe,Program:()=>Vo,Result:()=>jn,Setvar:()=>Rr,Socket:()=>Te,Theme:()=>Nt,Type:()=>ie,Types:()=>ne,ValueSocket:()=>Ae,While:()=>Ar,callNode:()=>Fn,canvas:()=>Ko,consoleNode:()=>Yn,faddNode:()=>Zr,fcompareNode:()=>So,fdivNode:()=>oo,fgetvarNode:()=>er,fmulNode:()=>yo,forNode:()=>fr,getvarNode:()=>wr,ifNode:()=>Br,program:()=>Ho,setvarNode:()=>Sr,type:()=>ue,whileNode:()=>xr});var u=new WeakMap,a=new WeakMap,f=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u.set(this,{writable:!0,value:0}),a.set(this,{writable:!0,value:0}),i(this,u,e),i(this,a,n)}var e,n;return e=t,(n=[{key:"add",value:function(e){return new t(o(this,u)+e.x,o(this,a)+e.y)}},{key:"sub",value:function(e){return new t(o(this,u)-e.x,o(this,a)-e.y)}},{key:"x",get:function(){return o(this,u)},set:function(t){i(this,u,t)}},{key:"y",get:function(){return o(this,a)},set:function(t){i(this,a,t)}}])&&r(e.prototype,n),t}();function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function y(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function h(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var v=new WeakMap,b=new WeakMap,w=new WeakMap,d=new WeakMap,O=new WeakMap,m=new WeakMap,g=new WeakMap,E=new WeakMap,_=new WeakMap,R=new WeakSet,S=new WeakSet,k=new WeakSet,N=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),k.add(this),S.add(this),R.add(this),v.set(this,{writable:!0,value:null}),b.set(this,{writable:!0,value:null}),w.set(this,{writable:!0,value:null}),d.set(this,{writable:!0,value:!0}),O.set(this,{writable:!0,value:new f(0,0)}),m.set(this,{writable:!0,value:!1}),g.set(this,{writable:!0,value:null}),E.set(this,{writable:!0,value:null}),_.set(this,{writable:!0,value:[]})}var e,n;return e=t,(n=[{key:"setup",value:function(){var t=this;h(this,b,this.createElement()),y(this,b).componentRef=this,this.moveable&&(y(this,b).addEventListener("pointerdown",(function(e){p(t,R,D).call(t,e)})),y(this,b).addEventListener("pointerup",(function(e){p(t,S,T).call(t,e)})),y(this,b).addEventListener("pointermove",(function(e){p(t,k,P).call(t,e)})))}},{key:"createElement",value:function(){throw new Error("Element must be defined in a subclass!")}},{key:"updateSVGElement",value:function(){var t=this.absPos;y(this,b).setAttribute("transform","translate(".concat(t.x,",").concat(t.y,")"));var e,n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}(y(this,_));try{for(n.s();!(e=n.n()).done;)e.value.updateSVGElement()}catch(t){n.e(t)}finally{n.f()}}},{key:"addComponent",value:function(t){y(this,_).push(t),t.parent=this,t.canvas=this.canvas,this.svgEl.appendChild(t.componentEl),t.updateSVGElement()}},{key:"removeComponent",value:function(t){this.components=y(this,_).filter((function(e){return e!==t})),this.svgEl.removeChild(t.componentEl)}},{key:"destroy",value:function(){}},{key:"pos",get:function(){return y(this,O)},set:function(t){h(this,O,t),this.updateSVGElement()}},{key:"canvas",get:function(){return y(this,v)},set:function(t){h(this,v,t)}},{key:"componentEl",get:function(){return y(this,b)}},{key:"svgEl",get:function(){return y(this,v).svgEl}},{key:"moveable",get:function(){return y(this,d)},set:function(t){h(this,d,t)}},{key:"parent",get:function(){return y(this,w)},set:function(t){h(this,w,t)}},{key:"absPos",get:function(){var t=new f(y(this,O).x,y(this,O).y);if(y(this,w)){var e=y(this,w).absPos;t=t.add(e)}return t}}])&&l(e.prototype,n),t}(),D=function(t){y(this,d)&&(h(this,m,!0),h(this,g,y(this,v).clientToSvgPoint(t.clientX,t.clientY)),h(this,E,y(this,v).svgEl.createSVGPoint()),y(this,E).x=y(this,O).x,y(this,E).y=y(this,O).y,y(this,b).setPointerCapture(t.pointerId),t.stopPropagation())},T=function(t){y(this,d)&&(h(this,m,!1),y(this,b).releasePointerCapture(t.pointerId),t.stopPropagation())},P=function(t){if(y(this,d)){if(!y(this,m))return;var e=y(this,v).clientToSvgPoint(t.clientX,t.clientY),n=e.x-y(this,g).x,r=e.y-y(this,g).y;y(this,O).x=n+y(this,E).x,y(this,O).y=r+y(this,E).y,this.updateSVGElement(),t.stopPropagation()}};function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e,n){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=L(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function I(t,e){return(I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function C(t,e){return!e||"object"!==j(e)&&"function"!=typeof e?M(t):e}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function W(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function F(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function U(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var B=new WeakMap,V=new WeakMap,H=new WeakMap,K=new WeakSet,X=new WeakSet,G=new WeakSet,Y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=L(r);if(o){var n=L(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return C(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),e=i.call(this),G.add(M(e)),X.add(M(e)),K.add(M(e)),B.set(M(e),{writable:!0,value:!1}),V.set(M(e),{writable:!0,value:null}),H.set(M(e),{writable:!0,value:void 0}),U(M(e),H,t),e}return e=u,(n=[{key:"setup",value:function(){this.moveable=!1,x(L(u.prototype),"setup",this).call(this);var t=this;this.componentEl.addEventListener("pointerdown",(function(e){F(t,K,Q).call(t,e)})),this.componentEl.addEventListener("pointerup",(function(e){F(t,X,$).call(t,e)})),this.componentEl.addEventListener("pointermove",(function(e){F(t,G,Z).call(t,e)}))}},{key:"canAcceptPeerSocket",value:function(t){throw new Error("This method must be override in a subclass")}},{key:"socket",get:function(){return W(this,H)}}])&&A(e.prototype,n),u}(N),Q=function(t){U(this,B,!0),this.componentEl.setPointerCapture(t.pointerId),t.stopPropagation()},$=function(t){U(this,B,!1),this.componentEl.releasePointerCapture(t.pointerId),t.stopPropagation(),W(this,V)&&console.log("COnnesso a <".concat(W(this,V).socket.name,">!"))},Z=function(t){if(W(this,B)){this.canvas.clientToSvgPoint(t.clientX,t.clientY);var e=this.canvas.componentFromPosition(t.clientX,t.clientY,!0);e&&this.canAcceptPeerSocket(e)?U(this,V,e):U(this,V,null),t.stopPropagation()}};function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function z(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function J(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function tt(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var et=new WeakMap,nt=new WeakMap,rt=new WeakMap,ot=new WeakMap,it=new WeakMap,ut=new WeakMap,ct=new WeakMap,at=new WeakMap,ft=new WeakMap,st=new WeakSet,lt=new WeakSet,pt=new WeakSet,yt=new WeakSet,ht=new WeakSet,vt=new WeakSet,bt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),vt.add(this),ht.add(this),yt.add(this),pt.add(this),lt.add(this),st.add(this),et.set(this,{writable:!0,value:null}),nt.set(this,{writable:!0,value:0}),rt.set(this,{writable:!0,value:0}),ot.set(this,{writable:!0,value:100}),it.set(this,{writable:!0,value:100}),ut.set(this,{writable:!0,value:!1}),ct.set(this,{writable:!0,value:void 0}),at.set(this,{writable:!0,value:[]}),ft.set(this,{writable:!0,value:[]}),tt(this,et,document.createElementNS("http://www.w3.org/2000/svg","svg")),J(this,et).style.width="100%",J(this,et).style.height="100%",e.appendChild(J(this,et)),z(this,lt,dt).call(this);var n=this;window.addEventListener("resize",(function(){z(n,lt,dt).call(n)})),J(this,et).addEventListener("wheel",(function(t){z(n,pt,Ot).call(n,t)})),J(this,et).addEventListener("pointerdown",(function(t){z(n,yt,mt).call(n,t)})),J(this,et).addEventListener("pointerup",(function(t){z(n,ht,gt).call(n,t)})),J(this,et).addEventListener("pointermove",(function(t){z(n,vt,Et).call(n,t)}))}var e,n;return e=t,(n=[{key:"clientToSvgPoint",value:function(t,e){var n=J(this,et).createSVGPoint();return n.x=t,n.y=e,n.matrixTransform(J(this,et).getCTM().inverse())}},{key:"componentFromPosition",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=document.elementFromPoint(t,e);r;){if(r.componentRef&&(!n||r.componentRef instanceof Y))return r.componentRef;r=r.parentElement}return null}},{key:"addComponent",value:function(t){J(this,at).push(t),t.canvas=this,J(this,et).appendChild(t.componentEl)}},{key:"removeComponent",value:function(t){c.destroy(),this.components=J(this,at).filter((function(e){return e!==t})),J(this,et).removeChild(t.componentEl),J(this,ft).forEach((function(e){e.source!==t&&e.target!==t||e.destroy()})),tt(this,ft,J(this,ft).filter((function(e){return e.source!==t&&e.target!==t})))}},{key:"clear",value:function(){J(this,et).innerHTML="",tt(this,at,[]),tt(this,ft,[])}},{key:"svgEl",get:function(){return J(this,et)}}])&&q(e.prototype,n),t}(),wt=function(){J(this,et).setAttribute("viewBox","".concat(J(this,nt)," ").concat(J(this,rt)," ").concat(J(this,ot)," ").concat(J(this,it)))},dt=function(){tt(this,ot,J(this,et).parentElement.clientWidth),tt(this,it,J(this,et).parentElement.clientHeight),z(this,st,wt).call(this)},Ot=function(t){var e=this.clientToSvgPoint(t.clientX-J(this,et).getBoundingClientRect().left,t.clientY-J(this,et).getBoundingClientRect().top),n=1+.003*t.deltaY,r=J(this,ot)*n,o=J(this,it)*n;if(!(o<10||r<10||o>5e4||r>5e4)){var i=J(this,nt)-(r-J(this,ot))*((e.x-J(this,nt))/J(this,ot)),u=J(this,rt)-(o-J(this,it))*((e.y-J(this,rt))/J(this,it));tt(this,it,o),tt(this,ot,r),tt(this,nt,i),tt(this,rt,u),z(this,st,wt).call(this),t.stopPropagation()}},mt=function(t){tt(this,ut,!0),tt(this,ct,this.clientToSvgPoint(t.clientX,t.clientY)),J(this,et).setPointerCapture(t.pointerId)},gt=function(t){tt(this,ut,!1),J(this,et).releasePointerCapture(t.pointerId)},Et=function(t){if(J(this,ut)){var e=this.clientToSvgPoint(t.clientX,t.clientY),n=e.x-J(this,ct).x,r=e.y-J(this,ct).y;tt(this,nt,J(this,nt)-n),tt(this,rt,J(this,rt)-r),z(this,st,wt).call(this)}};function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Rt,St,kt,Nt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"NODE_WIDTH",get:function(){return 200}},{key:"NODE_BORDER_RADIUS",get:function(){return 15}},{key:"NODE_FILL_COLOR",get:function(){return"#FAD7A0"}},{key:"NODE_FUNCTIONAL_FILL_COLOR",get:function(){return"#C5F0FF"}},{key:"NODE_STROKE_COLOR",get:function(){return"#FAD7A0"}},{key:"NODE_FUNCTIONAL_STROKE_COLOR",get:function(){return"#C5F0FF"}},{key:"NODE_STROKE_WIDTH",get:function(){return 3}},{key:"NODE_TITLE_COLOR",get:function(){return"brown"}},{key:"NODE_FUNCTIONAL_TITLE_COLOR",get:function(){return"069DD1"}},{key:"NODE_TITLE_FONT",get:function(){return"bold 18px verdana"}},{key:"NODE_SYMBOL_STROKE_WIDTH",get:function(){return 3}},{key:"NODE_SYMBOL_STROKE_COLOR",get:function(){return"#FEF9E7"}},{key:"NODE_SYMBOL_FILL_COLOR",get:function(){return"#FEF9E7"}},{key:"NODE_PREV_NEXT_STROKE_WIDTH",get:function(){return 2}},{key:"NODE_PREV_NEXT_STROKE_COLOR",get:function(){return"#31A200"}},{key:"NODE_PREV_NEXT_FILL_COLOR",get:function(){return"#31A200"}},{key:"NODE_PREV_NEXT_NAME_FONT",get:function(){return"bold 11px verdana"}},{key:"NODE_PREV_NEXT_NAME_COLOR",get:function(){return"bold 11px black"}},{key:"NODE_IO_STROKE_WIDTH",get:function(){return 2}},{key:"NODE_IO_STROKE_COLOR",get:function(){return"#008EBF"}},{key:"NODE_IO_FILL_COLOR",get:function(){return"#008EBF"}},{key:"NODE_IO_NAME_FONT",get:function(){return"bold 11px verdana"}},{key:"NODE_IO_NAME_COLOR",get:function(){return"bold 11px black"}}])&&_t(e.prototype,n),t}();function Dt(t){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jt(t,e){return!e||"object"!==Dt(e)&&"function"!=typeof e?At(t):e}function At(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xt(t,e,n){return(xt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=It(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function It(t){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Rt=Nt,St="current",kt=new Nt,St in Rt?Object.defineProperty(Rt,St,{value:kt,enumerable:!0,configurable:!0,writable:!0}):Rt[St]=kt;var Ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=It(r);if(o){var n=It(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return jt(this,t)});function u(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),xt((e=At(n=i.call(this,t)),It(u.prototype)),"setup",e).call(e),n}return e=u,(n=[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d","\n      M -7 -8\n      L 7 -8\n      L 7 8\n      L -7 8\n      Z\n      "),t.setAttribute("stroke",Nt.current.NODE_PREV_NEXT_STROKE_COLOR),t.setAttribute("stroke-width",Nt.current.NODE_PREV_NEXT_STROKE_WIDTH),t.setAttribute("fill",Nt.current.NODE_PREV_NEXT_FILL_COLOR);var e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");e.style="\n      font: ".concat(Nt.current.NODE_PREV_NEXT_NAME_FONT,"; \n      color: ").concat(Nt.current.NODE_PREV_NEXT_NAME_COLOR,"; \n      text-align: left;\n      width: ").concat(Nt.current.NODE_WIDTH/2-15,"px;\n      height: 30px;\n      line-height: 30px;\n      user-select: none;\n      "),e.innerHTML="".concat(this.socket.name),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("transform","translate(".concat(15,", ",-15,")")),e.setAttribute("width",Nt.current.NODE_WIDTH/2-15),e.setAttribute("height",30);var n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.setAttribute("x",0),n.setAttribute("y",0),n.appendChild(t),n.appendChild(e),n}}])&&Tt(e.prototype,n),u}(Y);function Mt(t){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wt(t,e){return(Wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ft(t,e){return!e||"object"!==Mt(e)&&"function"!=typeof e?Ut(t):e}function Ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bt(t,e,n){return(Bt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Vt(t){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vt(r);if(o){var n=Vt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ft(this,t)});function u(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),Bt((e=Ut(n=i.call(this,t)),Vt(u.prototype)),"setup",e).call(e),n}return e=u,(n=[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d","\n      M -7 -8\n      L 7 -8\n      L 12 0\n      L 7 8\n      L -7 8\n      Z\n      "),t.setAttribute("stroke",Nt.current.NODE_PREV_NEXT_STROKE_COLOR),t.setAttribute("stroke-width",Nt.current.NODE_PREV_NEXT_STROKE_WIDTH),t.setAttribute("fill",Nt.current.NODE_PREV_NEXT_FILL_COLOR);var e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");e.style="\n      font: ".concat(Nt.current.NODE_PREV_NEXT_NAME_FONT,"; \n      color: ").concat(Nt.current.NODE_PREV_NEXT_NAME_COLOR,"; \n      text-align: right;\n      width: ").concat(Nt.current.NODE_WIDTH/2-15,"px;\n      height: 30px;\n      line-height: 30px;\n      user-select: none;\n      "),e.innerHTML="".concat(this.socket.name),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("transform","translate(".concat(-Nt.current.NODE_WIDTH/2,", ").concat(-15,")")),e.setAttribute("width",Nt.current.NODE_WIDTH/2-15),e.setAttribute("height",30);var n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.setAttribute("x",0),n.setAttribute("y",0),n.appendChild(t),n.appendChild(e),n}}])&&Lt(e.prototype,n),u}(Y);function Kt(t){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gt(t,e){return(Gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yt(t,e){return!e||"object"!==Kt(e)&&"function"!=typeof e?Qt(t):e}function Qt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $t(t,e,n){return($t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Zt(t){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Zt(r);if(o){var n=Zt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Yt(this,t)});function u(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),$t((e=Qt(n=i.call(this,t)),Zt(u.prototype)),"setup",e).call(e),n}return e=u,(n=[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","circle");t.setAttribute("cx",0),t.setAttribute("cy",0),t.setAttribute("r",10),t.setAttribute("stroke-width",Nt.current.NODE_IO_STROKE_WIDTH),t.setAttribute("stroke",Nt.current.NODE_IO_STROKE_COLOR),t.setAttribute("fill",Nt.current.NODE_IO_FILL_COLOR);var e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");e.style="\n      font: ".concat(Nt.current.NODE_IO_NAME_FONT,"; \n      color: ").concat(Nt.current.NODE_IO_NAME_COLOR,"; \n      text-align: right;\n      width: ").concat(Nt.current.NODE_WIDTH-30,"px;\n      height: 30px;\n      line-height: 30px;\n      user-select: none;\n      "),e.innerHTML="".concat(this.socket.name),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("transform","translate(".concat(15-Nt.current.NODE_WIDTH,", ").concat(-15,")")),e.setAttribute("width",Nt.current.NODE_WIDTH-30),e.setAttribute("height",30);var n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.setAttribute("x",0),n.setAttribute("y",0),n.appendChild(t),n.appendChild(e),n}}])&&Xt(e.prototype,n),u}(Y);function zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jt(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function te(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var ee,ne={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",OBJECT:"object",ANY:"any"},re=new WeakMap,oe=new WeakMap,ie=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),re.set(this,{writable:!0,value:ne.NUMBER}),oe.set(this,{writable:!0,value:!1}),te(this,re,e),te(this,oe,n)}var e,n;return e=t,(n=[{key:"type",get:function(){return Jt(this,re)},set:function(t){te(this,re,t)}},{key:"isArray",get:function(){return Jt(this,oe)},set:function(t){te(this,oe,t)}}])&&zt(e.prototype,n),t}();function ue(t,e){return new ie(t,e)}var ce=new Uint8Array(16);function ae(){if(!ee&&!(ee="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ee(ce)}const fe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,se=function(t){return"string"==typeof t&&fe.test(t)};for(var le=[],pe=0;pe<256;++pe)le.push((pe+256).toString(16).substr(1));const ye=function(t,e,n){var r=(t=t||{}).random||(t.rng||ae)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(le[t[e+0]]+le[t[e+1]]+le[t[e+2]]+le[t[e+3]]+"-"+le[t[e+4]]+le[t[e+5]]+"-"+le[t[e+6]]+le[t[e+7]]+"-"+le[t[e+8]]+le[t[e+9]]+"-"+le[t[e+10]]+le[t[e+11]]+le[t[e+12]]+le[t[e+13]]+le[t[e+14]]+le[t[e+15]]).toLowerCase();if(!se(n))throw TypeError("Stringified UUID is invalid");return n}(r)};function he(t){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ve(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&be(t,e)}function be(t,e){return(be=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function we(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=me(t);if(e){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return de(this,n)}}function de(t,e){return!e||"object"!==he(e)&&"function"!=typeof e?Oe(t):e}function Oe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function me(t){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _e(t,e,n){return e&&Ee(t.prototype,e),n&&Ee(t,n),t}function Re(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function Se(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var ke=new WeakMap,Ne=new WeakMap,De=new WeakMap,Te=function(){function t(e,n){ge(this,t),ke.set(this,{writable:!0,value:""}),Ne.set(this,{writable:!0,value:""}),De.set(this,{writable:!0,value:null}),Se(this,ke,ye()),Se(this,Ne,e),Se(this,De,n)}return _e(t,[{key:"id",get:function(){return Re(this,ke)}},{key:"name",get:function(){return Re(this,Ne)},set:function(t){Se(this,Ne,t)}},{key:"node",get:function(){return Re(this,De)},set:function(t){Se(this,De,t)}}]),t}(),Pe=new WeakMap,je=new WeakMap,Ae=function(t){ve(n,t);var e=we(n);function n(t,r){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i(ne.NUMBER,!1);return ge(this,n),o=e.call(this,t,r),Pe.set(Oe(o),{writable:!0,value:ue(ne.NUMBER,!1)}),je.set(Oe(o),{writable:!0,value:0}),o}return _e(n,[{key:"type",get:function(){return Re(this,Pe)},set:function(t){Se(this,Pe,t)}},{key:"value",get:function(){return Re(this,je)},set:function(t){Se(this,je,t)}}]),n}(Te),xe=new WeakMap,Ie=function(t){ve(n,t);var e=we(n);function n(t,r,o,i){var u;return ge(this,n),u=e.call(this,t,r,o,i),xe.set(Oe(u),{writable:!0,value:null}),u}return _e(n,[{key:"evaluate",value:function(){null!==this.peer&&(this.peer.node&&this.peer.node.functional&&this.peer.node.process(),this.type=this.peer.type,this.value=this.peer.value)}},{key:"connect",value:function(t){var e=this;this.peer=t,void 0===t.peers.find((function(t){return t.peer===e}))&&t.peers.push(this)}},{key:"disconnect",value:function(t){var e=this;this.peer=null;var n=t.peers.findIndex((function(t){return t.peer===e}));-1!==n&&t.peers.splice(n,1)}},{key:"peer",get:function(){return Re(this,xe)},set:function(t){Se(this,xe,t)}}]),n}(Ae),Ce=new WeakMap,Me=function(t){ve(n,t);var e=we(n);function n(t,r,o,i){var u;return ge(this,n),u=e.call(this,t,r,i,o),Ce.set(Oe(u),{writable:!0,value:[]}),u}return _e(n,[{key:"connect",value:function(t){void 0===this.peers.find((function(e){return e.peer===t}))&&this.peers.push(t),t.peer=this}},{key:"disconnect",value:function(t){var e=this.peers.find((function(e){return e.peer===t}));void 0!==e&&(this.peers.splice(e,1),t.peer=null)}},{key:"peers",get:function(){return Re(this,Ce)},set:function(t){Se(this,Ce,t)}}]),n}(Ae),Le=function(t){ve(n,t);var e=we(n);function n(t,r){return ge(this,n),e.call(this,t,r)}return n}(Te),We=new WeakMap,Fe=function(t){ve(n,t);var e=we(n);function n(t,r){var o;return ge(this,n),o=e.call(this,t,r),We.set(Oe(o),{writable:!0,value:[]}),o}return _e(n,[{key:"connect",value:function(t){void 0===this.peers.find((function(e){return e.peer===t}))&&this.peers.push(t),t.peer=this}},{key:"disconnect",value:function(t){var e=this.peers.find((function(e){return e.peer===t}));void 0!==e&&(this.peers.splice(e,1),t.peer=null)}},{key:"peers",get:function(){return Re(this,We)},set:function(t){Se(this,We,t)}}]),n}(Le),Ue=new WeakMap,Be=function(t){ve(n,t);var e=we(n);function n(t,r){var o;return ge(this,n),o=e.call(this,t,r),Ue.set(Oe(o),{writable:!0,value:null}),o}return _e(n,[{key:"connect",value:function(t){var e=this;this.peer=t,void 0===t.peers.find((function(t){return t.peer===e}))&&t.peers.push(this)}},{key:"disconnect",value:function(t){var e=this;this.peer=null;var n=t.peers.findIndex((function(t){return t.peer===e}));-1!==n&&t.peers.splice(n,1)}},{key:"peer",get:function(){return Re(this,Ue)},set:function(t){Se(this,Ue,t)}}]),n}(Le);function Ve(t){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function He(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ke(t,e){return(Ke=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xe(t,e){return!e||"object"!==Ve(e)&&"function"!=typeof e?Ge(t):e}function Ge(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ye(t,e,n){return(Ye="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qe(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Qe(t){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ke(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qe(r);if(o){var n=Qe(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Xe(this,t)});function u(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),Ye((e=Ge(n=i.call(this,t)),Qe(u.prototype)),"setup",e).call(e),n}return e=u,(n=[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","circle");t.setAttribute("cx",0),t.setAttribute("cy",0),t.setAttribute("r",10),t.setAttribute("stroke-width",Nt.current.NODE_IO_STROKE_WIDTH),t.setAttribute("stroke",Nt.current.NODE_IO_STROKE_COLOR),t.setAttribute("fill",Nt.current.NODE_IO_FILL_COLOR);var e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");e.style="\n    font: ".concat(Nt.current.NODE_IO_NAME_FONT,"; \n    color: ").concat(Nt.current.NODE_IO_NAME_COLOR,"; \n    text-align: left;\n    width: ").concat(Nt.current.NODE_WIDTH/2-15,"px;\n    height: 30px;\n    line-height: 30px;\n    user-select: none;\n    "),e.innerHTML="".concat(this.socket.name),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("transform","translate(".concat(15,", ",-15,")")),e.setAttribute("width",Nt.current.NODE_WIDTH/2-15),e.setAttribute("height",30);var n=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");n.style="\n    font: ".concat(Nt.current.NODE_IO_NAME_FONT,"; \n    color: ").concat(Nt.current.NODE_IO_NAME_COLOR,"; \n    text-align: left;\n    line-height: 30px;\n    user-select: none;\n    "),n.setAttribute("x",0),n.setAttribute("y",0),n.setAttribute("transform","translate(".concat(Nt.current.NODE_WIDTH/2,", ").concat(-15,")")),n.setAttribute("width",Nt.current.NODE_WIDTH/2-15),n.setAttribute("height",30);var r=document.createElement("input");r.style="\n    font: ".concat(Nt.current.NODE_IO_NAME_FONT,"; \n    color: ").concat(Nt.current.NODE_IO_NAME_COLOR,"; \n    width: ").concat(Nt.current.NODE_WIDTH/2-25,"px; // 5px less than foreignObject\n    height: ",20,"px;\n    border: 0;\n    padding: 2px;\n    margin: 2px;\n    "),r.setAttribute("value",this.socket.value),r.setAttribute("type","text"),n.appendChild(r);var o=document.createElementNS("http://www.w3.org/2000/svg","g");return o.setAttribute("x",0),o.setAttribute("y",0),o.appendChild(t),o.appendChild(e),o.appendChild(n),o}},{key:"canAcceptPeerSocket",value:function(t){return t.socket instanceof Me}}])&&He(e.prototype,n),u}(Y);function Ze(t){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qe(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return ze(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ze(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}function ze(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tn(t,e){return(tn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function en(t,e){return!e||"object"!==Ze(e)&&"function"!=typeof e?nn(t):e}function nn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rn(t,e,n){return(rn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=on(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function on(t){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function un(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function cn(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var an=new WeakMap,fn=new WeakMap,sn=new WeakMap,ln=new WeakMap,pn=new WeakSet,yn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tn(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=on(r);if(o){var n=on(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return en(this,t)});function u(t,e){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),r=i.call(this),pn.add(nn(r)),an.set(nn(r),{writable:!0,value:void 0}),fn.set(nn(r),{writable:!0,value:void 0}),sn.set(nn(r),{writable:!0,value:void 0}),ln.set(nn(r),{writable:!0,value:void 0}),cn(nn(r),an,t),rn((n=nn(r),on(u.prototype)),"setup",n).call(n),e.addComponent(nn(r)),function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}(nn(r),pn,hn).call(nn(r)),r}return e=u,(n=[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","g");return cn(this,fn,document.createElementNS("http://www.w3.org/2000/svg","path")),cn(this,sn,document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),cn(this,ln,document.createElementNS("http://www.w3.org/2000/svg","circle")),t.appendChild(un(this,fn)),t.appendChild(un(this,sn)),t.appendChild(un(this,ln)),un(this,fn).setAttribute("d","\n      M 0 ".concat(1.3*Nt.current.NODE_BORDER_RADIUS," \n      A ").concat(1.3*Nt.current.NODE_BORDER_RADIUS," ").concat(1.3*Nt.current.NODE_BORDER_RADIUS," 0 0 0 ").concat(1.3*Nt.current.NODE_BORDER_RADIUS," 0 \n      L ").concat(Nt.current.NODE_WIDTH-Nt.current.NODE_BORDER_RADIUS," 0 \n      A ").concat(Nt.current.NODE_BORDER_RADIUS," ").concat(Nt.current.NODE_BORDER_RADIUS," 0 0 1 ").concat(Nt.current.NODE_WIDTH," ").concat(Nt.current.NODE_BORDER_RADIUS," \n      L ").concat(Nt.current.NODE_WIDTH," ").concat(this.height-Nt.current.NODE_BORDER_RADIUS," \n      A ").concat(Nt.current.NODE_BORDER_RADIUS," ").concat(Nt.current.NODE_BORDER_RADIUS," 0 0 1 ").concat(Nt.current.NODE_WIDTH-Nt.current.NODE_BORDER_RADIUS," ").concat(this.height," \n      L ").concat(Nt.current.NODE_BORDER_RADIUS," ").concat(this.height," \n      A ").concat(Nt.current.NODE_BORDER_RADIUS," ").concat(Nt.current.NODE_BORDER_RADIUS," 0 0 1 0 ").concat(this.height-Nt.current.NODE_BORDER_RADIUS," \n      Z\n      ")),un(this,sn).innerHTML=this.node.name,un(this,sn).style="\n      font: ".concat(Nt.current.NODE_TITLE_FONT,"; \n      color: ").concat(this.node.functional?Nt.current.NODE_FUNCTIONAL_TITLE_COLOR:Nt.current.NODE_TITLE_COLOR,"; \n      text-align: center; \n      user-select: none"),un(this,sn).setAttribute("x",.5*Nt.current.NODE_BORDER_RADIUS),un(this,sn).setAttribute("y",.5*Nt.current.NODE_BORDER_RADIUS),un(this,sn).setAttribute("width",Nt.current.NODE_WIDTH-.5*Nt.current.NODE_BORDER_RADIUS*2),un(this,sn).setAttribute("height",20),un(this,fn).setAttribute("stroke",this.node.functional?Nt.current.NODE_FUNCTIONAL_STROKE_COLOR:Nt.current.NODE_STROKE_COLOR),un(this,fn).setAttribute("stroke-width",Nt.current.NODE_STROKE_WIDTH),un(this,fn).setAttribute("fill",this.node.functional?Nt.current.NODE_FUNCTIONAL_FILL_COLOR:Nt.current.NODE_FILL_COLOR),un(this,fn).setAttribute("x","0"),un(this,fn).setAttribute("y","0"),un(this,ln).setAttribute("cx",0),un(this,ln).setAttribute("cy",0),un(this,ln).setAttribute("r",.9*Nt.current.NODE_BORDER_RADIUS),un(this,ln).setAttribute("stroke",Nt.current.NODE_SYMBOL_STROKE_COLOR),un(this,ln).setAttribute("stroke-width",Nt.current.NODE_SYMBOL_STROKE_WIDTH),un(this,ln).setAttribute("fill",Nt.current.NODE_SYMBOL_FILL_COLOR),t.setAttribute("x","0"),t.setAttribute("y","0"),t}},{key:"node",get:function(){return un(this,an)}},{key:"height",get:function(){return.5*Nt.current.NODE_BORDER_RADIUS+40+30*Math.max(this.node.functional?0:1,this.node.nexts.length)+30*Math.max(0,this.node.outputs.length)+30*Math.max(0,this.node.inputs.length)+15}}])&&Je(e.prototype,n),u}(N),hn=function(){var t=40+.5*Nt.current.NODE_BORDER_RADIUS;if(this.node.prev){var e=new Ct(this.node.prev);e.pos=new f(0,t),this.addComponent(e)}var n,r=qe(this.node.nexts);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=new Ht(o);i.pos=new f(Nt.current.NODE_WIDTH,t),this.addComponent(i),t+=30}}catch(t){r.e(t)}finally{r.f()}var u,c=qe(this.node.outputs);try{for(c.s();!(u=c.n()).done;){var a=u.value,s=new qt(a);s.pos=new f(Nt.current.NODE_WIDTH,t),this.addComponent(s),t+=30}}catch(t){c.e(t)}finally{c.f()}var l,p=qe(this.node.inputs);try{for(p.s();!(l=p.n()).done;){var y=l.value,h=new $e(y);h.pos=new f(0,t),this.addComponent(h),t+=30}}catch(t){p.e(t)}finally{p.f()}};function vn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dn(t,e,n){return e&&wn(t.prototype,e),n&&wn(t,n),t}function On(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function mn(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var gn=new WeakMap,En=new WeakMap,_n=new WeakMap,Rn=new WeakMap,Sn=new WeakMap,kn=new WeakMap,Nn=new WeakMap,Dn=new WeakMap,Tn=function(){function t(e){bn(this,t),gn.set(this,{writable:!0,value:ye()}),En.set(this,{writable:!0,value:""}),_n.set(this,{writable:!0,value:!1}),Rn.set(this,{writable:!0,value:[]}),Sn.set(this,{writable:!0,value:[]}),kn.set(this,{writable:!0,value:[]}),Nn.set(this,{writable:!0,value:null}),Dn.set(this,{writable:!0,value:null}),mn(this,En,e)}return dn(t,[{key:"input",value:function(t){return this.inputs.find((function(e){return e.name===t}))}},{key:"output",value:function(t){return this.outputs.find((function(e){return e.name===t}))}},{key:"next",value:function(t){return t?this.nexts.find((function(e){return e.name===t})):this.nexts[0]}},{key:"evaluateInputs",value:function(){var t,e=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return vn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}(this.inputs);try{for(e.s();!(t=e.n()).done;)t.value.evaluate()}catch(t){e.e(t)}finally{e.f()}}},{key:"getFlowResult",value:function(t){return t.peer?new jn(t.peer.node):new jn}},{key:"toString",value:function(){return"N('"+On(this,En)+"',"+On(this,Rn).length+"i,"+On(this,Sn).length+"o,"+On(this,kn).length+"n)"}},{key:"process",value:function(){return new jn}},{key:"id",get:function(){return On(this,gn)}},{key:"name",get:function(){return On(this,En)},set:function(t){mn(this,En,t)}},{key:"functional",get:function(){return On(this,_n)},set:function(t){mn(this,_n,t)}},{key:"inputs",get:function(){return On(this,Rn)},set:function(t){mn(this,Rn,t)}},{key:"outputs",get:function(){return On(this,Sn)},set:function(t){mn(this,Sn,t)}},{key:"nexts",get:function(){return On(this,kn)},set:function(t){mn(this,kn,t)}},{key:"prev",get:function(){return On(this,Nn)},set:function(t){mn(this,Nn,t)}},{key:"program",get:function(){return On(this,Dn)},set:function(t){mn(this,Dn,t)}}]),t}(),Pn=new WeakMap,jn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;bn(this,t),Pn.set(this,{writable:!0,value:null}),mn(this,Pn,e)}return dn(t,[{key:"next",get:function(){return On(this,Pn)},set:function(t){mn(this,Pn,t)}}]),t}();function An(t){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function In(t,e){return(In=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Cn(t,e){return!e||"object"!==An(e)&&"function"!=typeof e?Mn(t):e}function Mn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ln(t){return(Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&In(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ln(r);if(o){var n=Ln(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Cn(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"Call")).inputs=[],t.outputs=[],t.nexts=[new Be("Out",Mn(t)),new Be("Call",Mn(t))],t.prev=new Fe("In",Mn(t)),t}return e=u,(n=[{key:"process",value:function(){var t=this.program.currentNode;return this.program.processFrom(this.next("Call").peer.node),this.program.currentNode=t,this.getFlowResult(this.next("Out"))}}])&&xn(e.prototype,n),u}(Tn);function Fn(){return new Wn}function Un(t){return(Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vn(t,e){return(Vn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hn(t,e){return!e||"object"!==Un(e)&&"function"!=typeof e?Kn(t):e}function Kn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xn(t){return(Xn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vn(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xn(r);if(o){var n=Xn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Hn(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"Console")).inputs=[new Ie("Val",Kn(t),ue(ne.ANY,!1),0)],t.outputs=[],t.nexts=[new Be("Out",Kn(t))],t.prev=new Fe("In",Kn(t)),t}return e=u,(n=[{key:"process",value:function(){return this.evaluateInputs(),console.log(this.input("Val").value),new jn,this.getFlowResult(this.next("Out"))}}])&&Bn(e.prototype,n),u}(Tn);function Yn(){return new Gn}function Qn(t){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zn(t,e){return(Zn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qn(t,e){return!e||"object"!==Qn(e)&&"function"!=typeof e?zn(t):e}function zn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jn(t){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zn(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Jn(r);if(o){var n=Jn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return qn(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"FGetvar")).functional=!0,t.inputs=[new Ie("Name",zn(t),Qn(""),"")],t.outputs=[new Me("Val",zn(t),Qn(""),"")],t.nexts=[],t.prev=null,t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();var t=this.input("Name").value;this.output("Val").value=this.program.vars.get(t)}}])&&$n(e.prototype,n),u}(Tn);function er(){return new tr}function nr(t){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function or(t,e){return(or=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ir(t,e){return!e||"object"!==nr(e)&&"function"!=typeof e?ur(t):e}function ur(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cr(t){return(cr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ar=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&or(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=cr(r);if(o){var n=cr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ir(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"For")).inputs=[new Ie("From",ur(t),new ie(ne.NUMBER,!1),!1),new Ie("To",ur(t),new ie(ne.NUMBER,!1),!1)],t.outputs=[new Me("Index",ur(t),new ie(ne.NUMBER,!1),!1)],t.nexts=[new Be("Out",ur(t)),new Be("Do",ur(t))],t.prev=new Fe("In",ur(t)),t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();for(var t=this.program.currentNode,e=this.input("From").value;e<this.input("To").value;e++)null!==this.next("Do").peer&&null!==this.next("Do").peer.node&&(this.output("Index").value=e,this.program.processFrom(this.next("Do").peer.node));return this.program.currentNode=t,this.getFlowResult(this.next("Out"))}}])&&rr(e.prototype,n),u}(Tn);function fr(){return new ar}function sr(t){return(sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pr(t,e){return(pr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yr(t,e){return!e||"object"!==sr(e)&&"function"!=typeof e?hr(t):e}function hr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vr(t){return(vr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var br=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=vr(r);if(o){var n=vr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return yr(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"Getvar")).inputs=[new Ie("Name",hr(t),sr(""),"")],t.outputs=[new Me("Val",hr(t),sr(""),"")],t.nexts=[new Be("Out",hr(t))],t.prev=new Fe("In",hr(t)),t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();var t=this.input("Name").value;return this.output("Val").value=this.program.vars.get(t),this.getFlowResult(this.next("Out"))}}])&&lr(e.prototype,n),u}(Tn);function wr(){return new br}function dr(t){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Or(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mr(t,e){return(mr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gr(t,e){return!e||"object"!==dr(e)&&"function"!=typeof e?Er(t):e}function Er(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _r(t){return(_r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_r(r);if(o){var n=_r(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return gr(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"Setvar")).inputs=[new Ie("Name",Er(t),dr(""),""),new Ie("Val",Er(t),dr(""),"")],t.outputs=[new Me("Val",Er(t),dr(""),"")],t.nexts=[new Be("Out",Er(t))],t.prev=new Fe("In",Er(t)),t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();var t=this.input("Name").value,e=this.input("Val").value;return this.program.vars.set(t,e),this.output("Val").value=e,this.getFlowResult(this.next("Out"))}}])&&Or(e.prototype,n),u}(Tn);function Sr(){return new Rr}function kr(t){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dr(t,e){return(Dr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tr(t,e){return!e||"object"!==kr(e)&&"function"!=typeof e?Pr(t):e}function Pr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jr(t){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ar=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jr(r);if(o){var n=jr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Tr(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"While")).inputs=[new Ie("Condition",Pr(t),new ie(ne.BOOLEAN,!1),!1)],t.outputs=[new Me("Index",Pr(t),new ie(ne.NUMBER,!1),!1)],t.nexts=[new Be("Out",Pr(t)),new Be("Do",Pr(t))],t.prev=new Fe("In",Pr(t)),t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();for(var t=this.program.currentNode;this.input("Condition").value;)null!==this.nexts("Do").peer&&null!==this.nexts("Do").peer.node&&(this.output("Index").value=0,this.program.processFrom(this.next("Do").peer.node),this.evaluateInputs());return this.program.currentNode=t,this.getFlowResult(this.next("Out"))}}])&&Nr(e.prototype,n),u}(Tn);function xr(){return new Ar}function Ir(t){return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mr(t,e){return(Mr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lr(t,e){return!e||"object"!==Ir(e)&&"function"!=typeof e?Wr(t):e}function Wr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fr(t){return(Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ur=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Fr(r);if(o){var n=Fr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Lr(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"If")).inputs=[new Ie("Condition",Wr(t),new ie(ne.BOOLEAN,!1),!1)],t.outputs=[],t.nexts=[new Be("Then",Wr(t)),new Be("Else",Wr(t))],t.prev=new Fe("In",Wr(t)),t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();var t;return t=this.input("Condition").value?this.next("Then"):this.next("Else"),this.getFlowResult(t)}}])&&Cr(e.prototype,n),u}(Tn);function Br(){return new Ur}function Vr(t){return(Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xr(t,e){return(Xr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gr(t,e){return!e||"object"!==Vr(e)&&"function"!=typeof e?Yr(t):e}function Yr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qr(t){return(Qr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $r=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qr(r);if(o){var n=Qr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Gr(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"FAdd")).functional=!0,t.inputs=[new Ie("Val1",Yr(t),ue(ne.NUMBER,!1),0),new Ie("Val2",Yr(t),ue(ne.NUMBER,!1),0)],t.outputs=[new Me("Val",Yr(t),ue(ne.NUMBER,!1),0)],t.prev=null,t.nexts=[],t}return e=u,(n=[{key:"process",value:function(){var t=0;this.evaluateInputs();var e,n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Hr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hr(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}(this.inputs);try{for(n.s();!(e=n.n()).done;)t+=e.value.value}catch(t){n.e(t)}finally{n.f()}this.output("Val").value=t}}])&&Kr(e.prototype,n),u}(Tn);function Zr(){return new $r}function qr(t){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jr(t,e){return(Jr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function to(t,e){return!e||"object"!==qr(e)&&"function"!=typeof e?eo(t):e}function eo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function no(t){return(no=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ro=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=no(r);if(o){var n=no(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return to(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"FDiv")).functional=!0,t.inputs=[new Ie("Val1",eo(t),ue(ne.NUMBER,!1),0),new Ie("Val2",eo(t),ue(ne.NUMBER,!1),0)],t.outputs=[new Me("Val",eo(t),ue(ne.NUMBER,!1),0)],t.prev=null,t.nexts=[],t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs(),this.output("Val").value=this.input("Val1").value/this.input("Val2").value}}])&&zr(e.prototype,n),u}(Tn);function oo(){return new ro}function io(t){return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function co(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ao(t,e){return(ao=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fo(t,e){return!e||"object"!==io(e)&&"function"!=typeof e?so(t):e}function so(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lo(t){return(lo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var po=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ao(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lo(r);if(o){var n=lo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return fo(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"FMul")).functional=!0,t.inputs=[new Ie("Val1",so(t),ue(ne.NUMBER,!1),0),new Ie("Val2",so(t),ue(ne.NUMBER,!1),0)],t.outputs=[new Me("Val",so(t),ue(ne.NUMBER,!1),0)],t.prev=null,t.nexts=[],t}return e=u,(n=[{key:"process",value:function(){var t=0;this.evaluateInputs();var e,n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return uo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uo(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}(this.inputs);try{for(n.s();!(e=n.n()).done;)t*=e.value.value}catch(t){n.e(t)}finally{n.f()}this.output("Val").value=t}}])&&co(e.prototype,n),u}(Tn);function yo(){return new po}function ho(t){return(ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wo(t,e){return(wo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Oo(t,e){return!e||"object"!==ho(e)&&"function"!=typeof e?mo(t):e}function mo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function go(t){return(go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Eo={EQUAL:"equal",GT:"gt",GTE:"gte",LT:"lt",LTE:"lte",NOT_EQUAL:"not_equal"},_o=new WeakMap,Ro=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wo(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=go(r);if(o){var n=go(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Oo(this,t)});function u(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eo.EQUAL;return vo(this,u),t=i.call(this,"FCompare"),_o.set(mo(t),{writable:!0,value:Eo.EQUAL}),t.comparision=e,t.functional=!0,t.inputs=[new Ie("Val1",mo(t),ue(ne.NUMBER,!1),0),new Ie("Val2",mo(t),ue(ne.NUMBER,!1),0)],t.outputs=[new Me("Val",mo(t),ue(ne.BOOLEAN,!1),0)],t.prev=null,t.nexts=[],t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();var t,e=this.input("Val1").value,n=this.input("Val2").value;switch(this.comparision){case Eo.EQUAL:t=e===n,bresk;case Eo.NOT_EQUAL:t=e!==n;break;case Eo.GT:t=e>n;break;case Eo.GTE:t=e>=n;break;case Eo.LT:t=e<n;break;case Eo.LTE:t=e<=n;break;default:throw"Comparision type not valid"}this.output("Val").value=t}},{key:"comparision",get:function(){return function(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}(this,_o)},set:function(t){!function(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}}(this,_o,t)}}])&&bo(e.prototype,n),u}(Tn);function So(){return new Ro}function ko(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function No(t,e,n){if(t!==e)throw new TypeError("Private static access of wrong provenance");return n.get?n.get.call(t):n.value}var Do=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"init",value:function(){t.registerNode("call","Core",Fn),t.registerNode("console","Core",Yn),t.registerNode("fgetvar","Core",er),t.registerNode("for","Core",fr),t.registerNode("getvar","Core",wr),t.registerNode("if","Core",Br),t.registerNode("setvar","Core",Sr),t.registerNode("while","Core",xr),t.registerNode("fadd","Math",Zr),t.registerNode("fdiv","Math",oo),t.registerNode("fmul","Math",yo),t.registerNode("fcompare","Boolean",So)}},{key:"registerNode",value:function(e,n,r){No(t,t,To).set(e,{category:n,factory:r})}},{key:"getCategories",value:function(){var e=new Map;return Array.from(No(this,t,To).values()).forEach((function(t){e.set(t.category,0)})),Array.from(e.keys())}},{key:"getCategoryNodes",value:function(e){var n=[];return Array.from(No(this,t,To).entries()).forEach((function(t){t[1].category===e&&n.push({name:t[0],category:t[1].category,factory:t[1].factory})})),n}},{key:"getInstance",value:function(e){var n=No(this,t,To).get(e);return n?n.factory():null}}],null&&ko(e.prototype,null),n&&ko(e,n),t}(),To={writable:!0,value:new Map};function Po(t){return(Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ao(t,e){return(Ao=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xo(t,e){return!e||"object"!==Po(e)&&"function"!=typeof e?Io(t):e}function Io(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Co(t){return(Co=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mo(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}function Lo(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}var Wo=new WeakMap,Fo=new WeakMap,Uo=new WeakMap,Bo=new WeakMap,Vo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ao(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Co(r);if(o){var n=Co(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return xo(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),e=i.call(this,t),Wo.set(Io(e),{writable:!0,value:new Map}),Fo.set(Io(e),{writable:!0,value:null}),Uo.set(Io(e),{writable:!0,value:null}),Bo.set(Io(e),{writable:!0,value:new Map}),e}return e=u,(n=[{key:"addNode",value:function(t,e){return Lo(this,Wo).set(t.id,t),e&&Mo(this,Fo,t),t.program=this,this}},{key:"removeNode",value:function(t){return this.start&&this.start.id===t.id&&(this.start=null),Lo(this,Wo).delete(t.id),t.program=null,this}},{key:"clear",value:function(){return Mo(this,Wo,[]),this}},{key:"toString",value:function(){return"P{'"+this.name+"',{"+Array.from(Lo(this,Wo).values()).reduce((function(t,e,n,r){return t+e.toString()+(n<r.length-1?",":"")}),"")+"}"}},{key:"process",value:function(){return Lo(this,Fo)&&this.processFrom(Lo(this,Fo)),new jn}},{key:"processFrom",value:function(t){for(this.currentNode=t;null!==this.currentNode;){var e=this.currentNode.process();this.currentNode=e.next}}},{key:"vars",get:function(){return Lo(this,Bo)},set:function(t){Mo(this,Bo,t)}},{key:"start",get:function(){return Lo(this,Fo)},set:function(t){Mo(this,Fo,t)}},{key:"currentNode",get:function(){return Lo(this,Uo)},set:function(t){Mo(this,Uo,t)}},{key:"nodes",get:function(){return Lo(this,Wo)},set:function(t){Mo(this,Wo,t)}}])&&jo(e.prototype,n),u}(Tn);function Ho(t){return new Vo(t)}function Ko(t){var e=document.getElementById(t);return e?(Do.init(),new bt(e)):(console.log("No element with id '".concat(t,"'")),null)}}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}return n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(529)})();
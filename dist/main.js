var cnodesui;cnodesui=(()=>{"use strict";var t={100:(t,e,n)=>{function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function o(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function a(t,e,n){var i=e.get(t);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(t,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}return n}n.r(e),n.d(e,{canvas:()=>dt,fill:()=>vt});var s=new WeakMap,l=new WeakMap,u=new WeakMap,c=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,v=new WeakMap,d=new WeakSet,w=new WeakSet,y=new WeakSet,b=new WeakSet,m=new WeakSet,g=new WeakSet,k=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),g.add(this),m.add(this),b.add(this),y.add(this),w.add(this),d.add(this),s.set(this,{writable:!0,value:null}),l.set(this,{writable:!0,value:0}),u.set(this,{writable:!0,value:0}),c.set(this,{writable:!0,value:100}),h.set(this,{writable:!0,value:100}),f.set(this,{writable:!0,value:!1}),p.set(this,{writable:!0,value:void 0}),v.set(this,{writable:!0,value:[]}),a(this,s,document.createElementNS("http://www.w3.org/2000/svg","svg")),o(this,s).style.width="100%",o(this,s).style.height="100%",e.appendChild(o(this,s)),r(this,w,S).call(this);var n=this;window.addEventListener("resize",(function(){r(n,w,S).call(n)})),o(this,s).addEventListener("wheel",(function(t){r(n,y,x).call(n,t)})),o(this,s).addEventListener("pointerdown",(function(t){r(n,b,W).call(n,t)})),o(this,s).addEventListener("pointerup",(function(t){r(n,m,P).call(n,t)})),o(this,s).addEventListener("pointermove",(function(t){r(n,g,T).call(n,t)}))}var e,n;return e=t,(n=[{key:"clientToSvgPoint",value:function(t,e){var n=o(this,s).createSVGPoint();return n.x=t,n.y=e,n.matrixTransform(o(this,s).getCTM().inverse())}},{key:"addComponent",value:function(t){o(this,v).push(t),t.canvas=this,o(this,s).appendChild(t.componentEl)}},{key:"removeComponent",value:function(t){this.components=o(this,v).filter((function(e){return e!==t})),o(this,s).removeChild(t.componentEl)}},{key:"clear",value:function(){o(this,s).innerHTML=""}},{key:"svgEl",get:function(){return o(this,s)}}])&&i(e.prototype,n),t}(),E=function(){o(this,s).setAttribute("viewBox","".concat(o(this,l)," ").concat(o(this,u)," ").concat(o(this,c)," ").concat(o(this,h)))},S=function(){a(this,c,o(this,s).parentElement.clientWidth),a(this,h,o(this,s).parentElement.clientHeight),r(this,d,E).call(this)},x=function(t){var e=this.clientToSvgPoint(t.clientX,t.clientY),n=1+.003*t.deltaY,i=o(this,c)*n,s=o(this,h)*n;if(!(s<10||i<10||s>5e4||i>5e4)){var f=o(this,l)-(i-o(this,c))*((e.x-o(this,l))/o(this,c)),p=o(this,u)-(s-o(this,h))*((e.y-o(this,u))/o(this,h));a(this,h,s),a(this,c,i),a(this,l,f),a(this,u,p),r(this,d,E).call(this),t.stopPropagation()}},W=function(t){a(this,f,!0),a(this,p,this.clientToSvgPoint(t.clientX,t.clientY)),o(this,s).setPointerCapture(t.pointerId)},P=function(t){a(this,f,!1),o(this,s).releasePointerCapture(t.pointerId)},T=function(t){if(o(this,f)){var e=this.clientToSvgPoint(t.clientX,t.clientY),n=e.x-o(this,p).x,i=e.y-o(this,p).y;a(this,l,o(this,l)-n),a(this,u,o(this,u)-i),r(this,d,E).call(this)}};function M(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function O(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function C(t,e,n){var i=e.get(t);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(t,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}return n}var j=new WeakMap,A=new WeakMap,L=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),j.set(this,{writable:!0,value:0}),A.set(this,{writable:!0,value:0}),C(this,j,e),C(this,A,n)}var e,n;return e=t,(n=[{key:"add",value:function(e){return new t(O(this,j)+e.x,O(this,A)+e.y)}},{key:"sub",value:function(e){return new t(O(this,j)-e.x,O(this,A)-e.y)}},{key:"x",get:function(){return O(this,j)},set:function(t){C(this,j,t)}},{key:"y",get:function(){return O(this,A)},set:function(t){C(this,A,t)}}])&&M(e.prototype,n),t}();function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function I(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function G(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function V(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function R(t,e,n){var i=e.get(t);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(t,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}return n}var Y=new WeakMap,X=new WeakMap,H=new WeakMap,N=new WeakMap,z=new WeakMap,B=new WeakMap,D=new WeakMap,U=new WeakMap,$=new WeakMap,q=new WeakSet,F=new WeakSet,J=new WeakSet,K=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),J.add(this),F.add(this),q.add(this),Y.set(this,{writable:!0,value:null}),X.set(this,{writable:!0,value:null}),H.set(this,{writable:!0,value:null}),N.set(this,{writable:!0,value:!0}),z.set(this,{writable:!0,value:new L(0,0)}),B.set(this,{writable:!0,value:!1}),D.set(this,{writable:!0,value:null}),U.set(this,{writable:!0,value:null}),$.set(this,{writable:!0,value:[]});var e=this;R(this,X,this.createElement()),V(this,X).addEventListener("pointerdown",(function(t){G(e,q,Q).call(e,t)})),V(this,X).addEventListener("pointerup",(function(t){G(e,F,Z).call(e,t)})),V(this,X).addEventListener("pointermove",(function(t){G(e,J,tt).call(e,t)}))}return e=t,(n=[{key:"createElement",value:function(){throw new Error("Element must be defined in a subclass!")}},{key:"updateSVGElement",value:function(){var t=this.absPos;V(this,X).setAttribute("transform","translate(".concat(t.x,",").concat(t.y,")"));var e,n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(V(this,$));try{for(n.s();!(e=n.n()).done;)e.value.updateSVGElement()}catch(t){n.e(t)}finally{n.f()}}},{key:"addComponent",value:function(t){V(this,$).push(t),t.parent=this,t.canvas=this.canvas,this.svgEl.appendChild(t.componentEl),t.updateSVGElement()}},{key:"removeComponent",value:function(t){this.components=V(this,$).filter((function(e){return e!==t})),this.svgEl.removeChild(t.componentEl)}},{key:"pos",get:function(){return V(this,z)},set:function(t){R(this,z,t),this.updateSVGElement()}},{key:"canvas",get:function(){return V(this,Y)},set:function(t){R(this,Y,t)}},{key:"componentEl",get:function(){return V(this,X)}},{key:"svgEl",get:function(){return V(this,Y).svgEl}},{key:"moveable",get:function(){return V(this,N)},set:function(t){R(this,N,t)}},{key:"parent",get:function(){return V(this,H)},set:function(t){R(this,H,t)}},{key:"absPos",get:function(){var t=new L(V(this,z).x,V(this,z).y);if(V(this,H)){var e=V(this,H).absPos;t=t.add(e)}return t}}])&&I(e.prototype,n),i&&I(e,i),t;var e,n,i}(),Q=function(t){V(this,N)&&(R(this,B,!0),R(this,D,V(this,Y).clientToSvgPoint(t.clientX,t.clientY)),R(this,U,V(this,Y).svgEl.createSVGPoint()),V(this,U).x=V(this,z).x,V(this,U).y=V(this,z).y,V(this,X).setPointerCapture(t.pointerId),t.stopPropagation())},Z=function(t){V(this,N)&&(R(this,B,!1),V(this,X).releasePointerCapture(t.pointerId),t.stopPropagation())},tt=function(t){if(V(this,N)){if(!V(this,B))return;var e=V(this,Y).clientToSvgPoint(t.clientX,t.clientY),n=e.x-V(this,D).x,i=e.y-V(this,D).y;V(this,z).x=n+V(this,U).x,V(this,z).y=i+V(this,U).y,this.updateSVGElement(),t.stopPropagation()}};function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rt(t,e){return!e||"object"!==et(e)&&"function"!=typeof e?ot(t):e}function ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function st(t,e,n){var i=e.get(t);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(t,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}return n}function lt(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}new WeakMap;var ut,ct=new WeakMap,ht=new WeakMap,ft=new WeakMap,pt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(a,t);var e,n,i,r,o=(i=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=at(i);if(r){var n=at(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return rt(this,t)});function a(t,e,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i=o.call(this),ct.set(ot(i),{writable:!0,value:""}),ht.set(ot(i),{writable:!0,value:0}),ft.set(ot(i),{writable:!0,value:0}),i.html=t,i.width=e,i.height=n,i}return e=a,(n=[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");return t.setAttribute("x","0"),t.setAttribute("y","0"),t}},{key:"html",get:function(){return lt(this,ct)},set:function(t){st(this,ct,t),this.componentEl.innerHTML=lt(this,ct)}},{key:"width",get:function(){return lt(this,ht)},set:function(t){st(this,ht,t),this.componentEl.setAttribute("width",lt(this,ht))}},{key:"height",get:function(){return lt(this,ft)},set:function(t){st(this,ft,t),this.componentEl.setAttribute("height",lt(this,ft))}}])&&nt(e.prototype,n),a}(K);function vt(){ut.clear();for(var t=0;t<100;t++){var e=8e3*Math.random(),n=8e3*Math.random(),i=new pt('<div \n        style=\'border: 5px solid orange;border-radius:20px;\n        top:0;left:0;right:0;bottom:0;position:absolute;\n        background-color: lightyellow;\n        display: flex;\n        flex-flow: column;\n        padding:5px;user-select:none\'>\n\n        <div style="display: flex; flex-flow: row">\n          <div style="flex: 1 1 auto"></div>\n          <div style="font-size: 24px; font-weight: bold">Add</div>\n          <div style="flex: 1 1 auto"></div>\n        </div>\n\n\n\n      </div>',200,300);i.moveable=!0,i.pos=new L(e,n),ut.addComponent(i)}}function dt(t){var e=document.getElementById(t);e?(ut=new k(e),vt()):console.log("No element with id '".concat(t,"'"))}}},e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}return n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(100)})();
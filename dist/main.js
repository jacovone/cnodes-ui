var cnui;cnui=(()=>{"use strict";var t={529:(t,e,n)=>{function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function i(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}n.r(e),n.d(e,{Call:()=>Un,Canvas:()=>dt,CnodeComponent:()=>bn,Comparision:()=>Ro,Component:()=>N,Console:()=>Qn,Env:()=>Po,FAdd:()=>qr,FCompare:()=>ko,FDiv:()=>io,FGetvar:()=>nr,FMul:()=>ho,FlowSocket:()=>fe,For:()=>fr,Getvar:()=>dr,If:()=>Br,InputSocket:()=>ce,NextSocket:()=>he,Node:()=>An,OutputSocket:()=>se,Position:()=>s,PrevSocket:()=>pe,Program:()=>Ko,Result:()=>Cn,Setvar:()=>kr,Socket:()=>ne,Theme:()=>Oe,Type:()=>jt,Types:()=>Tt,ValueSocket:()=>ie,While:()=>xr,callNode:()=>Vn,canvas:()=>Go,consoleNode:()=>$n,faddNode:()=>zr,fcompareNode:()=>No,fdivNode:()=>uo,fgetvarNode:()=>rr,fmulNode:()=>bo,forNode:()=>lr,getvarNode:()=>Or,ifNode:()=>Hr,program:()=>Xo,setvarNode:()=>Nr,type:()=>Ct,whileNode:()=>Ir});var u=new WeakMap,a=new WeakMap,s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u.set(this,{writable:!0,value:0}),a.set(this,{writable:!0,value:0}),i(this,u,e),i(this,a,n)}var e,n;return e=t,(n=[{key:"add",value:function(e){return new t(o(this,u)+e.x,o(this,a)+e.y)}},{key:"sub",value:function(e){return new t(o(this,u)-e.x,o(this,a)-e.y)}},{key:"x",get:function(){return o(this,u)},set:function(t){i(this,u,t)}},{key:"y",get:function(){return o(this,a)},set:function(t){i(this,a,t)}}])&&r(e.prototype,n),t}();function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function y(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function h(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var b=new WeakMap,v=new WeakMap,w=new WeakMap,d=new WeakMap,O=new WeakMap,m=new WeakMap,g=new WeakMap,E=new WeakMap,_=new WeakMap,R=new WeakSet,S=new WeakSet,k=new WeakSet,N=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),k.add(this),S.add(this),R.add(this),b.set(this,{writable:!0,value:null}),v.set(this,{writable:!0,value:null}),w.set(this,{writable:!0,value:null}),d.set(this,{writable:!0,value:!0}),O.set(this,{writable:!0,value:new s(0,0)}),m.set(this,{writable:!0,value:!1}),g.set(this,{writable:!0,value:null}),E.set(this,{writable:!0,value:null}),_.set(this,{writable:!0,value:[]})}var e,n;return e=t,(n=[{key:"setup",value:function(){var t=this;h(this,v,this.createElement()),y(this,v).componentRef=this,this.moveable&&(y(this,v).addEventListener("pointerdown",(function(e){p(t,R,D).call(t,e)})),y(this,v).addEventListener("pointerup",(function(e){p(t,S,T).call(t,e)})),y(this,v).addEventListener("pointermove",(function(e){p(t,k,P).call(t,e)})))}},{key:"createElement",value:function(){throw new Error("Element must be defined in a subclass!")}},{key:"updateSVGElement",value:function(){var t=this.absPos;y(this,v).setAttribute("transform","translate(".concat(t.x,",").concat(t.y,")"));var e,n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}(y(this,_));try{for(n.s();!(e=n.n()).done;)e.value.updateSVGElement()}catch(t){n.e(t)}finally{n.f()}}},{key:"addComponent",value:function(t){y(this,_).push(t),t.parent=this,t.canvas=this.canvas,this.svgEl.appendChild(t.componentEl),t.updateSVGElement()}},{key:"removeComponent",value:function(t){this.components=y(this,_).filter((function(e){return e!==t})),this.svgEl.removeChild(t.componentEl)}},{key:"destroy",value:function(){}},{key:"pos",get:function(){return y(this,O)},set:function(t){h(this,O,t),this.updateSVGElement()}},{key:"canvas",get:function(){return y(this,b)},set:function(t){h(this,b,t)}},{key:"componentEl",get:function(){return y(this,v)}},{key:"svgEl",get:function(){return y(this,b).svgEl}},{key:"moveable",get:function(){return y(this,d)},set:function(t){h(this,d,t)}},{key:"parent",get:function(){return y(this,w)},set:function(t){h(this,w,t)}},{key:"absPos",get:function(){var t=new s(y(this,O).x,y(this,O).y);if(y(this,w)){var e=y(this,w).absPos;t=t.add(e)}return t}}])&&l(e.prototype,n),t}(),D=function(t){y(this,d)&&(h(this,m,!0),h(this,g,y(this,b).clientToSvgPoint(t.clientX,t.clientY)),h(this,E,y(this,b).svgEl.createSVGPoint()),y(this,E).x=y(this,O).x,y(this,E).y=y(this,O).y,y(this,v).setPointerCapture(t.pointerId),t.stopPropagation())},T=function(t){y(this,d)&&(h(this,m,!1),y(this,v).releasePointerCapture(t.pointerId),t.stopPropagation())},P=function(t){if(y(this,d)){if(!y(this,m))return;var e=y(this,b).clientToSvgPoint(t.clientX,t.clientY),n=e.x-y(this,g).x,r=e.y-y(this,g).y;y(this,O).x=n+y(this,E).x,y(this,O).y=r+y(this,E).y,this.updateSVGElement(),t.stopPropagation()}};function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,e,n){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=L(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function I(t,e){return!e||"object"!==A(e)&&"function"!=typeof e?M(t):e}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function W(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function F(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function U(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var V=new WeakMap,B=new WeakMap,H=new WeakMap,K=new WeakMap,X=new WeakSet,G=new WeakSet,Y=new WeakSet,Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=L(r);if(o){var n=L(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return I(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),e=i.call(this),Y.add(M(e)),G.add(M(e)),X.add(M(e)),V.set(M(e),{writable:!0,value:!1}),B.set(M(e),{writable:!0,value:null}),H.set(M(e),{writable:!0,value:null}),K.set(M(e),{writable:!0,value:null}),U(M(e),H,t),e}return e=u,(n=[{key:"setup",value:function(){this.moveable=!1,C(L(u.prototype),"setup",this).call(this);var t=this;this.componentEl.addEventListener("pointerdown",(function(e){W(t,X,$).call(t,e)})),this.componentEl.addEventListener("pointerup",(function(e){W(t,G,Z).call(t,e)})),this.componentEl.addEventListener("pointermove",(function(e){W(t,Y,q).call(t,e)}))}},{key:"connectionStarted",value:function(){U(this,K,document.createElementNS("http://www.w3.org/2000/svg","path")),F(this,K).setAttribute("d","\n      M ".concat(this.absPos.x," ").concat(this.absPos.y,"\n    ")),this.canvas.connectionsEl.appendChild(F(this,K))}},{key:"connectionMoving",value:function(t,e,n){new s(this.absPos.x,this.absPos.y);var r=new s(this.currentPeerSocketComponent?this.currentPeerSocketComponent.absPos.x:t,this.currentPeerSocketComponent?this.currentPeerSocketComponent.absPos.y:e);F(this,K).setAttribute("d","\n      M ".concat(this.absPos.x," ").concat(this.absPos.y,"\n      L ").concat(r.x," ").concat(r.y,"\n    ")),F(this,K).setAttribute("stroke-width",2),F(this,K).setAttribute("stroke","black"),F(this,K).setAttribute("fill","transparent")}},{key:"connectionDone",value:function(t){this.canvas.connectionsEl.removeChild(F(this,K))}},{key:"connectionCancelled",value:function(){this.canvas.connectionsEl.removeChild(F(this,K))}},{key:"canAcceptPeerSocket",value:function(t){throw new Error("This method must be overridden in a subclass")}},{key:"currentPeerSocketComponent",get:function(){return F(this,B)}},{key:"tempConnectionEl",get:function(){return F(this,K)}},{key:"socket",get:function(){return F(this,H)}}])&&j(e.prototype,n),u}(N),$=function(t){U(this,V,!0),this.componentEl.setPointerCapture(t.pointerId),t.stopPropagation(),this.connectionStarted()},Z=function(t){if(U(this,V,!1),this.componentEl.releasePointerCapture(t.pointerId),t.stopPropagation(),F(this,B)){var e=F(this,B);U(this,B,null),this.connectionDone(e)}else this.connectionCancelled()},q=function(t){if(F(this,V)){var e=this.canvas.componentFromPosition(t.clientX,t.clientY,!0),n=this.canvas.clientToSvgPoint(t.clientX,t.clientY);e?this.canAcceptPeerSocket(e)?(U(this,B,e),this.connectionMoving(n.x,n.y,!1)):(U(this,B,null),this.connectionMoving(n.x,n.y,!0)):(U(this,B,null),this.connectionMoving(n.x,n.y,!1)),t.stopPropagation()}};function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function J(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function tt(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function et(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var nt=new WeakMap,rt=new WeakMap,ot=new WeakMap,it=new WeakMap,ut=new WeakMap,ct=new WeakMap,at=new WeakMap,st=new WeakMap,ft=new WeakMap,lt=new WeakMap,pt=new WeakSet,yt=new WeakSet,ht=new WeakSet,bt=new WeakSet,vt=new WeakSet,wt=new WeakSet,dt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),wt.add(this),vt.add(this),bt.add(this),ht.add(this),yt.add(this),pt.add(this),nt.set(this,{writable:!0,value:null}),rt.set(this,{writable:!0,value:null}),ot.set(this,{writable:!0,value:0}),it.set(this,{writable:!0,value:0}),ut.set(this,{writable:!0,value:100}),ct.set(this,{writable:!0,value:100}),at.set(this,{writable:!0,value:!1}),st.set(this,{writable:!0,value:void 0}),ft.set(this,{writable:!0,value:[]}),lt.set(this,{writable:!0,value:[]}),et(this,nt,document.createElementNS("http://www.w3.org/2000/svg","svg")),tt(this,nt).style.width="100%",tt(this,nt).style.height="100%",e.appendChild(tt(this,nt)),et(this,rt,document.createElementNS("http://www.w3.org/2000/svg","g")),tt(this,nt).appendChild(tt(this,rt)),J(this,yt,mt).call(this);var n=this;window.addEventListener("resize",(function(){J(n,yt,mt).call(n)})),tt(this,nt).addEventListener("wheel",(function(t){J(n,ht,gt).call(n,t)})),tt(this,nt).addEventListener("pointerdown",(function(t){J(n,bt,Et).call(n,t)})),tt(this,nt).addEventListener("pointerup",(function(t){J(n,vt,_t).call(n,t)})),tt(this,nt).addEventListener("pointermove",(function(t){J(n,wt,Rt).call(n,t)}))}var e,n;return e=t,(n=[{key:"clientToSvgPoint",value:function(t,e){t-=tt(this,nt).getBoundingClientRect().left,e-=tt(this,nt).getBoundingClientRect().top;var n=tt(this,nt).createSVGPoint();return n.x=t,n.y=e,n.matrixTransform(tt(this,nt).getCTM().inverse())}},{key:"componentFromPosition",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=document.elementFromPoint(t,e);r;){if(r.componentRef&&(!n||r.componentRef instanceof Q))return r.componentRef;r=r.parentElement}return null}},{key:"addComponent",value:function(t){tt(this,ft).push(t),t.canvas=this,tt(this,nt).appendChild(t.componentEl)}},{key:"removeComponent",value:function(t){c.destroy(),this.components=tt(this,ft).filter((function(e){return e!==t})),tt(this,nt).removeChild(t.componentEl),tt(this,lt).forEach((function(e){e.source!==t&&e.target!==t||e.destroy()})),et(this,lt,tt(this,lt).filter((function(e){return e.source!==t&&e.target!==t})))}},{key:"clear",value:function(){tt(this,nt).innerHTML="",et(this,ft,[]),et(this,lt,[])}},{key:"svgEl",get:function(){return tt(this,nt)}},{key:"connectionsEl",get:function(){return tt(this,rt)}}])&&z(e.prototype,n),t}(),Ot=function(){tt(this,nt).setAttribute("viewBox","".concat(tt(this,ot)," ").concat(tt(this,it)," ").concat(tt(this,ut)," ").concat(tt(this,ct)))},mt=function(){et(this,ut,tt(this,nt).parentElement.clientWidth),et(this,ct,tt(this,nt).parentElement.clientHeight),J(this,pt,Ot).call(this)},gt=function(t){var e=this.clientToSvgPoint(t.clientX,t.clientY),n=1+.003*t.deltaY,r=tt(this,ut)*n,o=tt(this,ct)*n;if(!(o<10||r<10||o>5e4||r>5e4)){var i=tt(this,ot)-(r-tt(this,ut))*((e.x-tt(this,ot))/tt(this,ut)),u=tt(this,it)-(o-tt(this,ct))*((e.y-tt(this,it))/tt(this,ct));et(this,ct,o),et(this,ut,r),et(this,ot,i),et(this,it,u),J(this,pt,Ot).call(this),t.stopPropagation()}},Et=function(t){et(this,at,!0),et(this,st,this.clientToSvgPoint(t.clientX,t.clientY)),tt(this,nt).setPointerCapture(t.pointerId)},_t=function(t){et(this,at,!1),tt(this,nt).releasePointerCapture(t.pointerId)},Rt=function(t){if(tt(this,at)){var e=this.clientToSvgPoint(t.clientX,t.clientY),n=e.x-tt(this,st).x,r=e.y-tt(this,st).y;et(this,ot,tt(this,ot)-n),et(this,it,tt(this,it)-r),J(this,pt,Ot).call(this)}};function St(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kt(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function Nt(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var Dt,Tt={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",OBJECT:"object",ANY:"any"},Pt=new WeakMap,At=new WeakMap,jt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Pt.set(this,{writable:!0,value:Tt.NUMBER}),At.set(this,{writable:!0,value:!1}),Nt(this,Pt,e),Nt(this,At,n)}var e,n;return e=t,(n=[{key:"type",get:function(){return kt(this,Pt)},set:function(t){Nt(this,Pt,t)}},{key:"isArray",get:function(){return kt(this,At)},set:function(t){Nt(this,At,t)}}])&&St(e.prototype,n),t}();function Ct(t,e){return new jt(t,e)}var xt=new Uint8Array(16);function It(){if(!Dt&&!(Dt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Dt(xt)}const Mt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Lt=function(t){return"string"==typeof t&&Mt.test(t)};for(var Wt=[],Ft=0;Ft<256;++Ft)Wt.push((Ft+256).toString(16).substr(1));const Ut=function(t,e,n){var r=(t=t||{}).random||(t.rng||It)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Wt[t[e+0]]+Wt[t[e+1]]+Wt[t[e+2]]+Wt[t[e+3]]+"-"+Wt[t[e+4]]+Wt[t[e+5]]+"-"+Wt[t[e+6]]+Wt[t[e+7]]+"-"+Wt[t[e+8]]+Wt[t[e+9]]+"-"+Wt[t[e+10]]+Wt[t[e+11]]+Wt[t[e+12]]+Wt[t[e+13]]+Wt[t[e+14]]+Wt[t[e+15]]).toLowerCase();if(!Lt(n))throw TypeError("Stringified UUID is invalid");return n}(r)};function Vt(t){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ht(t,e)}function Ht(t,e){return(Ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yt(t);if(e){var o=Yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xt(this,n)}}function Xt(t,e){return!e||"object"!==Vt(e)&&"function"!=typeof e?Gt(t):e}function Gt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yt(t){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zt(t,e,n){return e&&$t(t.prototype,e),n&&$t(t,n),t}function qt(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function zt(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var Jt=new WeakMap,te=new WeakMap,ee=new WeakMap,ne=function(){function t(e,n){Qt(this,t),Jt.set(this,{writable:!0,value:""}),te.set(this,{writable:!0,value:""}),ee.set(this,{writable:!0,value:null}),zt(this,Jt,Ut()),zt(this,te,e),zt(this,ee,n)}return Zt(t,[{key:"id",get:function(){return qt(this,Jt)}},{key:"name",get:function(){return qt(this,te)},set:function(t){zt(this,te,t)}},{key:"node",get:function(){return qt(this,ee)},set:function(t){zt(this,ee,t)}}]),t}(),re=new WeakMap,oe=new WeakMap,ie=function(t){Bt(n,t);var e=Kt(n);function n(t,r){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i(Tt.NUMBER,!1);return Qt(this,n),o=e.call(this,t,r),re.set(Gt(o),{writable:!0,value:Ct(Tt.NUMBER,!1)}),oe.set(Gt(o),{writable:!0,value:0}),o}return Zt(n,[{key:"type",get:function(){return qt(this,re)},set:function(t){zt(this,re,t)}},{key:"value",get:function(){return qt(this,oe)},set:function(t){zt(this,oe,t)}}]),n}(ne),ue=new WeakMap,ce=function(t){Bt(n,t);var e=Kt(n);function n(t,r,o,i){var u;return Qt(this,n),u=e.call(this,t,r,o,i),ue.set(Gt(u),{writable:!0,value:null}),u}return Zt(n,[{key:"evaluate",value:function(){null!==this.peer&&(this.peer.node&&this.peer.node.functional&&this.peer.node.process(),this.type=this.peer.type,this.value=this.peer.value)}},{key:"connect",value:function(t){var e=this;this.peer=t,void 0===t.peers.find((function(t){return t.peer===e}))&&t.peers.push(this)}},{key:"disconnect",value:function(t){var e=this;this.peer=null;var n=t.peers.findIndex((function(t){return t.peer===e}));-1!==n&&t.peers.splice(n,1)}},{key:"peer",get:function(){return qt(this,ue)},set:function(t){zt(this,ue,t)}}]),n}(ie),ae=new WeakMap,se=function(t){Bt(n,t);var e=Kt(n);function n(t,r,o,i){var u;return Qt(this,n),u=e.call(this,t,r,i,o),ae.set(Gt(u),{writable:!0,value:[]}),u}return Zt(n,[{key:"connect",value:function(t){void 0===this.peers.find((function(e){return e.peer===t}))&&this.peers.push(t),t.peer=this}},{key:"disconnect",value:function(t){var e=this.peers.find((function(e){return e.peer===t}));void 0!==e&&(this.peers.splice(e,1),t.peer=null)}},{key:"peers",get:function(){return qt(this,ae)},set:function(t){zt(this,ae,t)}}]),n}(ie),fe=function(t){Bt(n,t);var e=Kt(n);function n(t,r){return Qt(this,n),e.call(this,t,r)}return n}(ne),le=new WeakMap,pe=function(t){Bt(n,t);var e=Kt(n);function n(t,r){var o;return Qt(this,n),o=e.call(this,t,r),le.set(Gt(o),{writable:!0,value:[]}),o}return Zt(n,[{key:"connect",value:function(t){void 0===this.peers.find((function(e){return e.peer===t}))&&this.peers.push(t),t.peer=this}},{key:"disconnect",value:function(t){var e=this.peers.find((function(e){return e.peer===t}));void 0!==e&&(this.peers.splice(e,1),t.peer=null)}},{key:"peers",get:function(){return qt(this,le)},set:function(t){zt(this,le,t)}}]),n}(fe),ye=new WeakMap,he=function(t){Bt(n,t);var e=Kt(n);function n(t,r){var o;return Qt(this,n),o=e.call(this,t,r),ye.set(Gt(o),{writable:!0,value:null}),o}return Zt(n,[{key:"connect",value:function(t){var e=this;this.peer=t,void 0===t.peers.find((function(t){return t.peer===e}))&&t.peers.push(this)}},{key:"disconnect",value:function(t){var e=this;this.peer=null;var n=t.peers.findIndex((function(t){return t.peer===e}));-1!==n&&t.peers.splice(n,1)}},{key:"peer",get:function(){return qt(this,ye)},set:function(t){zt(this,ye,t)}}]),n}(fe);function be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ve,we,de,Oe=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"NODE_WIDTH",get:function(){return 200}},{key:"NODE_BORDER_RADIUS",get:function(){return 15}},{key:"NODE_FILL_COLOR",get:function(){return"#FAD7A0"}},{key:"NODE_FUNCTIONAL_FILL_COLOR",get:function(){return"#C5F0FF"}},{key:"NODE_STROKE_COLOR",get:function(){return"#FAD7A0"}},{key:"NODE_FUNCTIONAL_STROKE_COLOR",get:function(){return"#C5F0FF"}},{key:"NODE_STROKE_WIDTH",get:function(){return 3}},{key:"NODE_TITLE_COLOR",get:function(){return"brown"}},{key:"NODE_FUNCTIONAL_TITLE_COLOR",get:function(){return"069DD1"}},{key:"NODE_TITLE_FONT",get:function(){return"bold 18px verdana"}},{key:"NODE_SYMBOL_STROKE_WIDTH",get:function(){return 3}},{key:"NODE_SYMBOL_STROKE_COLOR",get:function(){return"#FEF9E7"}},{key:"NODE_SYMBOL_FILL_COLOR",get:function(){return"#FEF9E7"}},{key:"NODE_PREV_NEXT_STROKE_WIDTH",get:function(){return 2}},{key:"NODE_PREV_NEXT_STROKE_COLOR",get:function(){return"#31A200"}},{key:"NODE_PREV_NEXT_FILL_COLOR",get:function(){return"#31A200"}},{key:"NODE_PREV_NEXT_NAME_FONT",get:function(){return"bold 11px verdana"}},{key:"NODE_PREV_NEXT_NAME_COLOR",get:function(){return"bold 11px black"}},{key:"NODE_IO_STROKE_WIDTH",get:function(){return 2}},{key:"NODE_IO_STROKE_COLOR",get:function(){return"#008EBF"}},{key:"NODE_IO_FILL_COLOR",get:function(){return"#008EBF"}},{key:"NODE_IO_NAME_FONT",get:function(){return"bold 11px verdana"}},{key:"NODE_IO_NAME_COLOR",get:function(){return"bold 11px black"}},{key:"CONNECTION_IO_INVALID_COLOR",get:function(){return"red"}},{key:"CONNECTION_IO_VALID_COLOR",get:function(){return"green"}},{key:"CONNECTION_IO_COLOR",get:function(){return"#069DD1"}}])&&be(e.prototype,n),t}();function me(t){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ee(t,e){return(Ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _e(t,e){return!e||"object"!==me(e)&&"function"!=typeof e?Re(t):e}function Re(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Se(t,e,n){return(Se="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ke(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ke(t){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}ve=Oe,we="current",de=new Oe,we in ve?Object.defineProperty(ve,we,{value:de,enumerable:!0,configurable:!0,writable:!0}):ve[we]=de;var Ne=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ee(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ke(r);if(o){var n=ke(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _e(this,t)});function u(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),Se((e=Re(n=i.call(this,t)),ke(u.prototype)),"setup",e).call(e),n}return e=u,(n=[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d","\n      M -7 -8\n      L 7 -8\n      L 7 8\n      L -7 8\n      Z\n      "),t.setAttribute("stroke",Oe.current.NODE_PREV_NEXT_STROKE_COLOR),t.setAttribute("stroke-width",Oe.current.NODE_PREV_NEXT_STROKE_WIDTH),t.setAttribute("fill",Oe.current.NODE_PREV_NEXT_FILL_COLOR);var e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");e.style="\n      font: ".concat(Oe.current.NODE_PREV_NEXT_NAME_FONT,"; \n      color: ").concat(Oe.current.NODE_PREV_NEXT_NAME_COLOR,"; \n      text-align: left;\n      width: ").concat(Oe.current.NODE_WIDTH/2-15,"px;\n      height: 30px;\n      line-height: 30px;\n      user-select: none;\n      "),e.innerHTML="".concat(this.socket.name),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("transform","translate(".concat(15,", ",-15,")")),e.setAttribute("width",Oe.current.NODE_WIDTH/2-15),e.setAttribute("height",30);var n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.setAttribute("x",0),n.setAttribute("y",0),n.appendChild(t),n.appendChild(e),n}},{key:"canAcceptPeerSocket",value:function(t){return t.socket instanceof he}}])&&ge(e.prototype,n),u}(Q);function De(t){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pe(t,e){return(Pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ae(t,e){return!e||"object"!==De(e)&&"function"!=typeof e?je(t):e}function je(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ce(t,e,n){return(Ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xe(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function xe(t){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ie=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pe(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xe(r);if(o){var n=xe(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ae(this,t)});function u(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),Ce((e=je(n=i.call(this,t)),xe(u.prototype)),"setup",e).call(e),n}return e=u,(n=[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d","\n      M -7 -8\n      L 7 -8\n      L 12 0\n      L 7 8\n      L -7 8\n      Z\n      "),t.setAttribute("stroke",Oe.current.NODE_PREV_NEXT_STROKE_COLOR),t.setAttribute("stroke-width",Oe.current.NODE_PREV_NEXT_STROKE_WIDTH),t.setAttribute("fill",Oe.current.NODE_PREV_NEXT_FILL_COLOR);var e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");e.style="\n      font: ".concat(Oe.current.NODE_PREV_NEXT_NAME_FONT,"; \n      color: ").concat(Oe.current.NODE_PREV_NEXT_NAME_COLOR,"; \n      text-align: right;\n      width: ").concat(Oe.current.NODE_WIDTH/2-15,"px;\n      height: 30px;\n      line-height: 30px;\n      user-select: none;\n      "),e.innerHTML="".concat(this.socket.name),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("transform","translate(".concat(-Oe.current.NODE_WIDTH/2,", ").concat(-15,")")),e.setAttribute("width",Oe.current.NODE_WIDTH/2-15),e.setAttribute("height",30);var n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.setAttribute("x",0),n.setAttribute("y",0),n.appendChild(t),n.appendChild(e),n}},{key:"canAcceptPeerSocket",value:function(t){return t.socket instanceof pe}},{key:"canAcceptPeerSocket",value:function(t){return t.socket instanceof pe}}])&&Te(e.prototype,n),u}(Q);function Me(t){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Le(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function We(t,e){return(We=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fe(t,e){return!e||"object"!==Me(e)&&"function"!=typeof e?Ue(t):e}function Ue(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ve(t,e,n){return(Ve="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Be(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Be(t){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var He=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&We(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Be(r);if(o){var n=Be(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Fe(this,t)});function u(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),Ve((e=Ue(n=i.call(this,t)),Be(u.prototype)),"setup",e).call(e),n}return e=u,(n=[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","circle");t.setAttribute("cx",0),t.setAttribute("cy",0),t.setAttribute("r",10),t.setAttribute("stroke-width",Oe.current.NODE_IO_STROKE_WIDTH),t.setAttribute("stroke",Oe.current.NODE_IO_STROKE_COLOR),t.setAttribute("fill",Oe.current.NODE_IO_FILL_COLOR);var e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");e.style="\n      font: ".concat(Oe.current.NODE_IO_NAME_FONT,"; \n      color: ").concat(Oe.current.NODE_IO_NAME_COLOR,"; \n      text-align: right;\n      width: ").concat(Oe.current.NODE_WIDTH-30,"px;\n      height: 30px;\n      line-height: 30px;\n      user-select: none;\n      "),e.innerHTML="".concat(this.socket.name),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("transform","translate(".concat(15-Oe.current.NODE_WIDTH,", ").concat(-15,")")),e.setAttribute("width",Oe.current.NODE_WIDTH-30),e.setAttribute("height",30);var n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.setAttribute("x",0),n.setAttribute("y",0),n.appendChild(t),n.appendChild(e),n}},{key:"canAcceptPeerSocket",value:function(t){return t.socket instanceof ce}}])&&Le(e.prototype,n),u}(Q);function Ke(t){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ge(t,e){return(Ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ye(t,e){return!e||"object"!==Ke(e)&&"function"!=typeof e?Qe(t):e}function Qe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $e(t,e,n){return($e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ze(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ze(t){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ge(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ze(r);if(o){var n=Ze(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ye(this,t)});function u(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),$e((e=Qe(n=i.call(this,t)),Ze(u.prototype)),"setup",e).call(e),n}return e=u,(n=[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","circle");t.setAttribute("cx",0),t.setAttribute("cy",0),t.setAttribute("r",10),t.setAttribute("stroke-width",Oe.current.NODE_IO_STROKE_WIDTH),t.setAttribute("stroke",Oe.current.NODE_IO_STROKE_COLOR),t.setAttribute("fill",Oe.current.NODE_IO_FILL_COLOR);var e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");e.style="\n    font: ".concat(Oe.current.NODE_IO_NAME_FONT,"; \n    color: ").concat(Oe.current.NODE_IO_NAME_COLOR,"; \n    text-align: left;\n    width: ").concat(Oe.current.NODE_WIDTH/2-15,"px;\n    height: 30px;\n    line-height: 30px;\n    user-select: none;\n    "),e.innerHTML="".concat(this.socket.name),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("transform","translate(".concat(15,", ",-15,")")),e.setAttribute("width",Oe.current.NODE_WIDTH/2-15),e.setAttribute("height",30);var n=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");n.style="\n    font: ".concat(Oe.current.NODE_IO_NAME_FONT,"; \n    color: ").concat(Oe.current.NODE_IO_NAME_COLOR,"; \n    text-align: left;\n    line-height: 30px;\n    user-select: none;\n    "),n.setAttribute("x",0),n.setAttribute("y",0),n.setAttribute("transform","translate(".concat(Oe.current.NODE_WIDTH/2,", ").concat(-15,")")),n.setAttribute("width",Oe.current.NODE_WIDTH/2-15),n.setAttribute("height",30);var r=document.createElement("input");r.style="\n    font: ".concat(Oe.current.NODE_IO_NAME_FONT,"; \n    color: ").concat(Oe.current.NODE_IO_NAME_COLOR,"; \n    width: ").concat(Oe.current.NODE_WIDTH/2-25,"px; // 5px less than foreignObject\n    height: ",20,"px;\n    border: 0;\n    padding: 2px;\n    margin: 2px;\n    "),r.setAttribute("value",this.socket.value),r.setAttribute("type","text"),n.appendChild(r);var o=document.createElementNS("http://www.w3.org/2000/svg","g");return o.setAttribute("x",0),o.setAttribute("y",0),o.appendChild(t),o.appendChild(e),o.appendChild(n),o}},{key:"connectionMoving",value:function(t,e,n){var r=new s(this.absPos.x,this.absPos.y),o=new s(this.currentPeerSocketComponent?this.currentPeerSocketComponent.absPos.x:t,this.currentPeerSocketComponent?this.currentPeerSocketComponent.absPos.y:e),i=r.add(new s(-.8*Math.abs(r.x-o.x),-.1*(r.y-o.y))),u=o.add(new s(.8*Math.abs(r.x-o.x),.1*(r.y-o.y)));this.tempConnectionEl.setAttribute("d","\n      M ".concat(this.absPos.x," ").concat(this.absPos.y,"\n      C ").concat(i.x," ").concat(i.y," ").concat(u.x," ").concat(u.y," ").concat(o.x," ").concat(o.y,"\n    ")),this.tempConnectionEl.setAttribute("stroke-width",4),this.tempConnectionEl.setAttribute("stroke",n?Oe.current.CONNECTION_IO_INVALID_COLOR:this.currentPeerSocketComponent?Oe.current.CONNECTION_IO_VALID_COLOR:Oe.current.CONNECTION_IO_COLOR),this.tempConnectionEl.setAttribute("fill","transparent")}},{key:"canAcceptPeerSocket",value:function(t){return t.socket instanceof se}}])&&Xe(e.prototype,n),u}(Q);function ze(t){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Je(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return tn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}function tn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function en(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nn(t,e){return(nn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rn(t,e){return!e||"object"!==ze(e)&&"function"!=typeof e?on(t):e}function on(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function un(t,e,n){return(un="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=cn(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function cn(t){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function an(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function sn(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var fn=new WeakMap,ln=new WeakMap,pn=new WeakMap,yn=new WeakMap,hn=new WeakSet,bn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nn(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=cn(r);if(o){var n=cn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return rn(this,t)});function u(t,e){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),r=i.call(this),hn.add(on(r)),fn.set(on(r),{writable:!0,value:void 0}),ln.set(on(r),{writable:!0,value:void 0}),pn.set(on(r),{writable:!0,value:void 0}),yn.set(on(r),{writable:!0,value:void 0}),sn(on(r),fn,t),un((n=on(r),cn(u.prototype)),"setup",n).call(n),e.addComponent(on(r)),function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}(on(r),hn,vn).call(on(r)),r}return e=u,(n=[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","g");return sn(this,ln,document.createElementNS("http://www.w3.org/2000/svg","path")),sn(this,pn,document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),sn(this,yn,document.createElementNS("http://www.w3.org/2000/svg","circle")),t.appendChild(an(this,ln)),t.appendChild(an(this,pn)),t.appendChild(an(this,yn)),an(this,ln).setAttribute("d","\n      M 0 ".concat(1.3*Oe.current.NODE_BORDER_RADIUS," \n      A ").concat(1.3*Oe.current.NODE_BORDER_RADIUS," ").concat(1.3*Oe.current.NODE_BORDER_RADIUS," 0 0 0 ").concat(1.3*Oe.current.NODE_BORDER_RADIUS," 0 \n      L ").concat(Oe.current.NODE_WIDTH-Oe.current.NODE_BORDER_RADIUS," 0 \n      A ").concat(Oe.current.NODE_BORDER_RADIUS," ").concat(Oe.current.NODE_BORDER_RADIUS," 0 0 1 ").concat(Oe.current.NODE_WIDTH," ").concat(Oe.current.NODE_BORDER_RADIUS," \n      L ").concat(Oe.current.NODE_WIDTH," ").concat(this.height-Oe.current.NODE_BORDER_RADIUS," \n      A ").concat(Oe.current.NODE_BORDER_RADIUS," ").concat(Oe.current.NODE_BORDER_RADIUS," 0 0 1 ").concat(Oe.current.NODE_WIDTH-Oe.current.NODE_BORDER_RADIUS," ").concat(this.height," \n      L ").concat(Oe.current.NODE_BORDER_RADIUS," ").concat(this.height," \n      A ").concat(Oe.current.NODE_BORDER_RADIUS," ").concat(Oe.current.NODE_BORDER_RADIUS," 0 0 1 0 ").concat(this.height-Oe.current.NODE_BORDER_RADIUS," \n      Z\n      ")),an(this,pn).innerHTML=this.node.name,an(this,pn).style="\n      font: ".concat(Oe.current.NODE_TITLE_FONT,"; \n      color: ").concat(this.node.functional?Oe.current.NODE_FUNCTIONAL_TITLE_COLOR:Oe.current.NODE_TITLE_COLOR,"; \n      text-align: center; \n      user-select: none"),an(this,pn).setAttribute("x",.5*Oe.current.NODE_BORDER_RADIUS),an(this,pn).setAttribute("y",.5*Oe.current.NODE_BORDER_RADIUS),an(this,pn).setAttribute("width",Oe.current.NODE_WIDTH-.5*Oe.current.NODE_BORDER_RADIUS*2),an(this,pn).setAttribute("height",20),an(this,ln).setAttribute("stroke",this.node.functional?Oe.current.NODE_FUNCTIONAL_STROKE_COLOR:Oe.current.NODE_STROKE_COLOR),an(this,ln).setAttribute("stroke-width",Oe.current.NODE_STROKE_WIDTH),an(this,ln).setAttribute("fill",this.node.functional?Oe.current.NODE_FUNCTIONAL_FILL_COLOR:Oe.current.NODE_FILL_COLOR),an(this,ln).setAttribute("x","0"),an(this,ln).setAttribute("y","0"),an(this,yn).setAttribute("cx",0),an(this,yn).setAttribute("cy",0),an(this,yn).setAttribute("r",.9*Oe.current.NODE_BORDER_RADIUS),an(this,yn).setAttribute("stroke",Oe.current.NODE_SYMBOL_STROKE_COLOR),an(this,yn).setAttribute("stroke-width",Oe.current.NODE_SYMBOL_STROKE_WIDTH),an(this,yn).setAttribute("fill",Oe.current.NODE_SYMBOL_FILL_COLOR),t.setAttribute("x","0"),t.setAttribute("y","0"),t}},{key:"node",get:function(){return an(this,fn)}},{key:"height",get:function(){return.5*Oe.current.NODE_BORDER_RADIUS+40+30*Math.max(this.node.functional?0:1,this.node.nexts.length)+30*Math.max(0,this.node.outputs.length)+30*Math.max(0,this.node.inputs.length)+15}}])&&en(e.prototype,n),u}(N),vn=function(){var t=40+.5*Oe.current.NODE_BORDER_RADIUS;if(this.node.prev){var e=new Ne(this.node.prev);e.pos=new s(0,t),this.addComponent(e)}var n,r=Je(this.node.nexts);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=new Ie(o);i.pos=new s(Oe.current.NODE_WIDTH,t),this.addComponent(i),t+=30}}catch(t){r.e(t)}finally{r.f()}var u,c=Je(this.node.outputs);try{for(c.s();!(u=c.n()).done;){var a=u.value,f=new He(a);f.pos=new s(Oe.current.NODE_WIDTH,t),this.addComponent(f),t+=30}}catch(t){c.e(t)}finally{c.f()}var l,p=Je(this.node.inputs);try{for(p.s();!(l=p.n()).done;){var y=l.value,h=new qe(y);h.pos=new s(0,t),this.addComponent(h),t+=30}}catch(t){p.e(t)}finally{p.f()}};function wn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function On(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mn(t,e,n){return e&&On(t.prototype,e),n&&On(t,n),t}function gn(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function En(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var _n=new WeakMap,Rn=new WeakMap,Sn=new WeakMap,kn=new WeakMap,Nn=new WeakMap,Dn=new WeakMap,Tn=new WeakMap,Pn=new WeakMap,An=function(){function t(e){dn(this,t),_n.set(this,{writable:!0,value:Ut()}),Rn.set(this,{writable:!0,value:""}),Sn.set(this,{writable:!0,value:!1}),kn.set(this,{writable:!0,value:[]}),Nn.set(this,{writable:!0,value:[]}),Dn.set(this,{writable:!0,value:[]}),Tn.set(this,{writable:!0,value:null}),Pn.set(this,{writable:!0,value:null}),En(this,Rn,e)}return mn(t,[{key:"input",value:function(t){return this.inputs.find((function(e){return e.name===t}))}},{key:"output",value:function(t){return this.outputs.find((function(e){return e.name===t}))}},{key:"next",value:function(t){return t?this.nexts.find((function(e){return e.name===t})):this.nexts[0]}},{key:"evaluateInputs",value:function(){var t,e=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return wn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}(this.inputs);try{for(e.s();!(t=e.n()).done;)t.value.evaluate()}catch(t){e.e(t)}finally{e.f()}}},{key:"getFlowResult",value:function(t){return t.peer?new Cn(t.peer.node):new Cn}},{key:"toString",value:function(){return"N('"+gn(this,Rn)+"',"+gn(this,kn).length+"i,"+gn(this,Nn).length+"o,"+gn(this,Dn).length+"n)"}},{key:"process",value:function(){return new Cn}},{key:"id",get:function(){return gn(this,_n)}},{key:"name",get:function(){return gn(this,Rn)},set:function(t){En(this,Rn,t)}},{key:"functional",get:function(){return gn(this,Sn)},set:function(t){En(this,Sn,t)}},{key:"inputs",get:function(){return gn(this,kn)},set:function(t){En(this,kn,t)}},{key:"outputs",get:function(){return gn(this,Nn)},set:function(t){En(this,Nn,t)}},{key:"nexts",get:function(){return gn(this,Dn)},set:function(t){En(this,Dn,t)}},{key:"prev",get:function(){return gn(this,Tn)},set:function(t){En(this,Tn,t)}},{key:"program",get:function(){return gn(this,Pn)},set:function(t){En(this,Pn,t)}}]),t}(),jn=new WeakMap,Cn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;dn(this,t),jn.set(this,{writable:!0,value:null}),En(this,jn,e)}return mn(t,[{key:"next",get:function(){return gn(this,jn)},set:function(t){En(this,jn,t)}}]),t}();function xn(t){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function In(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mn(t,e){return(Mn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ln(t,e){return!e||"object"!==xn(e)&&"function"!=typeof e?Wn(t):e}function Wn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fn(t){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Un=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mn(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Fn(r);if(o){var n=Fn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ln(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"Call")).inputs=[],t.outputs=[],t.nexts=[new he("Out",Wn(t)),new he("Call",Wn(t))],t.prev=new pe("In",Wn(t)),t}return e=u,(n=[{key:"process",value:function(){var t=this.program.currentNode;return this.program.processFrom(this.next("Call").peer.node),this.program.currentNode=t,this.getFlowResult(this.next("Out"))}}])&&In(e.prototype,n),u}(An);function Vn(){return new Un}function Bn(t){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kn(t,e){return(Kn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xn(t,e){return!e||"object"!==Bn(e)&&"function"!=typeof e?Gn(t):e}function Gn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yn(t){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kn(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Yn(r);if(o){var n=Yn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Xn(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"Console")).inputs=[new ce("Val",Gn(t),Ct(Tt.ANY,!1),0)],t.outputs=[],t.nexts=[new he("Out",Gn(t))],t.prev=new pe("In",Gn(t)),t}return e=u,(n=[{key:"process",value:function(){return this.evaluateInputs(),console.log(this.input("Val").value),new Cn,this.getFlowResult(this.next("Out"))}}])&&Hn(e.prototype,n),u}(An);function $n(){return new Qn}function Zn(t){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zn(t,e){return(zn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Jn(t,e){return!e||"object"!==Zn(e)&&"function"!=typeof e?tr(t):e}function tr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function er(t){return(er=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zn(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=er(r);if(o){var n=er(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Jn(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"FGetvar")).functional=!0,t.inputs=[new ce("Name",tr(t),Zn(""),"")],t.outputs=[new se("Val",tr(t),Zn(""),"")],t.nexts=[],t.prev=null,t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();var t=this.input("Name").value;this.output("Val").value=this.program.vars.get(t)}}])&&qn(e.prototype,n),u}(An);function rr(){return new nr}function or(t){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ir(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ur(t,e){return(ur=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cr(t,e){return!e||"object"!==or(e)&&"function"!=typeof e?ar(t):e}function ar(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sr(t){return(sr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ur(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=sr(r);if(o){var n=sr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return cr(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"For")).inputs=[new ce("From",ar(t),new jt(Tt.NUMBER,!1),!1),new ce("To",ar(t),new jt(Tt.NUMBER,!1),!1)],t.outputs=[new se("Index",ar(t),new jt(Tt.NUMBER,!1),!1)],t.nexts=[new he("Out",ar(t)),new he("Do",ar(t))],t.prev=new pe("In",ar(t)),t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();for(var t=this.program.currentNode,e=this.input("From").value;e<this.input("To").value;e++)null!==this.next("Do").peer&&null!==this.next("Do").peer.node&&(this.output("Index").value=e,this.program.processFrom(this.next("Do").peer.node));return this.program.currentNode=t,this.getFlowResult(this.next("Out"))}}])&&ir(e.prototype,n),u}(An);function lr(){return new fr}function pr(t){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hr(t,e){return(hr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function br(t,e){return!e||"object"!==pr(e)&&"function"!=typeof e?vr(t):e}function vr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wr(t){return(wr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=wr(r);if(o){var n=wr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return br(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"Getvar")).inputs=[new ce("Name",vr(t),pr(""),"")],t.outputs=[new se("Val",vr(t),pr(""),"")],t.nexts=[new he("Out",vr(t))],t.prev=new pe("In",vr(t)),t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();var t=this.input("Name").value;return this.output("Val").value=this.program.vars.get(t),this.getFlowResult(this.next("Out"))}}])&&yr(e.prototype,n),u}(An);function Or(){return new dr}function mr(t){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Er(t,e){return(Er=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _r(t,e){return!e||"object"!==mr(e)&&"function"!=typeof e?Rr(t):e}function Rr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sr(t){return(Sr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Er(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Sr(r);if(o){var n=Sr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _r(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"Setvar")).inputs=[new ce("Name",Rr(t),mr(""),""),new ce("Val",Rr(t),mr(""),"")],t.outputs=[new se("Val",Rr(t),mr(""),"")],t.nexts=[new he("Out",Rr(t))],t.prev=new pe("In",Rr(t)),t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();var t=this.input("Name").value,e=this.input("Val").value;return this.program.vars.set(t,e),this.output("Val").value=e,this.getFlowResult(this.next("Out"))}}])&&gr(e.prototype,n),u}(An);function Nr(){return new kr}function Dr(t){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pr(t,e){return(Pr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ar(t,e){return!e||"object"!==Dr(e)&&"function"!=typeof e?jr(t):e}function jr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cr(t){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Cr(r);if(o){var n=Cr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ar(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"While")).inputs=[new ce("Condition",jr(t),new jt(Tt.BOOLEAN,!1),!1)],t.outputs=[new se("Index",jr(t),new jt(Tt.NUMBER,!1),!1)],t.nexts=[new he("Out",jr(t)),new he("Do",jr(t))],t.prev=new pe("In",jr(t)),t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();for(var t=this.program.currentNode;this.input("Condition").value;)null!==this.nexts("Do").peer&&null!==this.nexts("Do").peer.node&&(this.output("Index").value=0,this.program.processFrom(this.next("Do").peer.node),this.evaluateInputs());return this.program.currentNode=t,this.getFlowResult(this.next("Out"))}}])&&Tr(e.prototype,n),u}(An);function Ir(){return new xr}function Mr(t){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wr(t,e){return(Wr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fr(t,e){return!e||"object"!==Mr(e)&&"function"!=typeof e?Ur(t):e}function Ur(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vr(t){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Br=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vr(r);if(o){var n=Vr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Fr(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"If")).inputs=[new ce("Condition",Ur(t),new jt(Tt.BOOLEAN,!1),!1)],t.outputs=[],t.nexts=[new he("Then",Ur(t)),new he("Else",Ur(t))],t.prev=new pe("In",Ur(t)),t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();var t;return t=this.input("Condition").value?this.next("Then"):this.next("Else"),this.getFlowResult(t)}}])&&Lr(e.prototype,n),u}(An);function Hr(){return new Br}function Kr(t){return(Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yr(t,e){return(Yr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qr(t,e){return!e||"object"!==Kr(e)&&"function"!=typeof e?$r(t):e}function $r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zr(t){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Zr(r);if(o){var n=Zr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Qr(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"FAdd")).functional=!0,t.inputs=[new ce("Val1",$r(t),Ct(Tt.NUMBER,!1),0),new ce("Val2",$r(t),Ct(Tt.NUMBER,!1),0)],t.outputs=[new se("Val",$r(t),Ct(Tt.NUMBER,!1),0)],t.prev=null,t.nexts=[],t}return e=u,(n=[{key:"process",value:function(){var t=0;this.evaluateInputs();var e,n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Xr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xr(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}(this.inputs);try{for(n.s();!(e=n.n()).done;)t+=e.value.value}catch(t){n.e(t)}finally{n.f()}this.output("Val").value=t}}])&&Gr(e.prototype,n),u}(An);function zr(){return new qr}function Jr(t){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function to(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eo(t,e){return(eo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function no(t,e){return!e||"object"!==Jr(e)&&"function"!=typeof e?ro(t):e}function ro(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oo(t){return(oo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var io=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eo(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=oo(r);if(o){var n=oo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return no(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"FDiv")).functional=!0,t.inputs=[new ce("Val1",ro(t),Ct(Tt.NUMBER,!1),0),new ce("Val2",ro(t),Ct(Tt.NUMBER,!1),0)],t.outputs=[new se("Val",ro(t),Ct(Tt.NUMBER,!1),0)],t.prev=null,t.nexts=[],t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs(),this.output("Val").value=this.input("Val1").value/this.input("Val2").value}}])&&to(e.prototype,n),u}(An);function uo(){return new io}function co(t){return(co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ao(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function so(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fo(t,e){return(fo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lo(t,e){return!e||"object"!==co(e)&&"function"!=typeof e?po(t):e}function po(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yo(t){return(yo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ho=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fo(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=yo(r);if(o){var n=yo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return lo(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"FMul")).functional=!0,t.inputs=[new ce("Val1",po(t),Ct(Tt.NUMBER,!1),0),new ce("Val2",po(t),Ct(Tt.NUMBER,!1),0)],t.outputs=[new se("Val",po(t),Ct(Tt.NUMBER,!1),0)],t.prev=null,t.nexts=[],t}return e=u,(n=[{key:"process",value:function(){var t=0;this.evaluateInputs();var e,n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return ao(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ao(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}(this.inputs);try{for(n.s();!(e=n.n()).done;)t*=e.value.value}catch(t){n.e(t)}finally{n.f()}this.output("Val").value=t}}])&&so(e.prototype,n),u}(An);function bo(){return new ho}function vo(t){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mo(t,e){return(mo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function go(t,e){return!e||"object"!==vo(e)&&"function"!=typeof e?Eo(t):e}function Eo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _o(t){return(_o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ro={EQUAL:"equal",GT:"gt",GTE:"gte",LT:"lt",LTE:"lte",NOT_EQUAL:"not_equal"},So=new WeakMap,ko=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mo(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_o(r);if(o){var n=_o(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return go(this,t)});function u(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ro.EQUAL;return wo(this,u),t=i.call(this,"FCompare"),So.set(Eo(t),{writable:!0,value:Ro.EQUAL}),t.comparision=e,t.functional=!0,t.inputs=[new ce("Val1",Eo(t),Ct(Tt.NUMBER,!1),0),new ce("Val2",Eo(t),Ct(Tt.NUMBER,!1),0)],t.outputs=[new se("Val",Eo(t),Ct(Tt.BOOLEAN,!1),0)],t.prev=null,t.nexts=[],t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();var t,e=this.input("Val1").value,n=this.input("Val2").value;switch(this.comparision){case Ro.EQUAL:t=e===n,bresk;case Ro.NOT_EQUAL:t=e!==n;break;case Ro.GT:t=e>n;break;case Ro.GTE:t=e>=n;break;case Ro.LT:t=e<n;break;case Ro.LTE:t=e<=n;break;default:throw"Comparision type not valid"}this.output("Val").value=t}},{key:"comparision",get:function(){return function(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}(this,So)},set:function(t){!function(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}}(this,So,t)}}])&&Oo(e.prototype,n),u}(An);function No(){return new ko}function Do(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function To(t,e,n){if(t!==e)throw new TypeError("Private static access of wrong provenance");return n.get?n.get.call(t):n.value}var Po=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"init",value:function(){t.registerNode("call","Core",Vn),t.registerNode("console","Core",$n),t.registerNode("fgetvar","Core",rr),t.registerNode("for","Core",lr),t.registerNode("getvar","Core",Or),t.registerNode("if","Core",Hr),t.registerNode("setvar","Core",Nr),t.registerNode("while","Core",Ir),t.registerNode("fadd","Math",zr),t.registerNode("fdiv","Math",uo),t.registerNode("fmul","Math",bo),t.registerNode("fcompare","Boolean",No)}},{key:"registerNode",value:function(e,n,r){To(t,t,Ao).set(e,{category:n,factory:r})}},{key:"getCategories",value:function(){var e=new Map;return Array.from(To(this,t,Ao).values()).forEach((function(t){e.set(t.category,0)})),Array.from(e.keys())}},{key:"getCategoryNodes",value:function(e){var n=[];return Array.from(To(this,t,Ao).entries()).forEach((function(t){t[1].category===e&&n.push({name:t[0],category:t[1].category,factory:t[1].factory})})),n}},{key:"getInstance",value:function(e){var n=To(this,t,Ao).get(e);return n?n.factory():null}}],null&&Do(e.prototype,null),n&&Do(e,n),t}(),Ao={writable:!0,value:new Map};function jo(t){return(jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Co(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xo(t,e){return(xo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Io(t,e){return!e||"object"!==jo(e)&&"function"!=typeof e?Mo(t):e}function Mo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lo(t){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wo(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}function Fo(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}var Uo=new WeakMap,Vo=new WeakMap,Bo=new WeakMap,Ho=new WeakMap,Ko=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xo(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Lo(r);if(o){var n=Lo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Io(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),e=i.call(this,t),Uo.set(Mo(e),{writable:!0,value:new Map}),Vo.set(Mo(e),{writable:!0,value:null}),Bo.set(Mo(e),{writable:!0,value:null}),Ho.set(Mo(e),{writable:!0,value:new Map}),e}return e=u,(n=[{key:"addNode",value:function(t,e){return Fo(this,Uo).set(t.id,t),e&&Wo(this,Vo,t),t.program=this,this}},{key:"removeNode",value:function(t){return this.start&&this.start.id===t.id&&(this.start=null),Fo(this,Uo).delete(t.id),t.program=null,this}},{key:"clear",value:function(){return Wo(this,Uo,[]),this}},{key:"toString",value:function(){return"P{'"+this.name+"',{"+Array.from(Fo(this,Uo).values()).reduce((function(t,e,n,r){return t+e.toString()+(n<r.length-1?",":"")}),"")+"}"}},{key:"process",value:function(){return Fo(this,Vo)&&this.processFrom(Fo(this,Vo)),new Cn}},{key:"processFrom",value:function(t){for(this.currentNode=t;null!==this.currentNode;){var e=this.currentNode.process();this.currentNode=e.next}}},{key:"vars",get:function(){return Fo(this,Ho)},set:function(t){Wo(this,Ho,t)}},{key:"start",get:function(){return Fo(this,Vo)},set:function(t){Wo(this,Vo,t)}},{key:"currentNode",get:function(){return Fo(this,Bo)},set:function(t){Wo(this,Bo,t)}},{key:"nodes",get:function(){return Fo(this,Uo)},set:function(t){Wo(this,Uo,t)}}])&&Co(e.prototype,n),u}(An);function Xo(t){return new Ko(t)}function Go(t){var e=document.getElementById(t);return e?(Po.init(),new dt(e)):(console.log("No element with id '".concat(t,"'")),null)}}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}return n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(529)})();
var cnodesui;cnodesui=(()=>{"use strict";var t={506:(t,e,n)=>{function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function o(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function a(t,e,n){var i=e.get(t);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(t,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}return n}n.r(e),n.d(e,{canvas:()=>rt});var s=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,d=new WeakMap,v=new WeakSet,w=new WeakSet,y=new WeakSet,b=new WeakSet,m=new WeakSet,g=new WeakSet,k=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),g.add(this),m.add(this),b.add(this),y.add(this),w.add(this),v.add(this),s.set(this,{writable:!0,value:null}),l.set(this,{writable:!0,value:0}),c.set(this,{writable:!0,value:0}),u.set(this,{writable:!0,value:100}),h.set(this,{writable:!0,value:100}),f.set(this,{writable:!0,value:!1}),p.set(this,{writable:!0,value:void 0}),d.set(this,{writable:!0,value:[]}),a(this,s,document.createElementNS("http://www.w3.org/2000/svg","svg")),o(this,s).style.width="100%",o(this,s).style.height="100%",e.appendChild(o(this,s)),r(this,w,S).call(this);var n=this;window.addEventListener("resize",(function(){r(n,w,S).call(n)})),o(this,s).addEventListener("wheel",(function(t){r(n,y,P).call(n,t)})),o(this,s).addEventListener("pointerdown",(function(t){r(n,b,W).call(n,t)})),o(this,s).addEventListener("pointerup",(function(t){r(n,m,M).call(n,t)})),o(this,s).addEventListener("pointermove",(function(t){r(n,g,T).call(n,t)}))}var e,n;return e=t,(n=[{key:"clientToSvgPoint",value:function(t,e){var n=o(this,s).createSVGPoint();return n.x=t,n.y=e,n.matrixTransform(o(this,s).getCTM().inverse())}},{key:"addComponent",value:function(t){o(this,d).push(t),t.canvas=this,o(this,s).appendChild(t.componentEl)}},{key:"removeComponent",value:function(t){this.components=o(this,d).filter((function(e){return e!==t})),o(this,s).removeChild(t.componentEl)}},{key:"svgEl",get:function(){return o(this,s)}}])&&i(e.prototype,n),t}(),E=function(){o(this,s).setAttribute("viewBox","".concat(o(this,l)," ").concat(o(this,c)," ").concat(o(this,u)," ").concat(o(this,h)))},S=function(){a(this,u,o(this,s).parentElement.clientWidth),a(this,h,o(this,s).parentElement.clientHeight),r(this,v,E).call(this)},P=function(t){var e=this.clientToSvgPoint(t.clientX,t.clientY),n=1+.003*t.deltaY,i=o(this,u)*n,s=o(this,h)*n;if(!(s<10||i<10||s>5e4||i>5e4)){var f=o(this,l)-(i-o(this,u))*((e.x-o(this,l))/o(this,u)),p=o(this,c)-(s-o(this,h))*((e.y-o(this,c))/o(this,h));a(this,h,s),a(this,u,i),a(this,l,f),a(this,c,p),r(this,v,E).call(this)}},W=function(t){a(this,f,!0),a(this,p,this.clientToSvgPoint(t.clientX,t.clientY)),o(this,s).setPointerCapture(t.pointerId)},M=function(t){a(this,f,!1),o(this,s).releasePointerCapture(t.pointerId)},T=function(t){if(o(this,f)){var e=this.clientToSvgPoint(t.clientX,t.clientY),n=e.x-o(this,p).x,i=e.y-o(this,p).y;a(this,l,o(this,l)-n),a(this,c,o(this,c)-i),r(this,v,E).call(this)}};function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=_(t);if(e){var r=_(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return A(this,n)}}function A(t,e){return!e||"object"!==x(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Y(t,e,n){return e&&R(t.prototype,e),n&&R(t,n),t}function I(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function X(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function N(t,e,n){var i=e.get(t);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(t,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}return n}var B=new WeakMap,D=new WeakMap,G=new WeakMap,V=new WeakMap,z=new WeakMap,H=new WeakMap,Q=new WeakMap,q=new WeakSet,F=new WeakSet,J=new WeakSet,K=new WeakSet,U=function(){function t(){L(this,t),K.add(this),J.add(this),F.add(this),q.add(this),B.set(this,{writable:!0,value:null}),D.set(this,{writable:!0,value:null}),G.set(this,{writable:!0,value:0}),V.set(this,{writable:!0,value:0}),z.set(this,{writable:!0,value:!1}),H.set(this,{writable:!0,value:null}),Q.set(this,{writable:!0,value:null});var e=this;N(this,D,this.createElement()),X(this,D).addEventListener("pointerdown",(function(t){I(e,q,Z).call(e,t)})),X(this,D).addEventListener("pointerup",(function(t){I(e,F,$).call(e,t)})),X(this,D).addEventListener("pointermove",(function(t){I(e,J,tt).call(e,t)}))}return Y(t,[{key:"createElement",value:function(){throw new Error("Element must be defined in a subclass!")}},{key:"x",get:function(){return X(this,G)},set:function(t){N(this,G,t),I(this,K,et).call(this)}},{key:"y",get:function(){return X(this,V)},set:function(t){N(this,V,t),I(this,K,et).call(this)}},{key:"canvas",get:function(){return X(this,B)},set:function(t){N(this,B,t)}},{key:"componentEl",get:function(){return X(this,D)}}]),t}(),Z=function(t){N(this,z,!0),N(this,H,X(this,B).clientToSvgPoint(t.clientX,t.clientY)),N(this,Q,X(this,B).svgEl.createSVGPoint()),X(this,Q).x=X(this,G),X(this,Q).y=X(this,V),X(this,D).setPointerCapture(t.pointerId),t.stopPropagation()},$=function(t){N(this,z,!1),X(this,D).releasePointerCapture(t.pointerId),t.stopPropagation()},tt=function(t){if(X(this,z)){var e=X(this,B).clientToSvgPoint(t.clientX,t.clientY),n=e.x-X(this,H).x,i=e.y-X(this,H).y;this.x=n+X(this,Q).x,this.y=i+X(this,Q).y,t.stopPropagation()}},et=function(){X(this,D).setAttribute("transform","translate(".concat(X(this,G),",").concat(X(this,V),")"))},nt=function(t){O(n,t);var e=j(n);function n(){return L(this,n),e.call(this)}return Y(n,[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d","M 0 0 Q 10 40 100 20"),t.setAttribute("stroke","red"),t.setAttribute("stroke-width","5"),t.setAttribute("fill","transparent"),t}}]),n}(U),it=function(t){O(n,t);var e=j(n);function n(){return L(this,n),e.call(this)}return Y(n,[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","rect");return t.setAttribute("width","200"),t.setAttribute("height","100"),t.setAttribute("stroke","blue"),t.setAttribute("fill-opacity","0.5"),t.setAttribute("stroke-width","5"),t.setAttribute("fill","green"),t}}]),n}(U);function rt(t){var e=document.getElementById(t);if(e)for(var n=new k(e),i=0;i<1e3;i++){var r=2e4*Math.random(),o=2e4*Math.random(),a=new it;a.x=r,a.y=o,n.addComponent(a),r=2e4*Math.random(),o=2e4*Math.random(),(a=new nt).x=r,a.y=o,n.addComponent(a)}else console.log("No element with id ".concat(t))}}},e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}return n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(506)})();
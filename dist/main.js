var cnui;cnui=(()=>{"use strict";var t={529:(t,e,n)=>{function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function i(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function u(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}n.r(e),n.d(e,{Call:()=>Sn,Canvas:()=>m,CnodeComponent:()=>le,Comparision:()=>ao,Component:()=>q,Console:()=>xn,Env:()=>ho,FAdd:()=>Mr,FCompare:()=>lo,FDiv:()=>Kr,FGetvar:()=>Fn,FMul:()=>Jr,FlowSocket:()=>hn,For:()=>$n,Getvar:()=>rr,If:()=>Dr,InputSocket:()=>sn,NextSocket:()=>dn,Node:()=>xe,OutputSocket:()=>yn,Position:()=>x,PrevSocket:()=>vn,Program:()=>To,Result:()=>Ce,Setvar:()=>sr,Socket:()=>un,Theme:()=>ht,Type:()=>Ue,Types:()=>Be,ValueSocket:()=>fn,While:()=>Or,callNode:()=>kn,canvas:()=>Po,consoleNode:()=>In,faddNode:()=>Lr,fcompareNode:()=>so,fdivNode:()=>Xr,fgetvarNode:()=>Un,fmulNode:()=>to,forNode:()=>Zn,getvarNode:()=>or,ifNode:()=>Nr,program:()=>jo,setvarNode:()=>pr,type:()=>He,whileNode:()=>gr});var c=new WeakMap,a=new WeakMap,f=new WeakMap,l=new WeakMap,s=new WeakMap,p=new WeakMap,y=new WeakMap,h=new WeakMap,b=new WeakSet,v=new WeakSet,w=new WeakSet,d=new WeakSet,O=new WeakSet,g=new WeakSet,m=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),g.add(this),O.add(this),d.add(this),w.add(this),v.add(this),b.add(this),c.set(this,{writable:!0,value:null}),a.set(this,{writable:!0,value:0}),f.set(this,{writable:!0,value:0}),l.set(this,{writable:!0,value:100}),s.set(this,{writable:!0,value:100}),p.set(this,{writable:!0,value:!1}),y.set(this,{writable:!0,value:void 0}),h.set(this,{writable:!0,value:[]}),u(this,c,document.createElementNS("http://www.w3.org/2000/svg","svg")),i(this,c).style.width="100%",i(this,c).style.height="100%",e.appendChild(i(this,c)),o(this,v,_).call(this);var n=this;window.addEventListener("resize",(function(){o(n,v,_).call(n)})),i(this,c).addEventListener("wheel",(function(t){o(n,w,R).call(n,t)})),i(this,c).addEventListener("pointerdown",(function(t){o(n,d,S).call(n,t)})),i(this,c).addEventListener("pointerup",(function(t){o(n,O,k).call(n,t)})),i(this,c).addEventListener("pointermove",(function(t){o(n,g,D).call(n,t)}))}var e,n;return e=t,(n=[{key:"clientToSvgPoint",value:function(t,e){var n=i(this,c).createSVGPoint();return n.x=t,n.y=e,n.matrixTransform(i(this,c).getCTM().inverse())}},{key:"addComponent",value:function(t){i(this,h).push(t),t.canvas=this,i(this,c).appendChild(t.componentEl)}},{key:"removeComponent",value:function(t){this.components=i(this,h).filter((function(e){return e!==t})),i(this,c).removeChild(t.componentEl)}},{key:"clear",value:function(){i(this,c).innerHTML=""}},{key:"svgEl",get:function(){return i(this,c)}}])&&r(e.prototype,n),t}(),E=function(){i(this,c).setAttribute("viewBox","".concat(i(this,a)," ").concat(i(this,f)," ").concat(i(this,l)," ").concat(i(this,s)))},_=function(){u(this,l,i(this,c).parentElement.clientWidth),u(this,s,i(this,c).parentElement.clientHeight),o(this,b,E).call(this)},R=function(t){var e=this.clientToSvgPoint(t.clientX-i(this,c).getBoundingClientRect().left,t.clientY-i(this,c).getBoundingClientRect().top),n=1+.003*t.deltaY,r=i(this,l)*n,p=i(this,s)*n;if(!(p<10||r<10||p>5e4||r>5e4)){var y=i(this,a)-(r-i(this,l))*((e.x-i(this,a))/i(this,l)),h=i(this,f)-(p-i(this,s))*((e.y-i(this,f))/i(this,s));u(this,s,p),u(this,l,r),u(this,a,y),u(this,f,h),o(this,b,E).call(this),t.stopPropagation()}},S=function(t){u(this,p,!0),u(this,y,this.clientToSvgPoint(t.clientX,t.clientY)),i(this,c).setPointerCapture(t.pointerId)},k=function(t){u(this,p,!1),i(this,c).releasePointerCapture(t.pointerId)},D=function(t){if(i(this,p)){var e=this.clientToSvgPoint(t.clientX,t.clientY),n=e.x-i(this,y).x,r=e.y-i(this,y).y;u(this,a,i(this,a)-n),u(this,f,i(this,f)-r),o(this,b,E).call(this)}};function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function j(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var P=new WeakMap,A=new WeakMap,x=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),P.set(this,{writable:!0,value:0}),A.set(this,{writable:!0,value:0}),j(this,P,e),j(this,A,n)}var e,n;return e=t,(n=[{key:"add",value:function(e){return new t(T(this,P)+e.x,T(this,A)+e.y)}},{key:"sub",value:function(e){return new t(T(this,P)-e.x,T(this,A)-e.y)}},{key:"x",get:function(){return T(this,P)},set:function(t){j(this,P,t)}},{key:"y",get:function(){return T(this,A)},set:function(t){j(this,A,t)}}])&&N(e.prototype,n),t}();function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function L(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function W(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var B=new WeakMap,V=new WeakMap,F=new WeakMap,U=new WeakMap,H=new WeakMap,K=new WeakMap,X=new WeakMap,G=new WeakMap,Y=new WeakMap,Q=new WeakSet,$=new WeakSet,Z=new WeakSet,q=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Z.add(this),$.add(this),Q.add(this),B.set(this,{writable:!0,value:null}),V.set(this,{writable:!0,value:null}),F.set(this,{writable:!0,value:null}),U.set(this,{writable:!0,value:!0}),H.set(this,{writable:!0,value:new x(0,0)}),K.set(this,{writable:!0,value:!1}),X.set(this,{writable:!0,value:null}),G.set(this,{writable:!0,value:null}),Y.set(this,{writable:!0,value:[]})}var e,n;return e=t,(n=[{key:"setup",value:function(){var t=this;W(this,V,this.createElement()),this.moveable&&(L(this,V).addEventListener("pointerdown",(function(e){M(t,Q,z).call(t,e)})),L(this,V).addEventListener("pointerup",(function(e){M(t,$,J).call(t,e)})),L(this,V).addEventListener("pointermove",(function(e){M(t,Z,tt).call(t,e)})))}},{key:"createElement",value:function(){throw new Error("Element must be defined in a subclass!")}},{key:"updateSVGElement",value:function(){var t=this.absPos;L(this,V).setAttribute("transform","translate(".concat(t.x,",").concat(t.y,")"));var e,n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}(L(this,Y));try{for(n.s();!(e=n.n()).done;)e.value.updateSVGElement()}catch(t){n.e(t)}finally{n.f()}}},{key:"addComponent",value:function(t){L(this,Y).push(t),t.parent=this,t.canvas=this.canvas,this.svgEl.appendChild(t.componentEl),t.updateSVGElement()}},{key:"removeComponent",value:function(t){this.components=L(this,Y).filter((function(e){return e!==t})),this.svgEl.removeChild(t.componentEl)}},{key:"pos",get:function(){return L(this,H)},set:function(t){W(this,H,t),this.updateSVGElement()}},{key:"canvas",get:function(){return L(this,B)},set:function(t){W(this,B,t)}},{key:"componentEl",get:function(){return L(this,V)}},{key:"svgEl",get:function(){return L(this,B).svgEl}},{key:"moveable",get:function(){return L(this,U)},set:function(t){W(this,U,t)}},{key:"parent",get:function(){return L(this,F)},set:function(t){W(this,F,t)}},{key:"absPos",get:function(){var t=new x(L(this,H).x,L(this,H).y);if(L(this,F)){var e=L(this,F).absPos;t=t.add(e)}return t}}])&&C(e.prototype,n),t}(),z=function(t){L(this,U)&&(W(this,K,!0),W(this,X,L(this,B).clientToSvgPoint(t.clientX,t.clientY)),W(this,G,L(this,B).svgEl.createSVGPoint()),L(this,G).x=L(this,H).x,L(this,G).y=L(this,H).y,L(this,V).setPointerCapture(t.pointerId),t.stopPropagation())},J=function(t){L(this,U)&&(W(this,K,!1),L(this,V).releasePointerCapture(t.pointerId),t.stopPropagation())},tt=function(t){if(L(this,U)){if(!L(this,K))return;var e=L(this,B).clientToSvgPoint(t.clientX,t.clientY),n=e.x-L(this,X).x,r=e.y-L(this,X).y;L(this,H).x=n+L(this,G).x,L(this,H).y=r+L(this,G).y,this.updateSVGElement(),t.stopPropagation()}};function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,e,n){return(rt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ct(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ot(t,e){return(ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function it(t,e){return!e||"object"!==et(e)&&"function"!=typeof e?ut(t):e}function ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ct(t){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var at=new WeakMap,ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ot(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ct(r);if(o){var n=ct(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return it(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),e=i.call(this,t),at.set(ut(e),{writable:!0,value:void 0}),function(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}}(ut(e),at,t),e}return e=u,(n=[{key:"setup",value:function(){this.moveable=!1,rt(ct(u.prototype),"setup",this).call(this)}},{key:"socket",get:function(){return function(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}(this,at)}}])&&nt(e.prototype,n),u}(q);function lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var st,pt,yt,ht=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"NODE_WIDTH",get:function(){return 200}},{key:"NODE_BORDER_RADIUS",get:function(){return 15}},{key:"NODE_FILL_COLOR",get:function(){return"#FAD7A0"}},{key:"NODE_STROKE_COLOR",get:function(){return"#FAD7A0"}},{key:"NODE_STROKE_WIDTH",get:function(){return 3}},{key:"NODE_TITLE_COLOR",get:function(){return"black"}},{key:"NODE_TITLE_FONT",get:function(){return"bold 18px verdana"}},{key:"NODE_SYMBOL_STROKE_WIDTH",get:function(){return 3}},{key:"NODE_SYMBOL_STROKE_COLOR",get:function(){return"#FEF9E7"}},{key:"NODE_SYMBOL_FILL_COLOR",get:function(){return"#FEF9E7"}},{key:"NODE_PREV_NEXT_STROKE_WIDTH",get:function(){return 2}},{key:"NODE_PREV_NEXT_STROKE_COLOR",get:function(){return"#31A200"}},{key:"NODE_PREV_NEXT_FILL_COLOR",get:function(){return"#31A200"}},{key:"NODE_PREV_NEXT_NAME_FONT",get:function(){return"bold 11px verdana"}},{key:"NODE_PREV_NEXT_NAME_COLOR",get:function(){return"bold 11px black"}},{key:"NODE_IO_STROKE_WIDTH",get:function(){return 2}},{key:"NODE_IO_STROKE_COLOR",get:function(){return"#008EBF"}},{key:"NODE_IO_FILL_COLOR",get:function(){return"#008EBF"}},{key:"NODE_IO_NAME_FONT",get:function(){return"bold 11px verdana"}},{key:"NODE_IO_NAME_COLOR",get:function(){return"bold 11px black"}}])&&lt(e.prototype,n),t}();function bt(t){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wt(t,e){return(wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dt(t,e){return!e||"object"!==bt(e)&&"function"!=typeof e?Ot(t):e}function Ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gt(t,e,n){return(gt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}st=ht,pt="current",yt=new ht,pt in st?Object.defineProperty(st,pt,{value:yt,enumerable:!0,configurable:!0,writable:!0}):st[pt]=yt;var Et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mt(r);if(o){var n=mt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return dt(this,t)});function u(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),gt((e=Ot(n=i.call(this,t)),mt(u.prototype)),"setup",e).call(e),n}return e=u,(n=[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d","\n      M -7 -8\n      L 7 -8\n      L 7 8\n      L -7 8\n      Z\n      "),t.setAttribute("stroke",ht.current.NODE_PREV_NEXT_STROKE_COLOR),t.setAttribute("stroke-width",ht.current.NODE_PREV_NEXT_STROKE_WIDTH),t.setAttribute("fill",ht.current.NODE_PREV_NEXT_FILL_COLOR);var e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");e.style="\n      font: ".concat(ht.current.NODE_PREV_NEXT_NAME_FONT,"; \n      color: ").concat(ht.current.NODE_PREV_NEXT_NAME_COLOR,"; \n      text-align: left;\n      width: ").concat(ht.current.NODE_WIDTH/2-15,"px;\n      height: 30px;\n      line-height: 30px;\n      user-select: none;\n      "),e.innerHTML="".concat(this.socket.name),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("transform","translate(".concat(15,", ",-15,")")),e.setAttribute("width",ht.current.NODE_WIDTH/2-15),e.setAttribute("height",30);var n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.setAttribute("x",0),n.setAttribute("y",0),n.appendChild(t),n.appendChild(e),n}}])&&vt(e.prototype,n),u}(ft);function _t(t){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function St(t,e){return(St=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kt(t,e){return!e||"object"!==_t(e)&&"function"!=typeof e?Dt(t):e}function Dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nt(t,e,n){return(Nt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Tt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Tt(t){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&St(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Tt(r);if(o){var n=Tt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return kt(this,t)});function u(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),Nt((e=Dt(n=i.call(this,t)),Tt(u.prototype)),"setup",e).call(e),n}return e=u,(n=[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d","\n      M -7 -8\n      L 7 -8\n      L 12 0\n      L 7 8\n      L -7 8\n      Z\n      "),t.setAttribute("stroke",ht.current.NODE_PREV_NEXT_STROKE_COLOR),t.setAttribute("stroke-width",ht.current.NODE_PREV_NEXT_STROKE_WIDTH),t.setAttribute("fill",ht.current.NODE_PREV_NEXT_FILL_COLOR);var e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");e.style="\n      font: ".concat(ht.current.NODE_PREV_NEXT_NAME_FONT,"; \n      color: ").concat(ht.current.NODE_PREV_NEXT_NAME_COLOR,"; \n      text-align: right;\n      width: ").concat(ht.current.NODE_WIDTH/2-15,"px;\n      height: 30px;\n      line-height: 30px;\n      user-select: none;\n      "),e.innerHTML="".concat(this.socket.name),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("transform","translate(".concat(-ht.current.NODE_WIDTH/2,", ").concat(-15,")")),e.setAttribute("width",ht.current.NODE_WIDTH/2-15),e.setAttribute("height",30);var n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.setAttribute("x",0),n.setAttribute("y",0),n.appendChild(t),n.appendChild(e),n}}])&&Rt(e.prototype,n),u}(ft);function Pt(t){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xt(t,e){return(xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function It(t,e){return!e||"object"!==Pt(e)&&"function"!=typeof e?Ct(t):e}function Ct(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mt(t,e,n){return(Mt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Lt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Lt(t){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Lt(r);if(o){var n=Lt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return It(this,t)});function u(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),Mt((e=Ct(n=i.call(this,t)),Lt(u.prototype)),"setup",e).call(e),n}return e=u,(n=[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","circle");t.setAttribute("cx",0),t.setAttribute("cy",0),t.setAttribute("r",10),t.setAttribute("stroke-width",ht.current.NODE_IO_STROKE_WIDTH),t.setAttribute("stroke",ht.current.NODE_IO_STROKE_COLOR),t.setAttribute("fill",ht.current.NODE_IO_FILL_COLOR);var e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");e.style="\n      font: ".concat(ht.current.NODE_IO_NAME_FONT,"; \n      color: ").concat(ht.current.NODE_IO_NAME_COLOR,"; \n      text-align: right;\n      width: ").concat(ht.current.NODE_WIDTH-30,"px;\n      height: 30px;\n      line-height: 30px;\n      user-select: none;\n      "),e.innerHTML="".concat(this.socket.name),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("transform","translate(".concat(15-ht.current.NODE_WIDTH,", ").concat(-15,")")),e.setAttribute("width",ht.current.NODE_WIDTH-30),e.setAttribute("height",30);var n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.setAttribute("x",0),n.setAttribute("y",0),n.appendChild(t),n.appendChild(e),n}}])&&At(e.prototype,n),u}(ft);function Bt(t){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ft(t,e){return(Ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ut(t,e){return!e||"object"!==Bt(e)&&"function"!=typeof e?Ht(t):e}function Ht(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kt(t,e,n){return(Kt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Xt(t){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ft(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xt(r);if(o){var n=Xt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ut(this,t)});function u(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),Kt((e=Ht(n=i.call(this,t)),Xt(u.prototype)),"setup",e).call(e),n}return e=u,(n=[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","circle");t.setAttribute("cx",0),t.setAttribute("cy",0),t.setAttribute("r",10),t.setAttribute("stroke-width",ht.current.NODE_IO_STROKE_WIDTH),t.setAttribute("stroke",ht.current.NODE_IO_STROKE_COLOR),t.setAttribute("fill",ht.current.NODE_IO_FILL_COLOR);var e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");e.style="\n    font: ".concat(ht.current.NODE_IO_NAME_FONT,"; \n    color: ").concat(ht.current.NODE_IO_NAME_COLOR,"; \n    text-align: left;\n    width: ").concat(ht.current.NODE_WIDTH/2-15,"px;\n    height: 30px;\n    line-height: 30px;\n    user-select: none;\n    "),e.innerHTML="".concat(this.socket.name),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("transform","translate(".concat(15,", ",-15,")")),e.setAttribute("width",ht.current.NODE_WIDTH/2-15),e.setAttribute("height",30);var n=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");n.style="\n    font: ".concat(ht.current.NODE_IO_NAME_FONT,"; \n    color: ").concat(ht.current.NODE_IO_NAME_COLOR,"; \n    text-align: left;\n    line-height: 30px;\n    user-select: none;\n    "),n.setAttribute("x",0),n.setAttribute("y",0),n.setAttribute("transform","translate(".concat(ht.current.NODE_WIDTH/2,", ").concat(-15,")")),n.setAttribute("width",ht.current.NODE_WIDTH/2-15),n.setAttribute("height",30);var r=document.createElement("input");r.style="\n    font: ".concat(ht.current.NODE_IO_NAME_FONT,"; \n    color: ").concat(ht.current.NODE_IO_NAME_COLOR,"; \n    width: ").concat(ht.current.NODE_WIDTH/2-25,"px; // 5px less than foreignObject\n    height: ",20,"px;\n    border: 0;\n    padding: 2px;\n    margin: 2px;\n    "),r.setAttribute("value",this.socket.value),r.setAttribute("type","text"),n.appendChild(r);var o=document.createElementNS("http://www.w3.org/2000/svg","g");return o.setAttribute("x",0),o.setAttribute("y",0),o.appendChild(t),o.appendChild(e),o.appendChild(n),o}}])&&Vt(e.prototype,n),u}(ft);function Yt(t){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return $t(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$t(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}function $t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qt(t,e){return(qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zt(t,e){return!e||"object"!==Yt(e)&&"function"!=typeof e?Jt(t):e}function Jt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function te(t,e,n){return(te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ee(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ee(t){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ne(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function re(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var oe,ie=new WeakMap,ue=new WeakMap,ce=new WeakMap,ae=new WeakMap,fe=new WeakSet,le=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ee(r);if(o){var n=ee(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return zt(this,t)});function u(t,e){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),r=i.call(this),fe.add(Jt(r)),ie.set(Jt(r),{writable:!0,value:void 0}),ue.set(Jt(r),{writable:!0,value:void 0}),ce.set(Jt(r),{writable:!0,value:void 0}),ae.set(Jt(r),{writable:!0,value:void 0}),re(Jt(r),ie,t),te((n=Jt(r),ee(u.prototype)),"setup",n).call(n),e.addComponent(Jt(r)),function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}(Jt(r),fe,se).call(Jt(r)),r}return e=u,(n=[{key:"createElement",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","g");return re(this,ue,document.createElementNS("http://www.w3.org/2000/svg","path")),re(this,ce,document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),re(this,ae,document.createElementNS("http://www.w3.org/2000/svg","circle")),t.appendChild(ne(this,ue)),t.appendChild(ne(this,ce)),t.appendChild(ne(this,ae)),ne(this,ue).setAttribute("d","\n      M 0 ".concat(1.3*ht.current.NODE_BORDER_RADIUS," \n      A ").concat(1.3*ht.current.NODE_BORDER_RADIUS," ").concat(1.3*ht.current.NODE_BORDER_RADIUS," 0 0 0 ").concat(1.3*ht.current.NODE_BORDER_RADIUS," 0 \n      L ").concat(ht.current.NODE_WIDTH-ht.current.NODE_BORDER_RADIUS," 0 \n      A ").concat(ht.current.NODE_BORDER_RADIUS," ").concat(ht.current.NODE_BORDER_RADIUS," 0 0 1 ").concat(ht.current.NODE_WIDTH," ").concat(ht.current.NODE_BORDER_RADIUS," \n      L ").concat(ht.current.NODE_WIDTH," ").concat(this.height-ht.current.NODE_BORDER_RADIUS," \n      A ").concat(ht.current.NODE_BORDER_RADIUS," ").concat(ht.current.NODE_BORDER_RADIUS," 0 0 1 ").concat(ht.current.NODE_WIDTH-ht.current.NODE_BORDER_RADIUS," ").concat(this.height," \n      L ").concat(ht.current.NODE_BORDER_RADIUS," ").concat(this.height," \n      A ").concat(ht.current.NODE_BORDER_RADIUS," ").concat(ht.current.NODE_BORDER_RADIUS," 0 0 1 0 ").concat(this.height-ht.current.NODE_BORDER_RADIUS," \n      Z\n      ")),ne(this,ce).innerHTML=this.node.name,ne(this,ce).style="font: ".concat(ht.current.NODE_TITLE_FONT,"; color: ").concat(ht.current.NODE_TITLE_COLOR,"; text-align: center; user-select: none"),ne(this,ce).setAttribute("x",.5*ht.current.NODE_BORDER_RADIUS),ne(this,ce).setAttribute("y",.5*ht.current.NODE_BORDER_RADIUS),ne(this,ce).setAttribute("width",ht.current.NODE_WIDTH-.5*ht.current.NODE_BORDER_RADIUS*2),ne(this,ce).setAttribute("height",20),ne(this,ue).setAttribute("stroke",ht.current.NODE_STROKE_COLOR),ne(this,ue).setAttribute("stroke-width",ht.current.NODE_STROKE_WIDTH),ne(this,ue).setAttribute("fill",ht.current.NODE_FILL_COLOR),ne(this,ue).setAttribute("x","0"),ne(this,ue).setAttribute("y","0"),ne(this,ae).setAttribute("cx",0),ne(this,ae).setAttribute("cy",0),ne(this,ae).setAttribute("r",.9*ht.current.NODE_BORDER_RADIUS),ne(this,ae).setAttribute("stroke",ht.current.NODE_SYMBOL_STROKE_COLOR),ne(this,ae).setAttribute("stroke-width",ht.current.NODE_SYMBOL_STROKE_WIDTH),ne(this,ae).setAttribute("fill",ht.current.NODE_SYMBOL_FILL_COLOR),t.setAttribute("x","0"),t.setAttribute("y","0"),t}},{key:"node",get:function(){return ne(this,ie)}},{key:"height",get:function(){return.5*ht.current.NODE_BORDER_RADIUS+40+30*Math.max(1,this.node.nexts.length)+30*Math.max(0,this.node.outputs.length)+30*Math.max(0,this.node.inputs.length)+15}}])&&Zt(e.prototype,n),u}(q),se=function(){var t=40+.5*ht.current.NODE_BORDER_RADIUS;if(this.node.prev){var e=new Et(this.node.prev);e.pos=new x(0,t),this.addComponent(e)}var n,r=Qt(this.node.nexts);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=new jt(o);i.pos=new x(ht.current.NODE_WIDTH,t),this.addComponent(i),t+=30}}catch(t){r.e(t)}finally{r.f()}var u,c=Qt(this.node.outputs);try{for(c.s();!(u=c.n()).done;){var a=u.value,f=new Wt(a);f.pos=new x(ht.current.NODE_WIDTH,t),this.addComponent(f),t+=30}}catch(t){c.e(t)}finally{c.f()}var l,s=Qt(this.node.inputs);try{for(s.s();!(l=s.n()).done;){var p=l.value,y=new Gt(p);y.pos=new x(0,t),this.addComponent(y),t+=30}}catch(t){s.e(t)}finally{s.f()}},pe=new Uint8Array(16);function ye(){if(!oe&&!(oe="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oe(pe)}const he=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,be=function(t){return"string"==typeof t&&he.test(t)};for(var ve=[],we=0;we<256;++we)ve.push((we+256).toString(16).substr(1));const de=function(t,e,n){var r=(t=t||{}).random||(t.rng||ye)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ve[t[e+0]]+ve[t[e+1]]+ve[t[e+2]]+ve[t[e+3]]+"-"+ve[t[e+4]]+ve[t[e+5]]+"-"+ve[t[e+6]]+ve[t[e+7]]+"-"+ve[t[e+8]]+ve[t[e+9]]+"-"+ve[t[e+10]]+ve[t[e+11]]+ve[t[e+12]]+ve[t[e+13]]+ve[t[e+14]]+ve[t[e+15]]).toLowerCase();if(!be(n))throw TypeError("Stringified UUID is invalid");return n}(r)};function Oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ee(t,e,n){return e&&me(t.prototype,e),n&&me(t,n),t}function _e(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function Re(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var Se=new WeakMap,ke=new WeakMap,De=new WeakMap,Ne=new WeakMap,Te=new WeakMap,je=new WeakMap,Pe=new WeakMap,Ae=new WeakMap,xe=function(){function t(e){ge(this,t),Se.set(this,{writable:!0,value:de()}),ke.set(this,{writable:!0,value:""}),De.set(this,{writable:!0,value:!1}),Ne.set(this,{writable:!0,value:[]}),Te.set(this,{writable:!0,value:[]}),je.set(this,{writable:!0,value:[]}),Pe.set(this,{writable:!0,value:null}),Ae.set(this,{writable:!0,value:null}),Re(this,ke,e)}return Ee(t,[{key:"input",value:function(t){return this.inputs.find((function(e){return e.name===t}))}},{key:"output",value:function(t){return this.outputs.find((function(e){return e.name===t}))}},{key:"next",value:function(t){return t?this.nexts.find((function(e){return e.name===t})):this.nexts[0]}},{key:"evaluateInputs",value:function(){var t,e=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Oe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}(this.inputs);try{for(e.s();!(t=e.n()).done;)t.value.evaluate()}catch(t){e.e(t)}finally{e.f()}}},{key:"getFlowResult",value:function(t){return t.peer?new Ce(t.peer.node):new Ce}},{key:"toString",value:function(){return"N('"+_e(this,ke)+"',"+_e(this,Ne).length+"i,"+_e(this,Te).length+"o,"+_e(this,je).length+"n)"}},{key:"process",value:function(){return new Ce}},{key:"id",get:function(){return _e(this,Se)}},{key:"name",get:function(){return _e(this,ke)},set:function(t){Re(this,ke,t)}},{key:"functional",get:function(){return _e(this,De)},set:function(t){Re(this,De,t)}},{key:"inputs",get:function(){return _e(this,Ne)},set:function(t){Re(this,Ne,t)}},{key:"outputs",get:function(){return _e(this,Te)},set:function(t){Re(this,Te,t)}},{key:"nexts",get:function(){return _e(this,je)},set:function(t){Re(this,je,t)}},{key:"prev",get:function(){return _e(this,Pe)},set:function(t){Re(this,Pe,t)}},{key:"program",get:function(){return _e(this,Ae)},set:function(t){Re(this,Ae,t)}}]),t}(),Ie=new WeakMap,Ce=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;ge(this,t),Ie.set(this,{writable:!0,value:null}),Re(this,Ie,e)}return Ee(t,[{key:"next",get:function(){return _e(this,Ie)},set:function(t){Re(this,Ie,t)}}]),t}();function Me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Le(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function We(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var Be={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",OBJECT:"object",ANY:"any"},Ve=new WeakMap,Fe=new WeakMap,Ue=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ve.set(this,{writable:!0,value:Be.NUMBER}),Fe.set(this,{writable:!0,value:!1}),We(this,Ve,e),We(this,Fe,n)}var e,n;return e=t,(n=[{key:"type",get:function(){return Le(this,Ve)},set:function(t){We(this,Ve,t)}},{key:"isArray",get:function(){return Le(this,Fe)},set:function(t){We(this,Fe,t)}}])&&Me(e.prototype,n),t}();function He(t,e){return new Ue(t,e)}function Ke(t){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xe(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ge(t,e)}function Ge(t,e){return(Ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ze(t);if(e){var o=Ze(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qe(this,n)}}function Qe(t,e){return!e||"object"!==Ke(e)&&"function"!=typeof e?$e(t):e}function $e(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ze(t){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Je(t,e,n){return e&&ze(t.prototype,e),n&&ze(t,n),t}function tn(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function en(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var nn=new WeakMap,rn=new WeakMap,on=new WeakMap,un=function(){function t(e,n){qe(this,t),nn.set(this,{writable:!0,value:""}),rn.set(this,{writable:!0,value:""}),on.set(this,{writable:!0,value:null}),en(this,nn,de()),en(this,rn,e),en(this,on,n)}return Je(t,[{key:"id",get:function(){return tn(this,nn)}},{key:"name",get:function(){return tn(this,rn)},set:function(t){en(this,rn,t)}},{key:"node",get:function(){return tn(this,on)},set:function(t){en(this,on,t)}}]),t}(),cn=new WeakMap,an=new WeakMap,fn=function(t){Xe(n,t);var e=Ye(n);function n(t,r){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i(Be.NUMBER,!1);return qe(this,n),o=e.call(this,t,r),cn.set($e(o),{writable:!0,value:He(Be.NUMBER,!1)}),an.set($e(o),{writable:!0,value:0}),o}return Je(n,[{key:"type",get:function(){return tn(this,cn)},set:function(t){en(this,cn,t)}},{key:"value",get:function(){return tn(this,an)},set:function(t){en(this,an,t)}}]),n}(un),ln=new WeakMap,sn=function(t){Xe(n,t);var e=Ye(n);function n(t,r,o,i){var u;return qe(this,n),u=e.call(this,t,r,o,i),ln.set($e(u),{writable:!0,value:null}),u}return Je(n,[{key:"evaluate",value:function(){null!==this.peer&&(this.peer.node&&this.peer.node.functional&&this.peer.node.process(),this.type=this.peer.type,this.value=this.peer.value)}},{key:"connect",value:function(t){var e=this;this.peer=t,void 0===t.peers.find((function(t){return t.peer===e}))&&t.peers.push(this)}},{key:"disconnect",value:function(t){var e=this;this.peer=null;var n=t.peers.findIndex((function(t){return t.peer===e}));-1!==n&&t.peers.splice(n,1)}},{key:"peer",get:function(){return tn(this,ln)},set:function(t){en(this,ln,t)}}]),n}(fn),pn=new WeakMap,yn=function(t){Xe(n,t);var e=Ye(n);function n(t,r,o,i){var u;return qe(this,n),u=e.call(this,t,r,i,o),pn.set($e(u),{writable:!0,value:[]}),u}return Je(n,[{key:"connect",value:function(t){void 0===this.peers.find((function(e){return e.peer===t}))&&this.peers.push(t),t.peer=this}},{key:"disconnect",value:function(t){var e=this.peers.find((function(e){return e.peer===t}));void 0!==e&&(this.peers.splice(e,1),t.peer=null)}},{key:"peers",get:function(){return tn(this,pn)},set:function(t){en(this,pn,t)}}]),n}(fn),hn=function(t){Xe(n,t);var e=Ye(n);function n(t,r){return qe(this,n),e.call(this,t,r)}return n}(un),bn=new WeakMap,vn=function(t){Xe(n,t);var e=Ye(n);function n(t,r){var o;return qe(this,n),o=e.call(this,t,r),bn.set($e(o),{writable:!0,value:[]}),o}return Je(n,[{key:"connect",value:function(t){void 0===this.peers.find((function(e){return e.peer===t}))&&this.peers.push(t),t.peer=this}},{key:"disconnect",value:function(t){var e=this.peers.find((function(e){return e.peer===t}));void 0!==e&&(this.peers.splice(e,1),t.peer=null)}},{key:"peers",get:function(){return tn(this,bn)},set:function(t){en(this,bn,t)}}]),n}(hn),wn=new WeakMap,dn=function(t){Xe(n,t);var e=Ye(n);function n(t,r){var o;return qe(this,n),o=e.call(this,t,r),wn.set($e(o),{writable:!0,value:null}),o}return Je(n,[{key:"connect",value:function(t){var e=this;this.peer=t,void 0===t.peers.find((function(t){return t.peer===e}))&&t.peers.push(this)}},{key:"disconnect",value:function(t){var e=this;this.peer=null;var n=t.peers.findIndex((function(t){return t.peer===e}));-1!==n&&t.peers.splice(n,1)}},{key:"peer",get:function(){return tn(this,wn)},set:function(t){en(this,wn,t)}}]),n}(hn);function On(t){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mn(t,e){return(mn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function En(t,e){return!e||"object"!==On(e)&&"function"!=typeof e?_n(t):e}function _n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rn(t){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Sn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mn(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Rn(r);if(o){var n=Rn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return En(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"Call")).inputs=[],t.outputs=[],t.nexts=[new dn("Out",_n(t)),new dn("Call",_n(t))],t.prev=new vn("In",_n(t)),t}return e=u,(n=[{key:"process",value:function(){var t=this.program.currentNode;return this.program.processFrom(this.next("Call").peer.node),this.program.currentNode=t,this.getFlowResult(this.next("Out"))}}])&&gn(e.prototype,n),u}(xe);function kn(){return new Sn}function Dn(t){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tn(t,e){return(Tn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jn(t,e){return!e||"object"!==Dn(e)&&"function"!=typeof e?Pn(t):e}function Pn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function An(t){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tn(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=An(r);if(o){var n=An(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return jn(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"Console")).inputs=[new sn("Val",Pn(t),He(Be.ANY,!1),0)],t.outputs=[],t.nexts=[new dn("Out",Pn(t))],t.prev=new vn("In",Pn(t)),t}return e=u,(n=[{key:"process",value:function(){return this.evaluateInputs(),console.log(this.input("Val").value),new Ce,this.getFlowResult(this.next("Out"))}}])&&Nn(e.prototype,n),u}(xe);function In(){return new xn}function Cn(t){return(Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ln(t,e){return(Ln=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wn(t,e){return!e||"object"!==Cn(e)&&"function"!=typeof e?Bn(t):e}function Bn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vn(t){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ln(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(r);if(o){var n=Vn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Wn(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"FGetvar")).functional=!0,t.inputs=[new sn("Name",Bn(t),Cn(""),"")],t.outputs=[new yn("Val",Bn(t),Cn(""),"")],t.nexts=[],t.prev=null,t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();var t=this.input("Name").value;this.output("Val").value=this.program.vars.get(t)}}])&&Mn(e.prototype,n),u}(xe);function Un(){return new Fn}function Hn(t){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xn(t,e){return(Xn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gn(t,e){return!e||"object"!==Hn(e)&&"function"!=typeof e?Yn(t):e}function Yn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qn(t){return(Qn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $n=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xn(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qn(r);if(o){var n=Qn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Gn(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"For")).inputs=[new sn("From",Yn(t),new Ue(Be.NUMBER,!1),!1),new sn("To",Yn(t),new Ue(Be.NUMBER,!1),!1)],t.outputs=[new yn("Index",Yn(t),new Ue(Be.NUMBER,!1),!1)],t.nexts=[new dn("Out",Yn(t)),new dn("Do",Yn(t))],t.prev=new vn("In",Yn(t)),t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();for(var t=this.program.currentNode,e=this.input("From").value;e<this.input("To").value;e++)null!==this.next("Do").peer&&null!==this.next("Do").peer.node&&(this.output("Index").value=e,this.program.processFrom(this.next("Do").peer.node));return this.program.currentNode=t,this.getFlowResult(this.next("Out"))}}])&&Kn(e.prototype,n),u}(xe);function Zn(){return new $n}function qn(t){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jn(t,e){return(Jn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tr(t,e){return!e||"object"!==qn(e)&&"function"!=typeof e?er(t):e}function er(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nr(t){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jn(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=nr(r);if(o){var n=nr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return tr(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"Getvar")).inputs=[new sn("Name",er(t),qn(""),"")],t.outputs=[new yn("Val",er(t),qn(""),"")],t.nexts=[new dn("Out",er(t))],t.prev=new vn("In",er(t)),t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();var t=this.input("Name").value;return this.output("Val").value=this.program.vars.get(t),this.getFlowResult(this.next("Out"))}}])&&zn(e.prototype,n),u}(xe);function or(){return new rr}function ir(t){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ur(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cr(t,e){return(cr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ar(t,e){return!e||"object"!==ir(e)&&"function"!=typeof e?fr(t):e}function fr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lr(t){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var sr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lr(r);if(o){var n=lr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ar(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"Setvar")).inputs=[new sn("Name",fr(t),ir(""),""),new sn("Val",fr(t),ir(""),"")],t.outputs=[new yn("Val",fr(t),ir(""),"")],t.nexts=[new dn("Out",fr(t))],t.prev=new vn("In",fr(t)),t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();var t=this.input("Name").value,e=this.input("Val").value;return this.program.vars.set(t,e),this.output("Val").value=e,this.getFlowResult(this.next("Out"))}}])&&ur(e.prototype,n),u}(xe);function pr(){return new sr}function yr(t){return(yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function br(t,e){return(br=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vr(t,e){return!e||"object"!==yr(e)&&"function"!=typeof e?wr(t):e}function wr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dr(t){return(dr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Or=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&br(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=dr(r);if(o){var n=dr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return vr(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"While")).inputs=[new sn("Condition",wr(t),new Ue(Be.BOOLEAN,!1),!1)],t.outputs=[new yn("Index",wr(t),new Ue(Be.NUMBER,!1),!1)],t.nexts=[new dn("Out",wr(t)),new dn("Do",wr(t))],t.prev=new vn("In",wr(t)),t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();for(var t=this.program.currentNode;this.input("Condition").value;)null!==this.nexts("Do").peer&&null!==this.nexts("Do").peer.node&&(this.output("Index").value=0,this.program.processFrom(this.next("Do").peer.node),this.evaluateInputs());return this.program.currentNode=t,this.getFlowResult(this.next("Out"))}}])&&hr(e.prototype,n),u}(xe);function gr(){return new Or}function mr(t){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Er(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _r(t,e){return(_r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rr(t,e){return!e||"object"!==mr(e)&&"function"!=typeof e?Sr(t):e}function Sr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kr(t){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_r(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=kr(r);if(o){var n=kr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Rr(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"If")).inputs=[new sn("Condition",Sr(t),new Ue(Be.BOOLEAN,!1),!1)],t.outputs=[],t.nexts=[new dn("Then",Sr(t)),new dn("Else",Sr(t))],t.prev=new vn("In",Sr(t)),t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();var t;return t=this.input("Condition").value?this.next("Then"):this.next("Else"),this.getFlowResult(t)}}])&&Er(e.prototype,n),u}(xe);function Nr(){return new Dr}function Tr(t){return(Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ar(t,e){return(Ar=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xr(t,e){return!e||"object"!==Tr(e)&&"function"!=typeof e?Ir(t):e}function Ir(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cr(t){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Mr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ar(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Cr(r);if(o){var n=Cr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return xr(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"FAdd")).functional=!0,t.inputs=[new sn("Val1",Ir(t),He(Be.NUMBER,!1),0),new sn("Val2",Ir(t),He(Be.NUMBER,!1),0)],t.outputs=[new yn("Val",Ir(t),He(Be.NUMBER,!1),0)],t.prev=null,t.nexts=[],t}return e=u,(n=[{key:"process",value:function(){var t=0;this.evaluateInputs();var e,n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return jr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jr(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}(this.inputs);try{for(n.s();!(e=n.n()).done;)t+=e.value.value}catch(t){n.e(t)}finally{n.f()}this.output("Val").value=t}}])&&Pr(e.prototype,n),u}(xe);function Lr(){return new Mr}function Wr(t){return(Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Br(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vr(t,e){return(Vr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fr(t,e){return!e||"object"!==Wr(e)&&"function"!=typeof e?Ur(t):e}function Ur(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hr(t){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Kr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Hr(r);if(o){var n=Hr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Fr(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"FDiv")).functional=!0,t.inputs=[new sn("Val1",Ur(t),He(Be.NUMBER,!1),0),new sn("Val2",Ur(t),He(Be.NUMBER,!1),0)],t.outputs=[new yn("Val",Ur(t),He(Be.NUMBER,!1),0)],t.prev=null,t.nexts=[],t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs(),this.output("Val").value=this.input("Val1").value/this.input("Val2").value}}])&&Br(e.prototype,n),u}(xe);function Xr(){return new Kr}function Gr(t){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $r(t,e){return($r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zr(t,e){return!e||"object"!==Gr(e)&&"function"!=typeof e?qr(t):e}function qr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zr(t){return(zr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Jr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$r(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=zr(r);if(o){var n=zr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Zr(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,"FMul")).functional=!0,t.inputs=[new sn("Val1",qr(t),He(Be.NUMBER,!1),0),new sn("Val2",qr(t),He(Be.NUMBER,!1),0)],t.outputs=[new yn("Val",qr(t),He(Be.NUMBER,!1),0)],t.prev=null,t.nexts=[],t}return e=u,(n=[{key:"process",value:function(){var t=0;this.evaluateInputs();var e,n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Yr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yr(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}(this.inputs);try{for(n.s();!(e=n.n()).done;)t*=e.value.value}catch(t){n.e(t)}finally{n.f()}this.output("Val").value=t}}])&&Qr(e.prototype,n),u}(xe);function to(){return new Jr}function eo(t){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function no(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ro(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oo(t,e){return(oo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function io(t,e){return!e||"object"!==eo(e)&&"function"!=typeof e?uo(t):e}function uo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function co(t){return(co=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ao={EQUAL:"equal",GT:"gt",GTE:"gte",LT:"lt",LTE:"lte",NOT_EQUAL:"not_equal"},fo=new WeakMap,lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oo(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=co(r);if(o){var n=co(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return io(this,t)});function u(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ao.EQUAL;return no(this,u),t=i.call(this,"FCompare"),fo.set(uo(t),{writable:!0,value:ao.EQUAL}),t.comparision=e,t.functional=!0,t.inputs=[new sn("Val1",uo(t),He(Be.NUMBER,!1),0),new sn("Val2",uo(t),He(Be.NUMBER,!1),0)],t.outputs=[new yn("Val",uo(t),He(Be.BOOLEAN,!1),0)],t.prev=null,t.nexts=[],t}return e=u,(n=[{key:"process",value:function(){this.evaluateInputs();var t,e=this.input("Val1").value,n=this.input("Val2").value;switch(this.comparision){case ao.EQUAL:t=e===n,bresk;case ao.NOT_EQUAL:t=e!==n;break;case ao.GT:t=e>n;break;case ao.GTE:t=e>=n;break;case ao.LT:t=e<n;break;case ao.LTE:t=e<=n;break;default:throw"Comparision type not valid"}this.output("Val").value=t}},{key:"comparision",get:function(){return function(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}(this,fo)},set:function(t){!function(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}}(this,fo,t)}}])&&ro(e.prototype,n),u}(xe);function so(){return new lo}function po(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yo(t,e,n){if(t!==e)throw new TypeError("Private static access of wrong provenance");return n.get?n.get.call(t):n.value}var ho=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"init",value:function(){t.registerNode("call","Core",kn),t.registerNode("console","Core",In),t.registerNode("fgetvar","Core",Un),t.registerNode("for","Core",Zn),t.registerNode("getvar","Core",or),t.registerNode("if","Core",Nr),t.registerNode("setvar","Core",pr),t.registerNode("while","Core",gr),t.registerNode("fadd","Math",Lr),t.registerNode("fdiv","Math",Xr),t.registerNode("fmul","Math",to),t.registerNode("fcompare","Boolean",so)}},{key:"registerNode",value:function(e,n,r){yo(t,t,bo).set(e,{category:n,factory:r})}},{key:"getCategories",value:function(){var e=new Map;return Array.from(yo(this,t,bo).values()).forEach((function(t){e.set(t.category,0)})),Array.from(e.keys())}},{key:"getCategoryNodes",value:function(e){var n=[];return Array.from(yo(this,t,bo).entries()).forEach((function(t){t[1].category===e&&n.push({name:t[0],category:t[1].category,factory:t[1].factory})})),n}},{key:"getInstance",value:function(e){var n=yo(this,t,bo).get(e);return n?n.factory():null}}],null&&po(e.prototype,null),n&&po(e,n),t}(),bo={writable:!0,value:new Map};function vo(t){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oo(t,e){return(Oo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function go(t,e){return!e||"object"!==vo(e)&&"function"!=typeof e?mo(t):e}function mo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Eo(t){return(Eo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _o(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}function Ro(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}var So=new WeakMap,ko=new WeakMap,Do=new WeakMap,No=new WeakMap,To=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oo(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Eo(r);if(o){var n=Eo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return go(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),e=i.call(this,t),So.set(mo(e),{writable:!0,value:new Map}),ko.set(mo(e),{writable:!0,value:null}),Do.set(mo(e),{writable:!0,value:null}),No.set(mo(e),{writable:!0,value:new Map}),e}return e=u,(n=[{key:"addNode",value:function(t,e){return Ro(this,So).set(t.id,t),e&&_o(this,ko,t),t.program=this,this}},{key:"removeNode",value:function(t){return this.start&&this.start.id===t.id&&(this.start=null),Ro(this,So).delete(t.id),t.program=null,this}},{key:"clear",value:function(){return _o(this,So,[]),this}},{key:"toString",value:function(){return"P{'"+this.name+"',{"+Array.from(Ro(this,So).values()).reduce((function(t,e,n,r){return t+e.toString()+(n<r.length-1?",":"")}),"")+"}"}},{key:"process",value:function(){return Ro(this,ko)&&this.processFrom(Ro(this,ko)),new Ce}},{key:"processFrom",value:function(t){for(this.currentNode=t;null!==this.currentNode;){var e=this.currentNode.process();this.currentNode=e.next}}},{key:"vars",get:function(){return Ro(this,No)},set:function(t){_o(this,No,t)}},{key:"start",get:function(){return Ro(this,ko)},set:function(t){_o(this,ko,t)}},{key:"currentNode",get:function(){return Ro(this,Do)},set:function(t){_o(this,Do,t)}},{key:"nodes",get:function(){return Ro(this,So)},set:function(t){_o(this,So,t)}}])&&wo(e.prototype,n),u}(xe);function jo(t){return new To(t)}function Po(t){var e=document.getElementById(t);return e?(ho.init(),new m(e)):(console.log("No element with id '".concat(t,"'")),null)}}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}return n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(529)})();